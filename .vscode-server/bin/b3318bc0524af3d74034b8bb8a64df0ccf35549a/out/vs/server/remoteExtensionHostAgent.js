/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var he=["require","exports","vs/base/common/lifecycle","vs/base/common/path","vs/base/common/platform","vs/base/common/uri","vs/base/common/event","vs/platform/instantiation/common/instantiation","vs/base/common/network","vs/nls","vs/nls!vs/server/remoteExtensionHostAgent","vs/base/common/errors","vs/base/common/types","vs/base/common/async","vs/platform/log/common/log","vs/base/common/strings","vs/base/node/pfs","vs/base/common/buffer","vs/base/common/arrays","vs/platform/files/common/files","vs/base/common/objects","vs/base/common/resources","vs/base/common/process","vs/base/common/cancellation","vs/base/common/uuid","os","vs/platform/environment/common/environment","vs/platform/configuration/common/configuration","vs/base/common/map","vs/base/common/extpath","fs","vs/platform/extensionManagement/common/extensionManagement","vs/platform/registry/common/platform","vs/platform/telemetry/common/telemetry","vs/platform/extensionManagement/common/extensionManagementUtil","vs/base/parts/ipc/common/ipc","vs/base/common/errorMessage","vs/platform/product/common/productService","vs/base/common/json","vs/base/common/codicons","child_process","vs/platform/configuration/common/configurationRegistry","vs/platform/telemetry/common/telemetryUtils","vs/server/remoteUriTransformer","vs/base/common/stream","vs/base/common/performance","vs/platform/files/common/watcher","vs/platform/product/common/product","vs/platform/extensions/common/extensions","vs/base/common/iterator","vs/base/common/marshalling","vs/base/parts/ipc/node/ipc.cp","vs/base/common/semver/semver","vs/platform/request/common/request","vs/base/parts/ipc/node/ipc.net","vs/base/common/glob","vs/base/common/labels","vs/base/common/mime","vs/base/common/uriIpc","vs/editor/common/core/range","vs/base/node/processes","vs/platform/environment/node/argv","vs/platform/extensions/common/extensionValidator","vs/platform/instantiation/common/descriptors","vs/platform/contextkey/common/contextkey","vs/platform/download/common/download","vs/platform/environment/node/shellEnv","vs/platform/instantiation/common/serviceCollection","vs/platform/localizations/common/localizations","vs/platform/files/node/diskFileSystemProvider","crypto","url","vs/server/serverEnvironmentService","vs/base/node/zip","vs/base/common/decorators","vs/base/common/functional","vs/base/common/processes","vs/base/common/htmlContent","vs/base/common/normalization","vs/base/common/severity","vs/base/common/console","vs/base/node/id","net","vs/base/node/powershell","vs/base/node/ps","vs/base/parts/ipc/common/ipc.net","vs/editor/common/core/position","vs/platform/environment/common/environmentService","vs/platform/files/common/io","vs/platform/instantiation/common/instantiationService","vs/platform/files/common/fileService","vs/platform/log/common/logIpc","vs/platform/log/node/spdlogLog","vs/platform/configuration/common/configurationService","vs/platform/remote/common/remoteAuthorityResolver","vs/platform/remote/common/remoteHosts","vs/platform/extensionManagement/common/extensionManagementCLIService","vs/platform/localizations/node/localizations","vs/platform/extensionManagement/common/extensionGalleryService","vs/platform/terminal/common/terminal","vs/platform/theme/common/themeService","vs/platform/workspace/common/workspace","vs/server/remoteLanguagePacks","vs/workbench/api/common/extHostTestingPrivateApi","vs/workbench/api/common/extHostTypes","vs/workbench/common/editor","vs/workbench/contrib/terminal/common/environmentVariable","vs/workbench/contrib/terminal/common/environmentVariableShared","vs/workbench/services/editor/common/editorService","vs/workbench/services/extensions/common/proxyIdentifier","vs/workbench/services/remote/common/remoteAgentService","vs/platform/extensionManagement/node/extensionManagementService","vs/platform/request/node/requestService","vs/server/extensionHostConnection","vs/base/common/amd","vs/base/common/assert","vs/base/common/jsonFormatter","vs/base/common/jsonEdit","vs/base/common/linkedList","vs/base/common/numbers","vs/base/common/stopwatch","vs/base/common/hash","vs/base/common/filters","vs/base/common/iconLabels","vs/base/node/decoder","vs/base/node/languagePacks","path","vs/base/node/macAddress","util","vs/base/node/extpath","vs/base/node/ports","vs/base/node/watcher","vs/base/parts/storage/common/storage","vs/editor/common/modes/languageSelector","vs/editor/common/modes/tokenizationRegistry","vs/nls!vs/base/common/date","vs/base/common/date","vs/nls!vs/base/common/errorMessage","vs/nls!vs/base/common/jsonErrorMessages","vs/base/common/jsonErrorMessages","vs/nls!vs/base/node/processes","vs/base/node/shell","vs/nls!vs/base/node/zip","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/environment/node/argv","vs/nls!vs/platform/environment/node/argvHelper","vs/nls!vs/platform/environment/node/shellEnv","vs/nls!vs/platform/extensionManagement/common/abstractExtensionManagementService","vs/nls!vs/platform/extensionManagement/common/extensionManagement","vs/nls!vs/platform/extensionManagement/common/extensionManagementCLIService","vs/nls!vs/platform/extensionManagement/node/extensionManagementService","vs/nls!vs/platform/extensionManagement/node/extensionManagementUtil","vs/nls!vs/platform/extensionManagement/node/extensionsScanner","vs/nls!vs/platform/extensions/common/extensionValidator","vs/nls!vs/platform/files/common/fileService","vs/nls!vs/platform/files/common/files","vs/nls!vs/platform/files/common/io","vs/nls!vs/platform/files/node/diskFileSystemProvider","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/request/common/request","vs/nls!vs/platform/telemetry/common/telemetryService","vs/nls!vs/platform/terminal/common/terminalPlatformConfiguration","vs/nls!vs/platform/workspaces/common/workspaces","vs/nls!vs/server/remoteAgentEnvironmentImpl","vs/nls!vs/server/serverEnvironmentService","vs/nls!vs/workbench/common/editor","vs/nls!vs/workbench/services/configurationResolver/common/variableResolver","vs/nls!vs/workbench/services/extensions/node/extensionPoints","vs/platform/debug/common/extensionHostDebugIpc","vs/platform/download/common/downloadIpc","vs/platform/editor/common/editor","vs/platform/environment/node/userDataPath","vs/platform/environment/node/environmentService","vs/platform/extensionManagement/common/extensionNls","vs/platform/files/node/diskFileSystemProviderIpc","vs/platform/instantiation/common/graph","vs/editor/common/services/modelService","vs/editor/common/modes/languageFeatureRegistry","vs/editor/common/modes","vs/platform/diagnostics/common/diagnostics","vs/platform/extensionManagement/common/extensionManagementIpc","vs/platform/environment/node/argvHelper","vs/platform/files/common/ipcFileSystemProvider","vs/platform/files/node/watcher/nodejs/watcherService","vs/platform/files/node/watcher/nsfw/watcherService","vs/platform/files/node/watcher/parcel/watcherService","vs/platform/files/node/watcher/unix/watcherService","vs/platform/label/common/label","vs/platform/extensionManagement/node/extensionLifecycle","vs/platform/files/common/diskFileSystemProvider","vs/platform/markers/common/markers","vs/platform/notification/common/notification","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/platform/configuration/common/configurationModels","vs/platform/extensionManagement/node/extensionDownloader","vs/platform/extensionManagement/node/extensionsManifestCache","vs/platform/extensionManagement/node/extensionsWatcher","vs/platform/download/common/downloadService","vs/platform/request/common/requestIpc","vs/platform/request/node/proxy","vs/platform/serviceMachineId/common/serviceMachineId","vs/platform/storage/common/storage","vs/platform/telemetry/common/commonProperties","vs/platform/telemetry/common/errorTelemetry","vs/platform/diagnostics/node/diagnosticsService","vs/platform/extensionManagement/common/abstractExtensionManagementService","vs/platform/telemetry/common/telemetryService","vs/platform/telemetry/node/appInsightsAppender","vs/platform/telemetry/node/errorTelemetry","vs/platform/terminal/common/requestStore","vs/platform/terminal/node/terminalEnvironment","vs/platform/theme/common/theme","vs/platform/terminal/common/terminalProfiles","vs/platform/terminal/common/terminalPlatformConfiguration","vs/platform/terminal/node/terminalProfiles","vs/platform/terminal/node/ptyHostService","vs/platform/workspaces/common/workspaces","vs/server/remoteExtensionManagement","vs/server/remoteTelemetryService","vs/server/remoteFileSystemProviderIpc","vs/server/webClientServer","vs/workbench/api/common/extHostRpcService","vs/workbench/contrib/notebook/common/notebookCommon","vs/workbench/contrib/terminal/common/environmentVariableCollection","vs/workbench/contrib/terminal/common/terminalEnvironment","vs/workbench/contrib/testing/common/testId","vs/workbench/services/configuration/common/configuration","vs/workbench/services/configurationResolver/common/configurationResolver","vs/workbench/services/configurationResolver/common/variableResolver","vs/workbench/services/editor/common/editorGroupsService","vs/workbench/api/common/extHostTypeConverters","vs/workbench/contrib/terminal/common/remoteTerminalChannel","vs/workbench/services/extensions/common/extensionPoints","vs/workbench/api/common/extHost.protocol","vs/workbench/api/common/extHostCommands","vs/workbench/services/extensions/common/remoteConsoleUtil","vs/workbench/services/extensions/node/extensionPoints","vs/server/remoteAgentEnvironmentImpl","vs/workbench/services/remote/common/remoteAgentFileSystemChannel","vs/platform/extensionManagement/node/extensionManagementUtil","vs/platform/extensionManagement/node/extensionsScanner","zlib","vs/server/remoteExtensionHostAgentCli","vs/workbench/api/node/extHostCLIServer","vs/server/remoteTerminalChannel","vs/server/remoteExtensionHostAgentServer","perf_hooks","string_decoder","minimist","assert","graceful-fs","cookie","vs/base/common/marked/marked","yauzl","yazl","http","vs/server/remoteExtensionHostAgent"],de=function(Z){for(var e=[],P=0,_=Z.length;P<_;P++)e[P]=he[Z[P]];return e};define(he[114],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoaderStats=void 0;class P{static get(){const y=new Map,C=new Map,I=new Map,k=new Map;function m(b,f){b.has(f.detail)||b.set(f.detail,-f.timestamp)}function E(b,f){let w=b.get(f.detail);!w||w>=0||b.set(f.detail,w+f.timestamp)}const i=Z.getStats().slice(0).sort((b,f)=>b.timestamp-f.timestamp);for(const b of i)switch(b.type){case 10:m(y,b);break;case 11:case 12:E(y,b);break;case 21:m(C,b);break;case 22:E(C,b);break;case 33:m(I,b);break;case 34:E(I,b);break;case 31:m(k,b);break;case 32:E(k,b);break}let T=0;I.forEach(b=>T+=b);function p(b){let f=[];return b.forEach((w,d)=>f.push([d,w])),f}return{amdLoad:p(y),amdInvoke:p(C),nodeRequire:p(I),nodeEval:p(k),nodeRequireTotal:T}}static toMarkdownTable(y,C){let I="",k=[];return y.forEach((m,E)=>{k[E]=m.length}),C.forEach(m=>{m.forEach((E,i)=>{typeof E=="undefined"&&(E=m[i]="-");const T=E.toString().length;k[i]=Math.max(T,k[i])})}),y.forEach((m,E)=>{I+=`| ${m+" ".repeat(k[E]-m.toString().length)} `}),I+=`|
`,y.forEach((m,E)=>{I+=`| ${"-".repeat(k[E])} `}),I+=`|
`,C.forEach(m=>{m.forEach((E,i)=>{typeof E!="undefined"&&(I+=`| ${E+" ".repeat(k[i]-E.toString().length)} `)}),I+=`|
`}),I}}e.LoaderStats=P}),define(he[115],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=void 0;function P(_,y){if(!_)throw new Error(y?`Assertion failed (${y})`:"Assertion Failed")}e.ok=P}),define(he[74],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=e.debounce=e.memoize=e.createDecorator=void 0;function P(I){return(k,m,E)=>{let i=null,T=null;if(typeof E.value=="function"?(i="value",T=E.value):typeof E.get=="function"&&(i="get",T=E.get),!T)throw new Error("not supported");E[i]=I(T,m)}}e.createDecorator=P;function _(I,k,m){let E=null,i=null;if(typeof m.value=="function"?(E="value",i=m.value,i.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof m.get=="function"&&(E="get",i=m.get),!i)throw new Error("not supported");const T=`$memoize$${k}`;m[E]=function(...p){return this.hasOwnProperty(T)||Object.defineProperty(this,T,{configurable:!1,enumerable:!1,writable:!1,value:i.apply(this,p)}),this[T]}}e.memoize=_;function y(I,k,m){return P((E,i)=>{const T=`$debounce$${i}`,p=`$debounce$result$${i}`;return function(...b){this[p]||(this[p]=m?m():void 0),clearTimeout(this[T]),k&&(this[p]=k(this[p],...b),b=[this[p]]),this[T]=setTimeout(()=>{E.apply(this,b),this[p]=m?m():void 0},I)}})}e.debounce=y;function C(I,k,m){return P((E,i)=>{const T=`$throttle$timer$${i}`,p=`$throttle$result$${i}`,b=`$throttle$lastRun$${i}`,f=`$throttle$pending$${i}`;return function(...w){if(this[p]||(this[p]=m?m():void 0),(this[b]===null||this[b]===void 0)&&(this[b]=-Number.MAX_VALUE),k&&(this[p]=k(this[p],...w)),this[f])return;const d=this[b]+I;d<=Date.now()?(this[b]=Date.now(),E.apply(this,[this[p]]),this[p]=m?m():void 0):(this[f]=!0,this[T]=setTimeout(()=>{this[f]=!1,this[b]=Date.now(),E.apply(this,[this[p]]),this[p]=m?m():void 0},d-Date.now()))}})}e.throttle=C}),define(he[11],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createErrorWithActions=e.isErrorWithActions=e.ExpectedError=e.NotSupportedError=e.NotImplementedError=e.getErrorMessage=e.disposed=e.readonly=e.illegalState=e.illegalArgument=e.canceled=e.CancellationError=e.isPromiseCanceledError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.setUnexpectedErrorHandler=e.errorHandler=e.ErrorHandler=void 0;class P{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(n){setTimeout(()=>{throw n.stack?new Error(n.message+`

`+n.stack):n},0)}}addListener(n){return this.listeners.push(n),()=>{this._removeListener(n)}}emit(n){this.listeners.forEach(s=>{s(n)})}_removeListener(n){this.listeners.splice(this.listeners.indexOf(n),1)}setUnexpectedErrorHandler(n){this.unexpectedErrorHandler=n}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(n){this.unexpectedErrorHandler(n),this.emit(n)}onUnexpectedExternalError(n){this.unexpectedErrorHandler(n)}}e.ErrorHandler=P,e.errorHandler=new P;function _(l){e.errorHandler.setUnexpectedErrorHandler(l)}e.setUnexpectedErrorHandler=_;function y(l){m(l)||e.errorHandler.onUnexpectedError(l)}e.onUnexpectedError=y;function C(l){m(l)||e.errorHandler.onUnexpectedExternalError(l)}e.onUnexpectedExternalError=C;function I(l){if(l instanceof Error){let{name:n,message:s}=l;const r=l.stacktrace||l.stack;return{$isError:!0,name:n,message:s,stack:r}}return l}e.transformErrorForSerialization=I;const k="Canceled";function m(l){return l instanceof Error&&l.name===k&&l.message===k}e.isPromiseCanceledError=m;class E extends Error{constructor(){super(k);this.name=this.message}}e.CancellationError=E;function i(){const l=new Error(k);return l.name=l.message,l}e.canceled=i;function T(l){return l?new Error(`Illegal argument: ${l}`):new Error("Illegal argument")}e.illegalArgument=T;function p(l){return l?new Error(`Illegal state: ${l}`):new Error("Illegal state")}e.illegalState=p;function b(l){return l?new Error(`readonly property '${l} cannot be changed'`):new Error("readonly property cannot be changed")}e.readonly=b;function f(l){const n=new Error(`${l} has been disposed`);return n.name="DISPOSED",n}e.disposed=f;function w(l){return l?l.message?l.message:l.stack?l.stack.split(`
`)[0]:String(l):"Error"}e.getErrorMessage=w;class d extends Error{constructor(n){super("NotImplemented");n&&(this.message=n)}}e.NotImplementedError=d;class S extends Error{constructor(n){super("NotSupported");n&&(this.message=n)}}e.NotSupportedError=S;class g extends Error{constructor(){super(...arguments);this.isExpected=!0}}e.ExpectedError=g;function c(l){const n=l;return n instanceof Error&&Array.isArray(n.actions)}e.isErrorWithActions=c;function a(l,n=Object.create(null)){const s=new Error(l);return n.actions&&(s.actions=n.actions),s}e.createErrorWithActions=a}),define(he[18],de([0,1,11]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayQueue=e.maxIndex=e.minIndex=e.splice=e.insertInto=e.mapFind=e.getRandomElement=e.asArray=e.mapArrayOrNot=e.pushToEnd=e.pushToStart=e.shuffle=e.arrayInsert=e.remove=e.insert=e.index=e.range=e.flatten=e.commonPrefixLength=e.firstOrDefault=e.lastIndex=e.findLast=e.uniqueFilter=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.move=e.coalesceInPlace=e.coalesce=e.topAsync=e.top=e.delta=e.sortedDiff=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function _(z,te=0){return z[z.length-(1+te)]}e.tail=_;function y(z){if(z.length===0)throw new Error("Invalid tail call");return[z.slice(0,z.length-1),z[z.length-1]]}e.tail2=y;function C(z,te,X=(me,pe)=>me===pe){if(z===te)return!0;if(!z||!te||z.length!==te.length)return!1;for(let me=0,pe=z.length;me<pe;me++)if(!X(z[me],te[me]))return!1;return!0}e.equals=C;function I(z,te,X){let me=0,pe=z.length-1;for(;me<=pe;){const se=(me+pe)/2|0,ne=X(z[se],te);if(ne<0)me=se+1;else if(ne>0)pe=se-1;else return se}return-(me+1)}e.binarySearch=I;function k(z,te){let X=0,me=z.length;if(me===0)return 0;for(;X<me;){const pe=Math.floor((X+me)/2);te(z[pe])?me=pe:X=pe+1}return X}e.findFirstInSorted=k;function m(z,te,X){if(z=z|0,z>=te.length)throw new TypeError("invalid index");let me=te[Math.floor(te.length*Math.random())],pe=[],se=[],ne=[];for(let Se of te){const ye=X(Se,me);ye<0?pe.push(Se):ye>0?se.push(Se):ne.push(Se)}return z<pe.length?m(z,pe,X):z<pe.length+ne.length?ne[0]:m(z-(pe.length+ne.length),se,X)}e.quickSelect=m;function E(z,te){const X=[];let me;for(const pe of z.slice(0).sort(te))!me||te(me[0],pe)!==0?(me=[pe],X.push(me)):me.push(pe);return X}e.groupBy=E;function i(z,te,X){const me=[];function pe(Se,ye,Ae){if(ye===0&&Ae.length===0)return;const Fe=me[me.length-1];Fe&&Fe.start+Fe.deleteCount===Se?(Fe.deleteCount+=ye,Fe.toInsert.push(...Ae)):me.push({start:Se,deleteCount:ye,toInsert:Ae})}let se=0,ne=0;for(;;){if(se===z.length){pe(se,0,te.slice(ne));break}if(ne===te.length){pe(se,z.length-se,[]);break}const Se=z[se],ye=te[ne],Ae=X(Se,ye);Ae===0?(se+=1,ne+=1):Ae<0?(pe(se,1,[]),se+=1):Ae>0&&(pe(se,0,[ye]),ne+=1)}return me}e.sortedDiff=i;function T(z,te,X){const me=i(z,te,X),pe=[],se=[];for(const ne of me)pe.push(...z.slice(ne.start,ne.start+ne.deleteCount)),se.push(...ne.toInsert);return{removed:pe,added:se}}e.delta=T;function p(z,te,X){if(X===0)return[];const me=z.slice(0,X).sort(te);return f(z,te,me,X,z.length),me}e.top=p;function b(z,te,X,me,pe){return X===0?Promise.resolve([]):new Promise((se,ne)=>{(async()=>{const Se=z.length,ye=z.slice(0,X).sort(te);for(let Ae=X,Fe=Math.min(X+me,Se);Ae<Se;Ae=Fe,Fe=Math.min(Fe+me,Se)){if(Ae>X&&await new Promise(qe=>setTimeout(qe)),pe&&pe.isCancellationRequested)throw(0,P.canceled)();f(z,te,ye,Ae,Fe)}return ye})().then(se,ne)})}e.topAsync=b;function f(z,te,X,me,pe){for(const se=X.length;me<pe;me++){const ne=z[me];if(te(ne,X[se-1])<0){X.pop();const Se=k(X,ye=>te(ne,ye)<0);X.splice(Se,0,ne)}}}function w(z){return z.filter(te=>!!te)}e.coalesce=w;function d(z){let te=0;for(let X=0;X<z.length;X++)z[X]&&(z[te]=z[X],te+=1);z.length=te}e.coalesceInPlace=d;function S(z,te,X){z.splice(X,0,z.splice(te,1)[0])}e.move=S;function g(z){return!Array.isArray(z)||z.length===0}e.isFalsyOrEmpty=g;function c(z){return Array.isArray(z)&&z.length>0}e.isNonEmptyArray=c;function a(z,te=X=>X){const X=new Set;return z.filter(me=>{const pe=te(me);return X.has(pe)?!1:(X.add(pe),!0)})}e.distinct=a;function l(z){const te=Object.create(null);return X=>{const me=z(X);return te[me]?!1:(te[me]=!0,!0)}}e.uniqueFilter=l;function n(z,te){const X=s(z,te);if(X!==-1)return z[X]}e.findLast=n;function s(z,te){for(let X=z.length-1;X>=0;X--){const me=z[X];if(te(me))return X}return-1}e.lastIndex=s;function r(z,te){return z.length>0?z[0]:te}e.firstOrDefault=r;function t(z,te,X=(me,pe)=>me===pe){let me=0;for(let pe=0,se=Math.min(z.length,te.length);pe<se&&X(z[pe],te[pe]);pe++)me++;return me}e.commonPrefixLength=t;function o(z){return[].concat(...z)}e.flatten=o;function u(z,te){let X=typeof te=="number"?z:0;typeof te=="number"?X=z:(X=0,te=z);const me=[];if(X<=te)for(let pe=X;pe<te;pe++)me.push(pe);else for(let pe=X;pe>te;pe--)me.push(pe);return me}e.range=u;function v(z,te,X){return z.reduce((me,pe)=>(me[te(pe)]=X?X(pe):pe,me),Object.create(null))}e.index=v;function D(z,te){return z.push(te),()=>h(z,te)}e.insert=D;function h(z,te){const X=z.indexOf(te);if(X>-1)return z.splice(X,1),te}e.remove=h;function A(z,te,X){const me=z.slice(0,te),pe=z.slice(te);return me.concat(X,pe)}e.arrayInsert=A;function N(z,te){let X;if(typeof te=="number"){let me=te;X=()=>{const pe=Math.sin(me++)*179426549;return pe-Math.floor(pe)}}else X=Math.random;for(let me=z.length-1;me>0;me-=1){const pe=Math.floor(X()*(me+1)),se=z[me];z[me]=z[pe],z[pe]=se}}e.shuffle=N;function $(z,te){const X=z.indexOf(te);X>-1&&(z.splice(X,1),z.unshift(te))}e.pushToStart=$;function K(z,te){const X=z.indexOf(te);X>-1&&(z.splice(X,1),z.push(te))}e.pushToEnd=K;function j(z,te){return Array.isArray(z)?z.map(te):te(z)}e.mapArrayOrNot=j;function F(z){return Array.isArray(z)?z:[z]}e.asArray=F;function G(z){return z[Math.floor(Math.random()*z.length)]}e.getRandomElement=G;function R(z,te){for(const X of z){const me=te(X);if(me!==void 0)return me}}e.mapFind=R;function B(z,te,X){const me=q(z,te),pe=z.length,se=X.length;z.length=pe+se;for(let ne=pe-1;ne>=me;ne--)z[ne+se]=z[ne];for(let ne=0;ne<se;ne++)z[ne+me]=X[ne]}e.insertInto=B;function H(z,te,X,me){const pe=q(z,te),se=z.splice(pe,X);return B(z,pe,me),se}e.splice=H;function q(z,te){return te<0?Math.max(te+z.length,0):Math.min(te,z.length)}function W(z,te){let X=Number.MAX_SAFE_INTEGER,me=0;return z.forEach((pe,se)=>{const ne=te(pe);ne<X&&(X=ne,me=se)}),me}e.minIndex=W;function U(z,te){let X=Number.MIN_SAFE_INTEGER,me=0;return z.forEach((pe,se)=>{const ne=te(pe);ne>X&&(X=ne,me=se)}),me}e.maxIndex=U;class x{constructor(te){this.items=te,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(te){let X=this.firstIdx;for(;X<this.items.length&&te(this.items[X]);)X++;const me=X===this.firstIdx?null:this.items.slice(this.firstIdx,X);return this.firstIdx=X,me}takeFromEndWhile(te){let X=this.lastIdx;for(;X>=0&&te(this.items[X]);)X--;const me=X===this.lastIdx?null:this.items.slice(X+1,this.lastIdx+1);return this.lastIdx=X,me}peek(){return this.items[this.firstIdx]}}e.ArrayQueue=x}),define(he[75],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function P(_){const y=this;let C=!1,I;return function(){return C||(C=!0,I=_.apply(y,arguments)),I}}e.once=P}),define(he[49],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var P;(function(_){function y(l){return l&&typeof l=="object"&&typeof l[Symbol.iterator]=="function"}_.is=y;const C=Object.freeze([]);function I(){return C}_.empty=I;function*k(l){yield l}_.single=k;function m(l){return l||C}_.from=m;function E(l){return!l||l[Symbol.iterator]().next().done===!0}_.isEmpty=E;function i(l){return l[Symbol.iterator]().next().value}_.first=i;function T(l,n){for(const s of l)if(n(s))return!0;return!1}_.some=T;function p(l,n){for(const s of l)if(n(s))return s}_.find=p;function*b(l,n){for(const s of l)n(s)&&(yield s)}_.filter=b;function*f(l,n){let s=0;for(const r of l)yield n(r,s++)}_.map=f;function*w(...l){for(const n of l)for(const s of n)yield s}_.concat=w;function*d(l){for(const n of l)for(const s of n)yield s}_.concatNested=d;function S(l,n,s){let r=s;for(const t of l)r=n(r,t);return r}_.reduce=S;function*g(l,n,s=l.length){for(n<0&&(n+=l.length),s<0?s+=l.length:s>l.length&&(s=l.length);n<s;n++)yield l[n]}_.slice=g;function c(l,n=Number.POSITIVE_INFINITY){const s=[];if(n===0)return[s,l];const r=l[Symbol.iterator]();for(let t=0;t<n;t++){const o=r.next();if(o.done)return[s,_.empty()];s.push(o.value)}return[s,{[Symbol.iterator](){return r}}]}_.consume=c;function a(l,n,s=(r,t)=>r===t){const r=l[Symbol.iterator](),t=n[Symbol.iterator]();for(;;){const o=r.next(),u=t.next();if(o.done!==u.done)return!1;if(o.done)return!0;if(!s(o.value,u.value))return!1}}_.equals=a})(P=e.Iterable||(e.Iterable={}))}),define(he[38],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNodeType=e.stripComments=e.visit=e.findNodeAtOffset=e.contains=e.getNodeValue=e.getNodePath=e.findNodeAtLocation=e.parseTree=e.parse=e.getLocation=e.createScanner=e.ParseOptions=e.ParseErrorCode=e.SyntaxKind=e.ScanError=void 0;var P;(function(n){n[n.None=0]="None",n[n.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",n[n.UnexpectedEndOfString=2]="UnexpectedEndOfString",n[n.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",n[n.InvalidUnicode=4]="InvalidUnicode",n[n.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",n[n.InvalidCharacter=6]="InvalidCharacter"})(P=e.ScanError||(e.ScanError={}));var _;(function(n){n[n.OpenBraceToken=1]="OpenBraceToken",n[n.CloseBraceToken=2]="CloseBraceToken",n[n.OpenBracketToken=3]="OpenBracketToken",n[n.CloseBracketToken=4]="CloseBracketToken",n[n.CommaToken=5]="CommaToken",n[n.ColonToken=6]="ColonToken",n[n.NullKeyword=7]="NullKeyword",n[n.TrueKeyword=8]="TrueKeyword",n[n.FalseKeyword=9]="FalseKeyword",n[n.StringLiteral=10]="StringLiteral",n[n.NumericLiteral=11]="NumericLiteral",n[n.LineCommentTrivia=12]="LineCommentTrivia",n[n.BlockCommentTrivia=13]="BlockCommentTrivia",n[n.LineBreakTrivia=14]="LineBreakTrivia",n[n.Trivia=15]="Trivia",n[n.Unknown=16]="Unknown",n[n.EOF=17]="EOF"})(_=e.SyntaxKind||(e.SyntaxKind={}));var y;(function(n){n[n.InvalidSymbol=1]="InvalidSymbol",n[n.InvalidNumberFormat=2]="InvalidNumberFormat",n[n.PropertyNameExpected=3]="PropertyNameExpected",n[n.ValueExpected=4]="ValueExpected",n[n.ColonExpected=5]="ColonExpected",n[n.CommaExpected=6]="CommaExpected",n[n.CloseBraceExpected=7]="CloseBraceExpected",n[n.CloseBracketExpected=8]="CloseBracketExpected",n[n.EndOfFileExpected=9]="EndOfFileExpected",n[n.InvalidCommentToken=10]="InvalidCommentToken",n[n.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",n[n.UnexpectedEndOfString=12]="UnexpectedEndOfString",n[n.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",n[n.InvalidUnicode=14]="InvalidUnicode",n[n.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",n[n.InvalidCharacter=16]="InvalidCharacter"})(y=e.ParseErrorCode||(e.ParseErrorCode={}));var C;(function(n){n.DEFAULT={allowTrailingComma:!0}})(C=e.ParseOptions||(e.ParseOptions={}));function I(n,s=!1){let r=0,t=n.length,o="",u=0,v=16,D=0;function h(G){let R=0,B=0;for(;R<G;){const H=n.charCodeAt(r);if(H>=48&&H<=57)B=B*16+H-48;else if(H>=65&&H<=70)B=B*16+H-65+10;else if(H>=97&&H<=102)B=B*16+H-97+10;else break;r++,R++}return R<G&&(B=-1),B}function A(G){r=G,o="",u=0,v=16,D=0}function N(){const G=r;if(n.charCodeAt(r)===48)r++;else for(r++;r<n.length&&E(n.charCodeAt(r));)r++;if(r<n.length&&n.charCodeAt(r)===46)if(r++,r<n.length&&E(n.charCodeAt(r)))for(r++;r<n.length&&E(n.charCodeAt(r));)r++;else return D=3,n.substring(G,r);let R=r;if(r<n.length&&(n.charCodeAt(r)===69||n.charCodeAt(r)===101))if(r++,(r<n.length&&n.charCodeAt(r)===43||n.charCodeAt(r)===45)&&r++,r<n.length&&E(n.charCodeAt(r))){for(r++;r<n.length&&E(n.charCodeAt(r));)r++;R=r}else D=3;return n.substring(G,R)}function $(){let G="",R=r;for(;;){if(r>=t){G+=n.substring(R,r),D=2;break}const B=n.charCodeAt(r);if(B===34){G+=n.substring(R,r),r++;break}if(B===92){if(G+=n.substring(R,r),r++,r>=t){D=2;break}switch(n.charCodeAt(r++)){case 34:G+='"';break;case 92:G+="\\";break;case 47:G+="/";break;case 98:G+="\b";break;case 102:G+="\f";break;case 110:G+=`
`;break;case 114:G+="\r";break;case 116:G+="	";break;case 117:const q=h(4);q>=0?G+=String.fromCharCode(q):D=4;break;default:D=5}R=r;continue}if(B>=0&&B<=31)if(m(B)){G+=n.substring(R,r),D=2;break}else D=6;r++}return G}function K(){if(o="",D=0,u=r,r>=t)return u=t,v=17;let G=n.charCodeAt(r);if(k(G)){do r++,o+=String.fromCharCode(G),G=n.charCodeAt(r);while(k(G));return v=15}if(m(G))return r++,o+=String.fromCharCode(G),G===13&&n.charCodeAt(r)===10&&(r++,o+=`
`),v=14;switch(G){case 123:return r++,v=1;case 125:return r++,v=2;case 91:return r++,v=3;case 93:return r++,v=4;case 58:return r++,v=6;case 44:return r++,v=5;case 34:return r++,o=$(),v=10;case 47:const R=r-1;if(n.charCodeAt(r+1)===47){for(r+=2;r<t&&!m(n.charCodeAt(r));)r++;return o=n.substring(R,r),v=12}if(n.charCodeAt(r+1)===42){r+=2;const B=t-1;let H=!1;for(;r<B;){if(n.charCodeAt(r)===42&&n.charCodeAt(r+1)===47){r+=2,H=!0;break}r++}return H||(r++,D=1),o=n.substring(R,r),v=13}return o+=String.fromCharCode(G),r++,v=16;case 45:if(o+=String.fromCharCode(G),r++,r===t||!E(n.charCodeAt(r)))return v=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return o+=N(),v=11;default:for(;r<t&&j(G);)r++,G=n.charCodeAt(r);if(u!==r){switch(o=n.substring(u,r),o){case"true":return v=8;case"false":return v=9;case"null":return v=7}return v=16}return o+=String.fromCharCode(G),r++,v=16}}function j(G){if(k(G)||m(G))return!1;switch(G){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function F(){let G;do G=K();while(G>=12&&G<=15);return G}return{setPosition:A,getPosition:()=>r,scan:s?F:K,getToken:()=>v,getTokenValue:()=>o,getTokenOffset:()=>u,getTokenLength:()=>r-u,getTokenError:()=>D}}e.createScanner=I;function k(n){return n===32||n===9||n===11||n===12||n===160||n===5760||n>=8192&&n<=8203||n===8239||n===8287||n===12288||n===65279}function m(n){return n===10||n===13||n===8232||n===8233}function E(n){return n>=48&&n<=57}var i;(function(n){n[n.nullCharacter=0]="nullCharacter",n[n.maxAsciiCharacter=127]="maxAsciiCharacter",n[n.lineFeed=10]="lineFeed",n[n.carriageReturn=13]="carriageReturn",n[n.lineSeparator=8232]="lineSeparator",n[n.paragraphSeparator=8233]="paragraphSeparator",n[n.nextLine=133]="nextLine",n[n.space=32]="space",n[n.nonBreakingSpace=160]="nonBreakingSpace",n[n.enQuad=8192]="enQuad",n[n.emQuad=8193]="emQuad",n[n.enSpace=8194]="enSpace",n[n.emSpace=8195]="emSpace",n[n.threePerEmSpace=8196]="threePerEmSpace",n[n.fourPerEmSpace=8197]="fourPerEmSpace",n[n.sixPerEmSpace=8198]="sixPerEmSpace",n[n.figureSpace=8199]="figureSpace",n[n.punctuationSpace=8200]="punctuationSpace",n[n.thinSpace=8201]="thinSpace",n[n.hairSpace=8202]="hairSpace",n[n.zeroWidthSpace=8203]="zeroWidthSpace",n[n.narrowNoBreakSpace=8239]="narrowNoBreakSpace",n[n.ideographicSpace=12288]="ideographicSpace",n[n.mathematicalSpace=8287]="mathematicalSpace",n[n.ogham=5760]="ogham",n[n._=95]="_",n[n.$=36]="$",n[n._0=48]="_0",n[n._1=49]="_1",n[n._2=50]="_2",n[n._3=51]="_3",n[n._4=52]="_4",n[n._5=53]="_5",n[n._6=54]="_6",n[n._7=55]="_7",n[n._8=56]="_8",n[n._9=57]="_9",n[n.a=97]="a",n[n.b=98]="b",n[n.c=99]="c",n[n.d=100]="d",n[n.e=101]="e",n[n.f=102]="f",n[n.g=103]="g",n[n.h=104]="h",n[n.i=105]="i",n[n.j=106]="j",n[n.k=107]="k",n[n.l=108]="l",n[n.m=109]="m",n[n.n=110]="n",n[n.o=111]="o",n[n.p=112]="p",n[n.q=113]="q",n[n.r=114]="r",n[n.s=115]="s",n[n.t=116]="t",n[n.u=117]="u",n[n.v=118]="v",n[n.w=119]="w",n[n.x=120]="x",n[n.y=121]="y",n[n.z=122]="z",n[n.A=65]="A",n[n.B=66]="B",n[n.C=67]="C",n[n.D=68]="D",n[n.E=69]="E",n[n.F=70]="F",n[n.G=71]="G",n[n.H=72]="H",n[n.I=73]="I",n[n.J=74]="J",n[n.K=75]="K",n[n.L=76]="L",n[n.M=77]="M",n[n.N=78]="N",n[n.O=79]="O",n[n.P=80]="P",n[n.Q=81]="Q",n[n.R=82]="R",n[n.S=83]="S",n[n.T=84]="T",n[n.U=85]="U",n[n.V=86]="V",n[n.W=87]="W",n[n.X=88]="X",n[n.Y=89]="Y",n[n.Z=90]="Z",n[n.ampersand=38]="ampersand",n[n.asterisk=42]="asterisk",n[n.at=64]="at",n[n.backslash=92]="backslash",n[n.bar=124]="bar",n[n.caret=94]="caret",n[n.closeBrace=125]="closeBrace",n[n.closeBracket=93]="closeBracket",n[n.closeParen=41]="closeParen",n[n.colon=58]="colon",n[n.comma=44]="comma",n[n.dot=46]="dot",n[n.doubleQuote=34]="doubleQuote",n[n.equals=61]="equals",n[n.exclamation=33]="exclamation",n[n.greaterThan=62]="greaterThan",n[n.lessThan=60]="lessThan",n[n.minus=45]="minus",n[n.openBrace=123]="openBrace",n[n.openBracket=91]="openBracket",n[n.openParen=40]="openParen",n[n.percent=37]="percent",n[n.plus=43]="plus",n[n.question=63]="question",n[n.semicolon=59]="semicolon",n[n.singleQuote=39]="singleQuote",n[n.slash=47]="slash",n[n.tilde=126]="tilde",n[n.backspace=8]="backspace",n[n.formFeed=12]="formFeed",n[n.byteOrderMark=65279]="byteOrderMark",n[n.tab=9]="tab",n[n.verticalTab=11]="verticalTab"})(i||(i={}));function T(n,s){const r=[],t=new Object;let o;const u={value:{},offset:0,length:0,type:"object",parent:void 0};let v=!1;function D(h,A,N,$){u.value=h,u.offset=A,u.length=N,u.type=$,u.colonOffset=void 0,o=u}try{c(n,{onObjectBegin:(h,A)=>{if(s<=h)throw t;o=void 0,v=s>h,r.push("")},onObjectProperty:(h,A,N)=>{if(s<A||(D(h,A,N,"property"),r[r.length-1]=h,s<=A+N))throw t},onObjectEnd:(h,A)=>{if(s<=h)throw t;o=void 0,r.pop()},onArrayBegin:(h,A)=>{if(s<=h)throw t;o=void 0,r.push(0)},onArrayEnd:(h,A)=>{if(s<=h)throw t;o=void 0,r.pop()},onLiteralValue:(h,A,N)=>{if(s<A||(D(h,A,N,l(h)),s<=A+N))throw t},onSeparator:(h,A,N)=>{if(s<=A)throw t;if(h===":"&&o&&o.type==="property")o.colonOffset=A,v=!1,o=void 0;else if(h===","){const $=r[r.length-1];typeof $=="number"?r[r.length-1]=$+1:(v=!0,r[r.length-1]=""),o=void 0}}})}catch(h){if(h!==t)throw h}return{path:r,previousNode:o,isAtPropertyKey:v,matches:h=>{let A=0;for(let N=0;A<h.length&&N<r.length;N++)if(h[A]===r[N]||h[A]==="*")A++;else if(h[A]!=="**")return!1;return A===h.length}}}e.getLocation=T;function p(n,s=[],r=C.DEFAULT){let t=null,o=[];const u=[];function v(h){Array.isArray(o)?o.push(h):t!==null&&(o[t]=h)}return c(n,{onObjectBegin:()=>{const h={};v(h),u.push(o),o=h,t=null},onObjectProperty:h=>{t=h},onObjectEnd:()=>{o=u.pop()},onArrayBegin:()=>{const h=[];v(h),u.push(o),o=h,t=null},onArrayEnd:()=>{o=u.pop()},onLiteralValue:v,onError:(h,A,N)=>{s.push({error:h,offset:A,length:N})}},r),o[0]}e.parse=p;function b(n,s=[],r=C.DEFAULT){let t={type:"array",offset:-1,length:-1,children:[],parent:void 0};function o(h){t.type==="property"&&(t.length=h-t.offset,t=t.parent)}function u(h){return t.children.push(h),h}c(n,{onObjectBegin:h=>{t=u({type:"object",offset:h,length:-1,parent:t,children:[]})},onObjectProperty:(h,A,N)=>{t=u({type:"property",offset:A,length:-1,parent:t,children:[]}),t.children.push({type:"string",value:h,offset:A,length:N,parent:t})},onObjectEnd:(h,A)=>{t.length=h+A-t.offset,t=t.parent,o(h+A)},onArrayBegin:(h,A)=>{t=u({type:"array",offset:h,length:-1,parent:t,children:[]})},onArrayEnd:(h,A)=>{t.length=h+A-t.offset,t=t.parent,o(h+A)},onLiteralValue:(h,A,N)=>{u({type:l(h),offset:A,length:N,parent:t,value:h}),o(A+N)},onSeparator:(h,A,N)=>{t.type==="property"&&(h===":"?t.colonOffset=A:h===","&&o(A))},onError:(h,A,N)=>{s.push({error:h,offset:A,length:N})}},r);const D=t.children[0];return D&&delete D.parent,D}e.parseTree=b;function f(n,s){if(!n)return;let r=n;for(let t of s)if(typeof t=="string"){if(r.type!=="object"||!Array.isArray(r.children))return;let o=!1;for(const u of r.children)if(Array.isArray(u.children)&&u.children[0].value===t){r=u.children[1],o=!0;break}if(!o)return}else{const o=t;if(r.type!=="array"||o<0||!Array.isArray(r.children)||o>=r.children.length)return;r=r.children[o]}return r}e.findNodeAtLocation=f;function w(n){if(!n.parent||!n.parent.children)return[];const s=w(n.parent);if(n.parent.type==="property"){const r=n.parent.children[0].value;s.push(r)}else if(n.parent.type==="array"){const r=n.parent.children.indexOf(n);r!==-1&&s.push(r)}return s}e.getNodePath=w;function d(n){switch(n.type){case"array":return n.children.map(d);case"object":const s=Object.create(null);for(let r of n.children){const t=r.children[1];t&&(s[r.children[0].value]=d(t))}return s;case"null":case"string":case"number":case"boolean":return n.value;default:return}}e.getNodeValue=d;function S(n,s,r=!1){return s>=n.offset&&s<n.offset+n.length||r&&s===n.offset+n.length}e.contains=S;function g(n,s,r=!1){if(S(n,s,r)){const t=n.children;if(Array.isArray(t))for(let o=0;o<t.length&&t[o].offset<=s;o++){const u=g(t[o],s,r);if(u)return u}return n}}e.findNodeAtOffset=g;function c(n,s,r=C.DEFAULT){const t=I(n,!1);function o(X){return X?()=>X(t.getTokenOffset(),t.getTokenLength()):()=>!0}function u(X){return X?me=>X(me,t.getTokenOffset(),t.getTokenLength()):()=>!0}const v=o(s.onObjectBegin),D=u(s.onObjectProperty),h=o(s.onObjectEnd),A=o(s.onArrayBegin),N=o(s.onArrayEnd),$=u(s.onLiteralValue),K=u(s.onSeparator),j=o(s.onComment),F=u(s.onError),G=r&&r.disallowComments,R=r&&r.allowTrailingComma;function B(){for(;;){const X=t.scan();switch(t.getTokenError()){case 4:H(14);break;case 5:H(15);break;case 3:H(13);break;case 1:G||H(11);break;case 2:H(12);break;case 6:H(16);break}switch(X){case 12:case 13:G?H(10):j();break;case 16:H(1);break;case 15:case 14:break;default:return X}}}function H(X,me=[],pe=[]){if(F(X),me.length+pe.length>0){let se=t.getToken();for(;se!==17;){if(me.indexOf(se)!==-1){B();break}else if(pe.indexOf(se)!==-1)break;se=B()}}}function q(X){const me=t.getTokenValue();return X?$(me):D(me),B(),!0}function W(){switch(t.getToken()){case 11:let X=0;try{X=JSON.parse(t.getTokenValue()),typeof X!="number"&&(H(2),X=0)}catch(me){H(2)}$(X);break;case 7:$(null);break;case 8:$(!0);break;case 9:$(!1);break;default:return!1}return B(),!0}function U(){return t.getToken()!==10?(H(3,[],[2,5]),!1):(q(!1),t.getToken()===6?(K(":"),B(),te()||H(4,[],[2,5])):H(5,[],[2,5]),!0)}function x(){v(),B();let X=!1;for(;t.getToken()!==2&&t.getToken()!==17;){if(t.getToken()===5){if(X||H(4,[],[]),K(","),B(),t.getToken()===2&&R)break}else X&&H(6,[],[]);U()||H(4,[],[2,5]),X=!0}return h(),t.getToken()!==2?H(7,[2],[]):B(),!0}function z(){A(),B();let X=!1;for(;t.getToken()!==4&&t.getToken()!==17;){if(t.getToken()===5){if(X||H(4,[],[]),K(","),B(),t.getToken()===4&&R)break}else X&&H(6,[],[]);te()||H(4,[],[4,5]),X=!0}return N(),t.getToken()!==4?H(8,[4],[]):B(),!0}function te(){switch(t.getToken()){case 3:return z();case 1:return x();case 10:return q(!0);default:return W()}}return B(),t.getToken()===17?r.allowEmptyContent?!0:(H(4,[],[]),!1):te()?(t.getToken()!==17&&H(9,[],[]),!0):(H(4,[],[]),!1)}e.visit=c;function a(n,s){let r=I(n),t=[],o,u=0,v;do switch(v=r.getPosition(),o=r.scan(),o){case 12:case 13:case 17:u!==v&&t.push(n.substring(u,v)),s!==void 0&&t.push(r.getTokenValue().replace(/[^\r\n]/g,s)),u=r.getPosition();break}while(o!==17);return t.join("")}e.stripComments=a;function l(n){switch(typeof n){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(n){if(Array.isArray(n))return"array"}else return"null";return"object"}default:return"null"}}e.getNodeType=l}),define(he[116],de([0,1,38]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEOL=e.getEOL=e.format=void 0;function _(m,E,i){let T,p,b,f,w;if(E){for(f=E.offset,w=f+E.length,b=f;b>0&&!k(m,b-1);)b--;let u=w;for(;u<m.length&&!k(m,u);)u++;p=m.substring(b,u),T=C(p,i)}else p=m,T=0,b=0,f=0,w=m.length;const d=I(i,m);let S=!1,g=0,c;i.insertSpaces?c=y(" ",i.tabSize||4):c="	";const a=(0,P.createScanner)(p,!1);let l=!1;function n(){return d+y(c,T+g)}function s(){let u=a.scan();for(S=!1;u===15||u===14;)S=S||u===14,u=a.scan();return l=u===16||a.getTokenError()!==0,u}const r=[];function t(u,v,D){!l&&v<w&&D>f&&m.substring(v,D)!==u&&r.push({offset:v,length:D-v,content:u})}let o=s();if(o!==17){const u=a.getTokenOffset()+b,v=y(c,T);t(v,b,u)}for(;o!==17;){let u=a.getTokenOffset()+a.getTokenLength()+b,v=s(),D="";for(;!S&&(v===12||v===13);){const A=a.getTokenOffset()+b;t(" ",u,A),u=a.getTokenOffset()+a.getTokenLength()+b,D=v===12?n():"",v=s()}if(v===2)o!==1&&(g--,D=n());else if(v===4)o!==3&&(g--,D=n());else{switch(o){case 3:case 1:g++,D=n();break;case 5:case 12:D=n();break;case 13:S?D=n():D=" ";break;case 6:D=" ";break;case 10:if(v===6){D="";break}case 7:case 8:case 9:case 11:case 2:case 4:v===12||v===13?D=" ":v!==5&&v!==17&&(l=!0);break;case 16:l=!0;break}S&&(v===12||v===13)&&(D=n())}const h=a.getTokenOffset()+b;t(D,u,h),o=v}return r}e.format=_;function y(m,E){let i="";for(let T=0;T<E;T++)i+=m;return i}function C(m,E){let i=0,T=0;const p=E.tabSize||4;for(;i<m.length;){const b=m.charAt(i);if(b===" ")T++;else if(b==="	")T+=p;else break;i++}return Math.floor(T/p)}function I(m,E){for(let i=0;i<E.length;i++){const T=E.charAt(i);if(T==="\r")return i+1<E.length&&E.charAt(i+1)===`
`?`\r
`:"\r";if(T===`
`)return`
`}return m&&m.eol||`
`}e.getEOL=I;function k(m,E){return`\r
`.indexOf(m.charAt(E))!==-1}e.isEOL=k}),define(he[117],de([0,1,38,116]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyEdits=e.applyEdit=e.withFormatting=e.setProperty=e.removeProperty=void 0;function y(E,i,T){return C(E,i,void 0,T)}e.removeProperty=y;function C(E,i,T,p,b){const f=i.slice(),w=[],d=(0,P.parseTree)(E,w);let S,g;for(;f.length>0&&(g=f.pop(),S=(0,P.findNodeAtLocation)(d,f),S===void 0&&T!==void 0);)typeof g=="string"?T={[g]:T}:T=[T];if(S)if(S.type==="object"&&typeof g=="string"&&Array.isArray(S.children)){const c=(0,P.findNodeAtLocation)(S,[g]);if(c!==void 0)if(T===void 0){if(!c.parent)throw new Error("Malformed AST");const a=S.children.indexOf(c.parent);let l,n=c.parent.offset+c.parent.length;if(a>0){const s=S.children[a-1];l=s.offset+s.length}else l=S.offset+1,S.children.length>1&&(n=S.children[1].offset);return I(E,{offset:l,length:n-l,content:""},p)}else return I(E,{offset:c.offset,length:c.length,content:JSON.stringify(T)},p);else{if(T===void 0)return[];const a=`${JSON.stringify(g)}: ${JSON.stringify(T)}`,l=b?b(S.children.map(s=>s.children[0].value)):S.children.length;let n;if(l>0){const s=S.children[l-1];n={offset:s.offset+s.length,length:0,content:","+a}}else S.children.length===0?n={offset:S.offset+1,length:0,content:a}:n={offset:S.offset+1,length:0,content:a+","};return I(E,n,p)}}else if(S.type==="array"&&typeof g=="number"&&Array.isArray(S.children))if(T!==void 0){const c=`${JSON.stringify(T)}`;let a;if(S.children.length===0||g===0)a={offset:S.offset+1,length:0,content:S.children.length===0?c:c+","};else{const l=g===-1||g>S.children.length?S.children.length:g,n=S.children[l-1];a={offset:n.offset+n.length,length:0,content:","+c}}return I(E,a,p)}else{const c=g,a=S.children[c];let l;if(S.children.length===1)l={offset:S.offset+1,length:S.length-2,content:""};else if(S.children.length-1===c){const n=S.children[c-1],s=n.offset+n.length,r=S.offset+S.length;l={offset:s,length:r-2-s,content:""}}else l={offset:a.offset,length:S.children[c+1].offset-a.offset,content:""};return I(E,l,p)}else throw new Error(`Can not add ${typeof g!="number"?"index":"property"} to parent of type ${S.type}`);else{if(T===void 0)throw new Error("Can not delete in empty document");return I(E,{offset:d?d.offset:0,length:d?d.length:0,content:JSON.stringify(T)},p)}}e.setProperty=C;function I(E,i,T){let p=k(E,i),b=i.offset,f=i.offset+i.content.length;if(i.length===0||i.content.length===0){for(;b>0&&!(0,_.isEOL)(p,b-1);)b--;for(;f<p.length&&!(0,_.isEOL)(p,f);)f++}const w=(0,_.format)(p,{offset:b,length:f-b},T);for(let S=w.length-1;S>=0;S--){const g=w[S];p=k(p,g),b=Math.min(b,g.offset),f=Math.max(f,g.offset+g.length),f+=g.content.length-g.length}const d=E.length-(p.length-f)-b;return[{offset:b,length:d,content:p.substring(b,f)}]}e.withFormatting=I;function k(E,i){return E.substring(0,i.offset)+i.content+E.substring(i.offset+i.length)}e.applyEdit=k;function m(E,i){let T=i.slice(0).sort((b,f)=>{const w=b.offset-f.offset;return w===0?b.length-f.length:w}),p=E.length;for(let b=T.length-1;b>=0;b--){let f=T[b];if(f.offset+f.length<=p)E=k(E,f);else throw new Error("Overlapping edit");p=f.offset}return E}e.applyEdits=m}),define(he[2],de([0,1,75,49]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.disposeOnReturn=e.ImmortalReference=e.AsyncReferenceCollection=e.ReferenceCollection=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=e.markAsSingleton=e.setDisposableTracker=void 0;const y=!1;let C=null;function I(t){C=t}if(e.setDisposableTracker=I,y){const t="__is_disposable_tracked__";I(new class{trackDisposable(o){const u=new Error("Potentially leaked disposable").stack;setTimeout(()=>{o[t]||console.log(u)},3e3)}setParent(o,u){if(o&&o!==g.None)try{o[t]=!0}catch{}}markAsDisposed(o){if(o&&o!==g.None)try{o[t]=!0}catch{}}markAsSingleton(o){}})}function k(t){return C?.trackDisposable(t),t}function m(t){C?.markAsDisposed(t)}function E(t,o){C?.setParent(t,o)}function i(t,o){if(!!C)for(const u of t)C.setParent(u,o)}function T(t){return C?.markAsSingleton(t),t}e.markAsSingleton=T;class p extends Error{constructor(o){super(`Encountered errors while disposing of store. Errors: [${o.join(", ")}]`);this.errors=o}}e.MultiDisposeError=p;function b(t){return typeof t.dispose=="function"&&t.dispose.length===0}e.isDisposable=b;function f(t){if(_.Iterable.is(t)){let o=[];for(const u of t)if(u)try{u.dispose()}catch(v){o.push(v)}if(o.length===1)throw o[0];if(o.length>1)throw new p(o);return Array.isArray(t)?[]:t}else if(t)return t.dispose(),t}e.dispose=f;function w(...t){const o=d(()=>f(t));return i(t,o),o}e.combinedDisposable=w;function d(t){const o=k({dispose:(0,P.once)(()=>{m(o),t()})});return o}e.toDisposable=d;class S{constructor(){this._toDispose=new Set,this._isDisposed=!1,k(this)}dispose(){this._isDisposed||(m(this),this._isDisposed=!0,this.clear())}clear(){try{f(this._toDispose.values())}finally{this._toDispose.clear()}}add(o){if(!o)return o;if(o===this)throw new Error("Cannot register a disposable on itself!");return E(o,this),this._isDisposed?S.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(o),o}}e.DisposableStore=S,S.DISABLE_DISPOSED_WARNING=!1;class g{constructor(){this._store=new S,k(this),E(this._store,this)}dispose(){m(this),this._store.dispose()}_register(o){if(o===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(o)}}e.Disposable=g,g.None=Object.freeze({dispose(){}});class c{constructor(){this._isDisposed=!1,k(this)}get value(){return this._isDisposed?void 0:this._value}set value(o){this._isDisposed||o===this._value||(this._value?.dispose(),o&&E(o,this),this._value=o)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,m(this),this._value?.dispose(),this._value=void 0}clearAndLeak(){const o=this._value;return this._value=void 0,o&&E(o,null),o}}e.MutableDisposable=c;class a{constructor(o){this._disposable=o,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter==0&&this._disposable.dispose(),this}}e.RefCountedDisposable=a;class l{constructor(){this.references=new Map}acquire(o,...u){let v=this.references.get(o);v||(v={counter:0,object:this.createReferencedObject(o,...u)},this.references.set(o,v));const{object:D}=v,h=(0,P.once)(()=>{--v.counter==0&&(this.destroyReferencedObject(o,v.object),this.references.delete(o))});return v.counter++,{object:D,dispose:h}}}e.ReferenceCollection=l;class n{constructor(o){this.referenceCollection=o}async acquire(o,...u){const v=this.referenceCollection.acquire(o,...u);try{return{object:await v.object,dispose:()=>v.dispose()}}catch(D){throw v.dispose(),D}}}e.AsyncReferenceCollection=n;class s{constructor(o){this.object=o}dispose(){}}e.ImmortalReference=s;function r(t){const o=new S;try{t(o)}finally{o.dispose()}}e.disposeOnReturn=r}),define(he[118],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class P{constructor(C){this.element=C,this.next=P.Undefined,this.prev=P.Undefined}}P.Undefined=new P(void 0);class _{constructor(){this._first=P.Undefined,this._last=P.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===P.Undefined}clear(){let C=this._first;for(;C!==P.Undefined;){const I=C.next;C.prev=P.Undefined,C.next=P.Undefined,C=I}this._first=P.Undefined,this._last=P.Undefined,this._size=0}unshift(C){return this._insert(C,!1)}push(C){return this._insert(C,!0)}_insert(C,I){const k=new P(C);if(this._first===P.Undefined)this._first=k,this._last=k;else if(I){const E=this._last;this._last=k,k.prev=E,E.next=k}else{const E=this._first;this._first=k,k.next=E,E.prev=k}this._size+=1;let m=!1;return()=>{m||(m=!0,this._remove(k))}}shift(){if(this._first!==P.Undefined){const C=this._first.element;return this._remove(this._first),C}}pop(){if(this._last!==P.Undefined){const C=this._last.element;return this._remove(this._last),C}}_remove(C){if(C.prev!==P.Undefined&&C.next!==P.Undefined){const I=C.prev;I.next=C.next,C.next.prev=I}else C.prev===P.Undefined&&C.next===P.Undefined?(this._first=P.Undefined,this._last=P.Undefined):C.next===P.Undefined?(this._last=this._last.prev,this._last.next=P.Undefined):C.prev===P.Undefined&&(this._first=this._first.next,this._first.prev=P.Undefined);this._size-=1}*[Symbol.iterator](){let C=this._first;for(;C!==P.Undefined;)yield C.element,C=C.next}}e.LinkedList=_}),function(Z,e){typeof exports=="object"&&typeof module!="undefined"?module.exports=e():typeof define=="function"&&define.amd?define("vs/base/common/marked/marked",e):(Z=typeof globalThis!="undefined"?globalThis:Z||self,Z.marked=e())}(this,function(){"use strict";function Z(re,ie){for(var fe=0;fe<ie.length;fe++){var V=ie[fe];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(re,V.key,V)}}function e(re,ie,fe){return ie&&Z(re.prototype,ie),fe&&Z(re,fe),re}function P(re,ie){if(!!re){if(typeof re=="string")return _(re,ie);var fe=Object.prototype.toString.call(re).slice(8,-1);if(fe==="Object"&&re.constructor&&(fe=re.constructor.name),fe==="Map"||fe==="Set")return Array.from(re);if(fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(fe))return _(re,ie)}}function _(re,ie){(ie==null||ie>re.length)&&(ie=re.length);for(var fe=0,V=new Array(ie);fe<ie;fe++)V[fe]=re[fe];return V}function y(re,ie){var fe=typeof Symbol!="undefined"&&re[Symbol.iterator]||re["@@iterator"];if(fe)return(fe=fe.call(re)).next.bind(fe);if(Array.isArray(re)||(fe=P(re))||ie&&re&&typeof re.length=="number"){fe&&(re=fe);var V=0;return function(){return V>=re.length?{done:!0}:{done:!1,value:re[V++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C={exports:{}};function I(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function k(re){C.exports.defaults=re}C.exports={defaults:I(),getDefaults:I,changeDefaults:k};var m=/[&<>"']/,E=/[&<>"']/g,i=/[<>"']|&(?!#?\w+;)/,T=/[<>"']|&(?!#?\w+;)/g,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},b=function(ie){return p[ie]};function f(re,ie){if(ie){if(m.test(re))return re.replace(E,b)}else if(i.test(re))return re.replace(T,b);return re}var w=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function d(re){return re.replace(w,function(ie,fe){return fe=fe.toLowerCase(),fe==="colon"?":":fe.charAt(0)==="#"?fe.charAt(1)==="x"?String.fromCharCode(parseInt(fe.substring(2),16)):String.fromCharCode(+fe.substring(1)):""})}var S=/(^|[^\[])\^/g;function g(re,ie){re=re.source||re,ie=ie||"";var fe={replace:function(J,ce){return ce=ce.source||ce,ce=ce.replace(S,"$1"),re=re.replace(J,ce),fe},getRegex:function(){return new RegExp(re,ie)}};return fe}var c=/[^\w:]/g,a=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function l(re,ie,fe){if(re){var V;try{V=decodeURIComponent(d(fe)).replace(c,"").toLowerCase()}catch(J){return null}if(V.indexOf("javascript:")===0||V.indexOf("vbscript:")===0||V.indexOf("data:")===0)return null}ie&&!a.test(fe)&&(fe=o(ie,fe));try{fe=encodeURI(fe).replace(/%25/g,"%")}catch(J){return null}return fe}var n={},s=/^[^:]+:\/*[^/]*$/,r=/^([^:]+:)[\s\S]*$/,t=/^([^:]+:\/*[^/]*)[\s\S]*$/;function o(re,ie){n[" "+re]||(s.test(re)?n[" "+re]=re+"/":n[" "+re]=h(re,"/",!0)),re=n[" "+re];var fe=re.indexOf(":")===-1;return ie.substring(0,2)==="//"?fe?ie:re.replace(r,"$1")+ie:ie.charAt(0)==="/"?fe?ie:re.replace(t,"$1")+ie:re+ie}var u={exec:function(){}};function v(re){for(var ie=1,fe,V;ie<arguments.length;ie++){fe=arguments[ie];for(V in fe)Object.prototype.hasOwnProperty.call(fe,V)&&(re[V]=fe[V])}return re}function D(re,ie){var fe=re.replace(/\|/g,function(ce,oe,Ce){for(var Oe=!1,Re=oe;--Re>=0&&Ce[Re]==="\\";)Oe=!Oe;return Oe?"|":" |"}),V=fe.split(/ \|/),J=0;if(V[0].trim()||V.shift(),V[V.length-1].trim()||V.pop(),V.length>ie)V.splice(ie);else for(;V.length<ie;)V.push("");for(;J<V.length;J++)V[J]=V[J].trim().replace(/\\\|/g,"|");return V}function h(re,ie,fe){var V=re.length;if(V===0)return"";for(var J=0;J<V;){var ce=re.charAt(V-J-1);if(ce===ie&&!fe)J++;else if(ce!==ie&&fe)J++;else break}return re.substr(0,V-J)}function A(re,ie){if(re.indexOf(ie[1])===-1)return-1;for(var fe=re.length,V=0,J=0;J<fe;J++)if(re[J]==="\\")J++;else if(re[J]===ie[0])V++;else if(re[J]===ie[1]&&(V--,V<0))return J;return-1}function N(re){re&&re.sanitize&&!re.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function $(re,ie){if(ie<1)return"";for(var fe="";ie>1;)ie&1&&(fe+=re),ie>>=1,re+=re;return fe+re}var K={escape:f,unescape:d,edit:g,cleanUrl:l,resolveUrl:o,noopTest:u,merge:v,splitCells:D,rtrim:h,findClosingBracket:A,checkSanitizeDeprecation:N,repeatString:$},j=C.exports.defaults,F=K.rtrim,G=K.splitCells,R=K.escape,B=K.findClosingBracket;function H(re,ie,fe,V){var J=ie.href,ce=ie.title?R(ie.title):null,oe=re[1].replace(/\\([\[\]])/g,"$1");if(re[0].charAt(0)!=="!"){V.state.inLink=!0;var Ce={type:"link",raw:fe,href:J,title:ce,text:oe,tokens:V.inlineTokens(oe,[])};return V.state.inLink=!1,Ce}else return{type:"image",raw:fe,href:J,title:ce,text:R(oe)}}function q(re,ie){var fe=re.match(/^(\s+)(?:```)/);if(fe===null)return ie;var V=fe[1];return ie.split(`
`).map(function(J){var ce=J.match(/^\s+/);if(ce===null)return J;var oe=ce[0];return oe.length>=V.length?J.slice(V.length):J}).join(`
`)}var W=function(){function re(fe){this.options=fe||j}var ie=re.prototype;return ie.space=function(V){var J=this.rules.block.newline.exec(V);if(J)return J[0].length>1?{type:"space",raw:J[0]}:{raw:`
`}},ie.code=function(V){var J=this.rules.block.code.exec(V);if(J){var ce=J[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:J[0],codeBlockStyle:"indented",text:this.options.pedantic?ce:F(ce,`
`)}}},ie.fences=function(V){var J=this.rules.block.fences.exec(V);if(J){var ce=J[0],oe=q(ce,J[3]||"");return{type:"code",raw:ce,lang:J[2]?J[2].trim():J[2],text:oe}}},ie.heading=function(V){var J=this.rules.block.heading.exec(V);if(J){var ce=J[2].trim();if(/#$/.test(ce)){var oe=F(ce,"#");(this.options.pedantic||!oe||/ $/.test(oe))&&(ce=oe.trim())}var Ce={type:"heading",raw:J[0],depth:J[1].length,text:ce,tokens:[]};return this.lexer.inline(Ce.text,Ce.tokens),Ce}},ie.hr=function(V){var J=this.rules.block.hr.exec(V);if(J)return{type:"hr",raw:J[0]}},ie.blockquote=function(V){var J=this.rules.block.blockquote.exec(V);if(J){var ce=J[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:J[0],tokens:this.lexer.blockTokens(ce,[]),text:ce}}},ie.list=function(V){var J=this.rules.block.list.exec(V);if(J){var ce,oe,Ce,Oe,Re,je,Ke,Je,le,ue,Q=J[1].trim(),M=Q.length>1,we={type:"list",raw:"",ordered:M,start:M?+Q.slice(0,-1):"",loose:!1,items:[]};Q=M?"\\d{1,9}\\"+Q.slice(-1):"\\"+Q,this.options.pedantic&&(Q=M?Q:"[*+-]");for(var _e=new RegExp("^( {0,3}"+Q+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");V&&!(this.rules.block.hr.test(V)||!(J=_e.exec(V)));){le=J[2].split(`
`),this.options.pedantic?(Oe=2,ue=le[0].trimLeft()):(Oe=J[2].search(/[^ ]/),Oe=J[1].length+(Oe>4?1:Oe),ue=le[0].slice(Oe-J[1].length)),je=!1,ce=J[0],!le[0]&&/^ *$/.test(le[1])&&(ce=J[1]+le.slice(0,2).join(`
`)+`
`,we.loose=!0,le=[]);var Qe=new RegExp("^ {0,"+Math.min(3,Oe-1)+"}(?:[*+-]|\\d{1,9}[.)])");for(Re=1;Re<le.length;Re++){if(Je=le[Re],this.options.pedantic&&(Je=Je.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Qe.test(Je)){ce=J[1]+le.slice(0,Re).join(`
`)+`
`;break}if(!je){Je.trim()||(je=!0),Je.search(/[^ ]/)>=Oe?ue+=`
`+Je.slice(Oe):ue+=`
`+Je;continue}if(Je.search(/[^ ]/)>=Oe||!Je.trim()){ue+=`
`+Je.slice(Oe);continue}else{ce=J[1]+le.slice(0,Re).join(`
`)+`
`;break}}we.loose||(Ke?we.loose=!0:/\n *\n *$/.test(ce)&&(Ke=!0)),this.options.gfm&&(oe=/^\[[ xX]\] /.exec(ue),oe&&(Ce=oe[0]!=="[ ] ",ue=ue.replace(/^\[[ xX]\] +/,""))),we.items.push({type:"list_item",raw:ce,task:!!oe,checked:Ce,loose:!1,text:ue}),we.raw+=ce,V=V.slice(ce.length)}we.items[we.items.length-1].raw=ce.trimRight(),we.items[we.items.length-1].text=ue.trimRight(),we.raw=we.raw.trimRight();var ze=we.items.length;for(Re=0;Re<ze;Re++)this.lexer.state.top=!1,we.items[Re].tokens=this.lexer.blockTokens(we.items[Re].text,[]),we.items[Re].tokens.some(function(lt){return lt.type==="space"})&&(we.loose=!0,we.items[Re].loose=!0);return we}},ie.html=function(V){var J=this.rules.block.html.exec(V);if(J){var ce={type:"html",raw:J[0],pre:!this.options.sanitizer&&(J[1]==="pre"||J[1]==="script"||J[1]==="style"),text:J[0]};return this.options.sanitize&&(ce.type="paragraph",ce.text=this.options.sanitizer?this.options.sanitizer(J[0]):R(J[0]),ce.tokens=[],this.lexer.inline(ce.text,ce.tokens)),ce}},ie.def=function(V){var J=this.rules.block.def.exec(V);if(J){J[3]&&(J[3]=J[3].substring(1,J[3].length-1));var ce=J[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:ce,raw:J[0],href:J[2],title:J[3]}}},ie.table=function(V){var J=this.rules.block.table.exec(V);if(J){var ce={type:"table",header:G(J[1]).map(function(Ke){return{text:Ke}}),align:J[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:J[3]?J[3].replace(/\n$/,"").split(`
`):[]};if(ce.header.length===ce.align.length){ce.raw=J[0];var oe=ce.align.length,Ce,Oe,Re,je;for(Ce=0;Ce<oe;Ce++)/^ *-+: *$/.test(ce.align[Ce])?ce.align[Ce]="right":/^ *:-+: *$/.test(ce.align[Ce])?ce.align[Ce]="center":/^ *:-+ *$/.test(ce.align[Ce])?ce.align[Ce]="left":ce.align[Ce]=null;for(oe=ce.rows.length,Ce=0;Ce<oe;Ce++)ce.rows[Ce]=G(ce.rows[Ce],ce.header.length).map(function(Ke){return{text:Ke}});for(oe=ce.header.length,Oe=0;Oe<oe;Oe++)ce.header[Oe].tokens=[],this.lexer.inlineTokens(ce.header[Oe].text,ce.header[Oe].tokens);for(oe=ce.rows.length,Oe=0;Oe<oe;Oe++)for(je=ce.rows[Oe],Re=0;Re<je.length;Re++)je[Re].tokens=[],this.lexer.inlineTokens(je[Re].text,je[Re].tokens);return ce}}},ie.lheading=function(V){var J=this.rules.block.lheading.exec(V);if(J){var ce={type:"heading",raw:J[0],depth:J[2].charAt(0)==="="?1:2,text:J[1],tokens:[]};return this.lexer.inline(ce.text,ce.tokens),ce}},ie.paragraph=function(V){var J=this.rules.block.paragraph.exec(V);if(J){var ce={type:"paragraph",raw:J[0],text:J[1].charAt(J[1].length-1)===`
`?J[1].slice(0,-1):J[1],tokens:[]};return this.lexer.inline(ce.text,ce.tokens),ce}},ie.text=function(V){var J=this.rules.block.text.exec(V);if(J){var ce={type:"text",raw:J[0],text:J[0],tokens:[]};return this.lexer.inline(ce.text,ce.tokens),ce}},ie.escape=function(V){var J=this.rules.inline.escape.exec(V);if(J)return{type:"escape",raw:J[0],text:R(J[1])}},ie.tag=function(V){var J=this.rules.inline.tag.exec(V);if(J)return!this.lexer.state.inLink&&/^<a /i.test(J[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(J[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(J[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(J[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:J[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(J[0]):R(J[0]):J[0]}},ie.link=function(V){var J=this.rules.inline.link.exec(V);if(J){var ce=J[2].trim();if(!this.options.pedantic&&/^</.test(ce)){if(!/>$/.test(ce))return;var oe=F(ce.slice(0,-1),"\\");if((ce.length-oe.length)%2==0)return}else{var Ce=B(J[2],"()");if(Ce>-1){var Oe=J[0].indexOf("!")===0?5:4,Re=Oe+J[1].length+Ce;J[2]=J[2].substring(0,Ce),J[0]=J[0].substring(0,Re).trim(),J[3]=""}}var je=J[2],Ke="";if(this.options.pedantic){var Je=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(je);Je&&(je=Je[1],Ke=Je[3])}else Ke=J[3]?J[3].slice(1,-1):"";return je=je.trim(),/^</.test(je)&&(this.options.pedantic&&!/>$/.test(ce)?je=je.slice(1):je=je.slice(1,-1)),H(J,{href:je&&je.replace(this.rules.inline._escapes,"$1"),title:Ke&&Ke.replace(this.rules.inline._escapes,"$1")},J[0],this.lexer)}},ie.reflink=function(V,J){var ce;if((ce=this.rules.inline.reflink.exec(V))||(ce=this.rules.inline.nolink.exec(V))){var oe=(ce[2]||ce[1]).replace(/\s+/g," ");if(oe=J[oe.toLowerCase()],!oe||!oe.href){var Ce=ce[0].charAt(0);return{type:"text",raw:Ce,text:Ce}}return H(ce,oe,ce[0],this.lexer)}},ie.emStrong=function(V,J,ce){ce===void 0&&(ce="");var oe=this.rules.inline.emStrong.lDelim.exec(V);if(!!oe&&!(oe[3]&&ce.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Ce=oe[1]||oe[2]||"";if(!Ce||Ce&&(ce===""||this.rules.inline.punctuation.exec(ce))){var Oe=oe[0].length-1,Re,je,Ke=Oe,Je=0,le=oe[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(le.lastIndex=0,J=J.slice(-1*V.length+Oe);(oe=le.exec(J))!=null;)if(Re=oe[1]||oe[2]||oe[3]||oe[4]||oe[5]||oe[6],!!Re){if(je=Re.length,oe[3]||oe[4]){Ke+=je;continue}else if((oe[5]||oe[6])&&Oe%3&&!((Oe+je)%3)){Je+=je;continue}if(Ke-=je,!(Ke>0)){if(je=Math.min(je,je+Ke+Je),Math.min(Oe,je)%2){var ue=V.slice(1,Oe+oe.index+je);return{type:"em",raw:V.slice(0,Oe+oe.index+je+1),text:ue,tokens:this.lexer.inlineTokens(ue,[])}}var Q=V.slice(2,Oe+oe.index+je-1);return{type:"strong",raw:V.slice(0,Oe+oe.index+je+1),text:Q,tokens:this.lexer.inlineTokens(Q,[])}}}}}},ie.codespan=function(V){var J=this.rules.inline.code.exec(V);if(J){var ce=J[2].replace(/\n/g," "),oe=/[^ ]/.test(ce),Ce=/^ /.test(ce)&&/ $/.test(ce);return oe&&Ce&&(ce=ce.substring(1,ce.length-1)),ce=R(ce,!0),{type:"codespan",raw:J[0],text:ce}}},ie.br=function(V){var J=this.rules.inline.br.exec(V);if(J)return{type:"br",raw:J[0]}},ie.del=function(V){var J=this.rules.inline.del.exec(V);if(J)return{type:"del",raw:J[0],text:J[2],tokens:this.lexer.inlineTokens(J[2],[])}},ie.autolink=function(V,J){var ce=this.rules.inline.autolink.exec(V);if(ce){var oe,Ce;return ce[2]==="@"?(oe=R(this.options.mangle?J(ce[1]):ce[1]),Ce="mailto:"+oe):(oe=R(ce[1]),Ce=oe),{type:"link",raw:ce[0],text:oe,href:Ce,tokens:[{type:"text",raw:oe,text:oe}]}}},ie.url=function(V,J){var ce;if(ce=this.rules.inline.url.exec(V)){var oe,Ce;if(ce[2]==="@")oe=R(this.options.mangle?J(ce[0]):ce[0]),Ce="mailto:"+oe;else{var Oe;do Oe=ce[0],ce[0]=this.rules.inline._backpedal.exec(ce[0])[0];while(Oe!==ce[0]);oe=R(ce[0]),ce[1]==="www."?Ce="http://"+oe:Ce=oe}return{type:"link",raw:ce[0],text:oe,href:Ce,tokens:[{type:"text",raw:oe,text:oe}]}}},ie.inlineText=function(V,J){var ce=this.rules.inline.text.exec(V);if(ce){var oe;return this.lexer.state.inRawBlock?oe=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ce[0]):R(ce[0]):ce[0]:oe=R(this.options.smartypants?J(ce[0]):ce[0]),{type:"text",raw:ce[0],text:oe}}},re}(),U=K.noopTest,x=K.edit,z=K.merge,te={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:U,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};te._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,te._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,te.def=x(te.def).replace("label",te._label).replace("title",te._title).getRegex(),te.bullet=/(?:[*+-]|\d{1,9}[.)])/,te.listItemStart=x(/^( *)(bull) */).replace("bull",te.bullet).getRegex(),te.list=x(te.list).replace(/bull/g,te.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+te.def.source+")").getRegex(),te._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",te._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,te.html=x(te.html,"i").replace("comment",te._comment).replace("tag",te._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),te.paragraph=x(te._paragraph).replace("hr",te.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",te._tag).getRegex(),te.blockquote=x(te.blockquote).replace("paragraph",te.paragraph).getRegex(),te.normal=z({},te),te.gfm=z({},te.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)\\|?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),te.gfm.table=x(te.gfm.table).replace("hr",te.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",te._tag).getRegex(),te.pedantic=z({},te.normal,{html:x(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",te._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:U,paragraph:x(te.normal._paragraph).replace("hr",te.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",te.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var X={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:U,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:U,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};X._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",X.punctuation=x(X.punctuation).replace(/punctuation/g,X._punctuation).getRegex(),X.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,X.escapedEmSt=/\\\*|\\_/g,X._comment=x(te._comment).replace("(?:-->|$)","-->").getRegex(),X.emStrong.lDelim=x(X.emStrong.lDelim).replace(/punct/g,X._punctuation).getRegex(),X.emStrong.rDelimAst=x(X.emStrong.rDelimAst,"g").replace(/punct/g,X._punctuation).getRegex(),X.emStrong.rDelimUnd=x(X.emStrong.rDelimUnd,"g").replace(/punct/g,X._punctuation).getRegex(),X._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,X._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,X._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,X.autolink=x(X.autolink).replace("scheme",X._scheme).replace("email",X._email).getRegex(),X._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,X.tag=x(X.tag).replace("comment",X._comment).replace("attribute",X._attribute).getRegex(),X._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,X._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,X._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,X.link=x(X.link).replace("label",X._label).replace("href",X._href).replace("title",X._title).getRegex(),X.reflink=x(X.reflink).replace("label",X._label).getRegex(),X.reflinkSearch=x(X.reflinkSearch,"g").replace("reflink",X.reflink).replace("nolink",X.nolink).getRegex(),X.normal=z({},X),X.pedantic=z({},X.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:x(/^!?\[(label)\]\((.*?)\)/).replace("label",X._label).getRegex(),reflink:x(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",X._label).getRegex()}),X.gfm=z({},X.normal,{escape:x(X.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),X.gfm.url=x(X.gfm.url,"i").replace("email",X.gfm._extended_email).getRegex(),X.breaks=z({},X.gfm,{br:x(X.br).replace("{2,}","*").getRegex(),text:x(X.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var me={block:te,inline:X},pe=W,se=C.exports.defaults,ne=me.block,Se=me.inline,ye=K.repeatString;function Ae(re){return re.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Fe(re){var ie="",fe,V,J=re.length;for(fe=0;fe<J;fe++)V=re.charCodeAt(fe),Math.random()>.5&&(V="x"+V.toString(16)),ie+="&#"+V+";";return ie}var qe=function(){function re(fe){this.tokens=[],this.tokens.links=Object.create(null),this.options=fe||se,this.options.tokenizer=this.options.tokenizer||new pe,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var V={block:ne.normal,inline:Se.normal};this.options.pedantic?(V.block=ne.pedantic,V.inline=Se.pedantic):this.options.gfm&&(V.block=ne.gfm,this.options.breaks?V.inline=Se.breaks:V.inline=Se.gfm),this.tokenizer.rules=V}re.lex=function(V,J){var ce=new re(J);return ce.lex(V)},re.lexInline=function(V,J){var ce=new re(J);return ce.inlineTokens(V)};var ie=re.prototype;return ie.lex=function(V){V=V.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(V,this.tokens);for(var J;J=this.inlineQueue.shift();)this.inlineTokens(J.src,J.tokens);return this.tokens},ie.blockTokens=function(V,J){var ce=this;J===void 0&&(J=[]),this.options.pedantic&&(V=V.replace(/^ +$/gm,""));for(var oe,Ce,Oe,Re;V;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ke){return(oe=Ke.call({lexer:ce},V,J))?(V=V.substring(oe.raw.length),J.push(oe),!0):!1}))){if(oe=this.tokenizer.space(V)){V=V.substring(oe.raw.length),oe.type&&J.push(oe);continue}if(oe=this.tokenizer.code(V)){V=V.substring(oe.raw.length),Ce=J[J.length-1],Ce&&(Ce.type==="paragraph"||Ce.type==="text")?(Ce.raw+=`
`+oe.raw,Ce.text+=`
`+oe.text,this.inlineQueue[this.inlineQueue.length-1].src=Ce.text):J.push(oe);continue}if(oe=this.tokenizer.fences(V)){V=V.substring(oe.raw.length),J.push(oe);continue}if(oe=this.tokenizer.heading(V)){V=V.substring(oe.raw.length),J.push(oe);continue}if(oe=this.tokenizer.hr(V)){V=V.substring(oe.raw.length),J.push(oe);continue}if(oe=this.tokenizer.blockquote(V)){V=V.substring(oe.raw.length),J.push(oe);continue}if(oe=this.tokenizer.list(V)){V=V.substring(oe.raw.length),J.push(oe);continue}if(oe=this.tokenizer.html(V)){V=V.substring(oe.raw.length),J.push(oe);continue}if(oe=this.tokenizer.def(V)){V=V.substring(oe.raw.length),Ce=J[J.length-1],Ce&&(Ce.type==="paragraph"||Ce.type==="text")?(Ce.raw+=`
`+oe.raw,Ce.text+=`
`+oe.raw,this.inlineQueue[this.inlineQueue.length-1].src=Ce.text):this.tokens.links[oe.tag]||(this.tokens.links[oe.tag]={href:oe.href,title:oe.title});continue}if(oe=this.tokenizer.table(V)){V=V.substring(oe.raw.length),J.push(oe);continue}if(oe=this.tokenizer.lheading(V)){V=V.substring(oe.raw.length),J.push(oe);continue}if(Oe=V,this.options.extensions&&this.options.extensions.startBlock&&function(){var Ke=Infinity,Je=V.slice(1),le=void 0;ce.options.extensions.startBlock.forEach(function(ue){le=ue.call({lexer:this},Je),typeof le=="number"&&le>=0&&(Ke=Math.min(Ke,le))}),Ke<Infinity&&Ke>=0&&(Oe=V.substring(0,Ke+1))}(),this.state.top&&(oe=this.tokenizer.paragraph(Oe))){Ce=J[J.length-1],Re&&Ce.type==="paragraph"?(Ce.raw+=`
`+oe.raw,Ce.text+=`
`+oe.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Ce.text):J.push(oe),Re=Oe.length!==V.length,V=V.substring(oe.raw.length);continue}if(oe=this.tokenizer.text(V)){V=V.substring(oe.raw.length),Ce=J[J.length-1],Ce&&Ce.type==="text"?(Ce.raw+=`
`+oe.raw,Ce.text+=`
`+oe.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Ce.text):J.push(oe);continue}if(V){var je="Infinite loop on byte: "+V.charCodeAt(0);if(this.options.silent){console.error(je);break}else throw new Error(je)}}return this.state.top=!0,J},ie.inline=function(V,J){this.inlineQueue.push({src:V,tokens:J})},ie.inlineTokens=function(V,J){var ce=this;J===void 0&&(J=[]);var oe,Ce,Oe,Re=V,je,Ke,Je;if(this.tokens.links){var le=Object.keys(this.tokens.links);if(le.length>0)for(;(je=this.tokenizer.rules.inline.reflinkSearch.exec(Re))!=null;)le.includes(je[0].slice(je[0].lastIndexOf("[")+1,-1))&&(Re=Re.slice(0,je.index)+"["+ye("a",je[0].length-2)+"]"+Re.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(je=this.tokenizer.rules.inline.blockSkip.exec(Re))!=null;)Re=Re.slice(0,je.index)+"["+ye("a",je[0].length-2)+"]"+Re.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(je=this.tokenizer.rules.inline.escapedEmSt.exec(Re))!=null;)Re=Re.slice(0,je.index)+"++"+Re.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;V;)if(Ke||(Je=""),Ke=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Q){return(oe=Q.call({lexer:ce},V,J))?(V=V.substring(oe.raw.length),J.push(oe),!0):!1}))){if(oe=this.tokenizer.escape(V)){V=V.substring(oe.raw.length),J.push(oe);continue}if(oe=this.tokenizer.tag(V)){V=V.substring(oe.raw.length),Ce=J[J.length-1],Ce&&oe.type==="text"&&Ce.type==="text"?(Ce.raw+=oe.raw,Ce.text+=oe.text):J.push(oe);continue}if(oe=this.tokenizer.link(V)){V=V.substring(oe.raw.length),J.push(oe);continue}if(oe=this.tokenizer.reflink(V,this.tokens.links)){V=V.substring(oe.raw.length),Ce=J[J.length-1],Ce&&oe.type==="text"&&Ce.type==="text"?(Ce.raw+=oe.raw,Ce.text+=oe.text):J.push(oe);continue}if(oe=this.tokenizer.emStrong(V,Re,Je)){V=V.substring(oe.raw.length),J.push(oe);continue}if(oe=this.tokenizer.codespan(V)){V=V.substring(oe.raw.length),J.push(oe);continue}if(oe=this.tokenizer.br(V)){V=V.substring(oe.raw.length),J.push(oe);continue}if(oe=this.tokenizer.del(V)){V=V.substring(oe.raw.length),J.push(oe);continue}if(oe=this.tokenizer.autolink(V,Fe)){V=V.substring(oe.raw.length),J.push(oe);continue}if(!this.state.inLink&&(oe=this.tokenizer.url(V,Fe))){V=V.substring(oe.raw.length),J.push(oe);continue}if(Oe=V,this.options.extensions&&this.options.extensions.startInline&&function(){var Q=Infinity,M=V.slice(1),we=void 0;ce.options.extensions.startInline.forEach(function(_e){we=_e.call({lexer:this},M),typeof we=="number"&&we>=0&&(Q=Math.min(Q,we))}),Q<Infinity&&Q>=0&&(Oe=V.substring(0,Q+1))}(),oe=this.tokenizer.inlineText(Oe,Ae)){V=V.substring(oe.raw.length),oe.raw.slice(-1)!=="_"&&(Je=oe.raw.slice(-1)),Ke=!0,Ce=J[J.length-1],Ce&&Ce.type==="text"?(Ce.raw+=oe.raw,Ce.text+=oe.text):J.push(oe);continue}if(V){var ue="Infinite loop on byte: "+V.charCodeAt(0);if(this.options.silent){console.error(ue);break}else throw new Error(ue)}}return J},e(re,null,[{key:"rules",get:function(){return{block:ne,inline:Se}}}]),re}(),Be=C.exports.defaults,nt=K.cleanUrl,ge=K.escape,ve=function(){function re(fe){this.options=fe||Be}var ie=re.prototype;return ie.code=function(V,J,ce){var oe=(J||"").match(/\S*/)[0];if(this.options.highlight){var Ce=this.options.highlight(V,oe);Ce!=null&&Ce!==V&&(ce=!0,V=Ce)}return V=V.replace(/\n$/,"")+`
`,oe?'<pre><code class="'+this.options.langPrefix+ge(oe,!0)+'">'+(ce?V:ge(V,!0))+`</code></pre>
`:"<pre><code>"+(ce?V:ge(V,!0))+`</code></pre>
`},ie.blockquote=function(V){return`<blockquote>
`+V+`</blockquote>
`},ie.html=function(V){return V},ie.heading=function(V,J,ce,oe){return this.options.headerIds?"<h"+J+' id="'+this.options.headerPrefix+oe.slug(ce)+'">'+V+"</h"+J+`>
`:"<h"+J+">"+V+"</h"+J+`>
`},ie.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ie.list=function(V,J,ce){var oe=J?"ol":"ul",Ce=J&&ce!==1?' start="'+ce+'"':"";return"<"+oe+Ce+`>
`+V+"</"+oe+`>
`},ie.listitem=function(V){return"<li>"+V+`</li>
`},ie.checkbox=function(V){return"<input "+(V?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ie.paragraph=function(V){return"<p>"+V+`</p>
`},ie.table=function(V,J){return J&&(J="<tbody>"+J+"</tbody>"),`<table>
<thead>
`+V+`</thead>
`+J+`</table>
`},ie.tablerow=function(V){return`<tr>
`+V+`</tr>
`},ie.tablecell=function(V,J){var ce=J.header?"th":"td",oe=J.align?"<"+ce+' align="'+J.align+'">':"<"+ce+">";return oe+V+"</"+ce+`>
`},ie.strong=function(V){return"<strong>"+V+"</strong>"},ie.em=function(V){return"<em>"+V+"</em>"},ie.codespan=function(V){return"<code>"+V+"</code>"},ie.br=function(){return this.options.xhtml?"<br/>":"<br>"},ie.del=function(V){return"<del>"+V+"</del>"},ie.link=function(V,J,ce){if(V=nt(this.options.sanitize,this.options.baseUrl,V),V===null)return ce;var oe='<a href="'+ge(V)+'"';return J&&(oe+=' title="'+J+'"'),oe+=">"+ce+"</a>",oe},ie.image=function(V,J,ce){if(V=nt(this.options.sanitize,this.options.baseUrl,V),V===null)return ce;var oe='<img src="'+V+'" alt="'+ce+'"';return J&&(oe+=' title="'+J+'"'),oe+=this.options.xhtml?"/>":">",oe},ie.text=function(V){return V},re}(),Pe=function(){function re(){}var ie=re.prototype;return ie.strong=function(V){return V},ie.em=function(V){return V},ie.codespan=function(V){return V},ie.del=function(V){return V},ie.html=function(V){return V},ie.text=function(V){return V},ie.link=function(V,J,ce){return""+ce},ie.image=function(V,J,ce){return""+ce},ie.br=function(){return""},re}(),Le=function(){function re(){this.seen={}}var ie=re.prototype;return ie.serialize=function(V){return V.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ie.getNextSafeSlug=function(V,J){var ce=V,oe=0;if(this.seen.hasOwnProperty(ce)){oe=this.seen[V];do oe++,ce=V+"-"+oe;while(this.seen.hasOwnProperty(ce))}return J||(this.seen[V]=oe,this.seen[ce]=0),ce},ie.slug=function(V,J){J===void 0&&(J={});var ce=this.serialize(V);return this.getNextSafeSlug(ce,J.dryrun)},re}(),Me=ve,He=Pe,Ye=Le,Ze=C.exports.defaults,ot=K.unescape,ae=function(){function re(fe){this.options=fe||Ze,this.options.renderer=this.options.renderer||new Me,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new He,this.slugger=new Ye}re.parse=function(V,J){var ce=new re(J);return ce.parse(V)},re.parseInline=function(V,J){var ce=new re(J);return ce.parseInline(V)};var ie=re.prototype;return ie.parse=function(V,J){J===void 0&&(J=!0);var ce="",oe,Ce,Oe,Re,je,Ke,Je,le,ue,Q,M,we,_e,Qe,ze,lt,ht,mt,ft,gt=V.length;for(oe=0;oe<gt;oe++){if(Q=V[oe],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Q.type]&&(ft=this.options.extensions.renderers[Q.type].call({parser:this},Q),ft!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Q.type))){ce+=ft||"";continue}switch(Q.type){case"space":continue;case"hr":{ce+=this.renderer.hr();continue}case"heading":{ce+=this.renderer.heading(this.parseInline(Q.tokens),Q.depth,ot(this.parseInline(Q.tokens,this.textRenderer)),this.slugger);continue}case"code":{ce+=this.renderer.code(Q.text,Q.lang,Q.escaped);continue}case"table":{for(le="",Je="",Re=Q.header.length,Ce=0;Ce<Re;Ce++)Je+=this.renderer.tablecell(this.parseInline(Q.header[Ce].tokens),{header:!0,align:Q.align[Ce]});for(le+=this.renderer.tablerow(Je),ue="",Re=Q.rows.length,Ce=0;Ce<Re;Ce++){for(Ke=Q.rows[Ce],Je="",je=Ke.length,Oe=0;Oe<je;Oe++)Je+=this.renderer.tablecell(this.parseInline(Ke[Oe].tokens),{header:!1,align:Q.align[Oe]});ue+=this.renderer.tablerow(Je)}ce+=this.renderer.table(le,ue);continue}case"blockquote":{ue=this.parse(Q.tokens),ce+=this.renderer.blockquote(ue);continue}case"list":{for(M=Q.ordered,we=Q.start,_e=Q.loose,Re=Q.items.length,ue="",Ce=0;Ce<Re;Ce++)ze=Q.items[Ce],lt=ze.checked,ht=ze.task,Qe="",ze.task&&(mt=this.renderer.checkbox(lt),_e?ze.tokens.length>0&&ze.tokens[0].type==="paragraph"?(ze.tokens[0].text=mt+" "+ze.tokens[0].text,ze.tokens[0].tokens&&ze.tokens[0].tokens.length>0&&ze.tokens[0].tokens[0].type==="text"&&(ze.tokens[0].tokens[0].text=mt+" "+ze.tokens[0].tokens[0].text)):ze.tokens.unshift({type:"text",text:mt}):Qe+=mt),Qe+=this.parse(ze.tokens,_e),ue+=this.renderer.listitem(Qe,ht,lt);ce+=this.renderer.list(ue,M,we);continue}case"html":{ce+=this.renderer.html(Q.text);continue}case"paragraph":{ce+=this.renderer.paragraph(this.parseInline(Q.tokens));continue}case"text":{for(ue=Q.tokens?this.parseInline(Q.tokens):Q.text;oe+1<gt&&V[oe+1].type==="text";)Q=V[++oe],ue+=`
`+(Q.tokens?this.parseInline(Q.tokens):Q.text);ce+=J?this.renderer.paragraph(ue):ue;continue}default:{var vt='Token with "'+Q.type+'" type was not found.';if(this.options.silent){console.error(vt);return}else throw new Error(vt)}}}return ce},ie.parseInline=function(V,J){J=J||this.renderer;var ce="",oe,Ce,Oe,Re=V.length;for(oe=0;oe<Re;oe++){if(Ce=V[oe],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ce.type]&&(Oe=this.options.extensions.renderers[Ce.type].call({parser:this},Ce),Oe!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Ce.type))){ce+=Oe||"";continue}switch(Ce.type){case"escape":{ce+=J.text(Ce.text);break}case"html":{ce+=J.html(Ce.text);break}case"link":{ce+=J.link(Ce.href,Ce.title,this.parseInline(Ce.tokens,J));break}case"image":{ce+=J.image(Ce.href,Ce.title,Ce.text);break}case"strong":{ce+=J.strong(this.parseInline(Ce.tokens,J));break}case"em":{ce+=J.em(this.parseInline(Ce.tokens,J));break}case"codespan":{ce+=J.codespan(Ce.text);break}case"br":{ce+=J.br();break}case"del":{ce+=J.del(this.parseInline(Ce.tokens,J));break}case"text":{ce+=J.text(Ce.text);break}default:{var je='Token with "'+Ce.type+'" type was not found.';if(this.options.silent){console.error(je);return}else throw new Error(je)}}}return ce},re}(),be=qe,Ie=ae,We=W,Xe=ve,at=Pe,it=Le,ee=K.merge,De=K.checkSanitizeDeprecation,Te=K.escape,$e=C.exports.getDefaults,Ve=C.exports.changeDefaults,et=C.exports.defaults;function Ue(re,ie,fe){if(typeof re=="undefined"||re===null)throw new Error("marked(): input parameter is undefined or null");if(typeof re!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(re)+", string expected");if(typeof ie=="function"&&(fe=ie,ie=null),ie=ee({},Ue.defaults,ie||{}),De(ie),fe){var V=ie.highlight,J;try{J=be.lex(re,ie)}catch(Oe){return fe(Oe)}var ce=function(Re){var je;if(!Re)try{ie.walkTokens&&Ue.walkTokens(J,ie.walkTokens),je=Ie.parse(J,ie)}catch(Ke){Re=Ke}return ie.highlight=V,Re?fe(Re):fe(null,je)};if(!V||V.length<3||(delete ie.highlight,!J.length))return ce();var oe=0;Ue.walkTokens(J,function(Oe){Oe.type==="code"&&(oe++,setTimeout(function(){V(Oe.text,Oe.lang,function(Re,je){if(Re)return ce(Re);je!=null&&je!==Oe.text&&(Oe.text=je,Oe.escaped=!0),oe--,oe===0&&ce()})},0))}),oe===0&&ce();return}try{var Ce=be.lex(re,ie);return ie.walkTokens&&Ue.walkTokens(Ce,ie.walkTokens),Ie.parse(Ce,ie)}catch(Oe){if(Oe.message+=`
Please report this to https://github.com/markedjs/marked.`,ie.silent)return"<p>An error occurred:</p><pre>"+Te(Oe.message+"",!0)+"</pre>";throw Oe}}Ue.options=Ue.setOptions=function(re){return ee(Ue.defaults,re),Ve(Ue.defaults),Ue},Ue.getDefaults=$e,Ue.defaults=et,Ue.use=function(){for(var re=this,ie=arguments.length,fe=new Array(ie),V=0;V<ie;V++)fe[V]=arguments[V];var J=ee.apply(void 0,[{}].concat(fe)),ce=Ue.defaults.extensions||{renderers:{},childTokens:{}},oe;fe.forEach(function(Ce){if(Ce.extensions&&(oe=!0,Ce.extensions.forEach(function(Re){if(!Re.name)throw new Error("extension name required");if(Re.renderer){var je=ce.renderers?ce.renderers[Re.name]:null;je?ce.renderers[Re.name]=function(){for(var Ke=arguments.length,Je=new Array(Ke),le=0;le<Ke;le++)Je[le]=arguments[le];var ue=Re.renderer.apply(this,Je);return ue===!1&&(ue=je.apply(this,Je)),ue}:ce.renderers[Re.name]=Re.renderer}if(Re.tokenizer){if(!Re.level||Re.level!=="block"&&Re.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");ce[Re.level]?ce[Re.level].unshift(Re.tokenizer):ce[Re.level]=[Re.tokenizer],Re.start&&(Re.level==="block"?ce.startBlock?ce.startBlock.push(Re.start):ce.startBlock=[Re.start]:Re.level==="inline"&&(ce.startInline?ce.startInline.push(Re.start):ce.startInline=[Re.start]))}Re.childTokens&&(ce.childTokens[Re.name]=Re.childTokens)})),Ce.renderer&&function(){var Re=Ue.defaults.renderer||new Xe,je=function(le){var ue=Re[le];Re[le]=function(){for(var Q=arguments.length,M=new Array(Q),we=0;we<Q;we++)M[we]=arguments[we];var _e=Ce.renderer[le].apply(Re,M);return _e===!1&&(_e=ue.apply(Re,M)),_e}};for(var Ke in Ce.renderer)je(Ke);J.renderer=Re}(),Ce.tokenizer&&function(){var Re=Ue.defaults.tokenizer||new We,je=function(le){var ue=Re[le];Re[le]=function(){for(var Q=arguments.length,M=new Array(Q),we=0;we<Q;we++)M[we]=arguments[we];var _e=Ce.tokenizer[le].apply(Re,M);return _e===!1&&(_e=ue.apply(Re,M)),_e}};for(var Ke in Ce.tokenizer)je(Ke);J.tokenizer=Re}(),Ce.walkTokens){var Oe=Ue.defaults.walkTokens;J.walkTokens=function(Re){Ce.walkTokens.call(re,Re),Oe&&Oe(Re)}}oe&&(J.extensions=ce),Ue.setOptions(J)})},Ue.walkTokens=function(re,ie){for(var fe=function(){var oe=J.value;switch(ie(oe),oe.type){case"table":{for(var Ce=y(oe.header),Oe;!(Oe=Ce()).done;){var Re=Oe.value;Ue.walkTokens(Re.tokens,ie)}for(var je=y(oe.rows),Ke;!(Ke=je()).done;)for(var Je=Ke.value,le=y(Je),ue;!(ue=le()).done;){var Q=ue.value;Ue.walkTokens(Q.tokens,ie)}break}case"list":{Ue.walkTokens(oe.items,ie);break}default:Ue.defaults.extensions&&Ue.defaults.extensions.childTokens&&Ue.defaults.extensions.childTokens[oe.type]?Ue.defaults.extensions.childTokens[oe.type].forEach(function(M){Ue.walkTokens(oe[M],ie)}):oe.tokens&&Ue.walkTokens(oe.tokens,ie)}},V=y(re),J;!(J=V()).done;)fe()},Ue.parseInline=function(re,ie){if(typeof re=="undefined"||re===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof re!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(re)+", string expected");ie=ee({},Ue.defaults,ie||{}),De(ie);try{var fe=be.lexInline(re,ie);return ie.walkTokens&&Ue.walkTokens(fe,ie.walkTokens),Ie.parseInline(fe,ie)}catch(V){if(V.message+=`
Please report this to https://github.com/markedjs/marked.`,ie.silent)return"<p>An error occurred:</p><pre>"+Te(V.message+"",!0)+"</pre>";throw V}},Ue.Parser=Ie,Ue.parser=Ie.parse,Ue.Renderer=Xe,Ue.TextRenderer=at,Ue.Lexer=be,Ue.lexer=be.lex,Ue.Tokenizer=We,Ue.Slugger=it,Ue.parse=Ue;var ke=Ue;return ke}),define(he[119],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovingAverage=e.Counter=e.rot=e.clamp=void 0;function P(I,k,m){return Math.min(Math.max(I,k),m)}e.clamp=P;function _(I,k){return(k+I%k)%k}e.rot=_;class y{constructor(){this._next=0}getNext(){return this._next++}}e.Counter=y;class C{constructor(){this._n=1,this._val=0}update(k){return this._val=this._val+(k-this._val)/this._n,this._n+=1,this}get value(){return this._val}}e.MovingAverage=C}),function(){function Z(y){const C=[];typeof y=="number"&&C.push("code/timeOrigin",y);function I(m){C.push(m,Date.now())}function k(){const m=[];for(let E=0;E<C.length;E+=2)m.push({name:C[E],startTime:C[E+1]});return m}return{mark:I,getMarks:k}}function e(){if(typeof performance=="object"&&typeof performance.mark=="function")return typeof performance.timeOrigin!="number"&&!performance.timing?Z():{mark(y){performance.mark(y)},getMarks(){let y=performance.timeOrigin;typeof y!="number"&&(y=performance.timing.navigationStart||performance.timing.redirectStart||performance.timing.fetchStart);const C=[{name:"code/timeOrigin",startTime:Math.round(y)}];for(const I of performance.getEntriesByType("mark"))C.push({name:I.name,startTime:Math.round(y+I.startTime)});return C}};if(typeof process=="object"){const y=Math.round((require.nodeRequire||require)("perf_hooks").performance.timeOrigin);return Z(y)}else return console.trace("perf-util loaded in UNKNOWN environment"),Z()}function P(y){return y.MonacoPerformanceMarks||(y.MonacoPerformanceMarks=e()),y.MonacoPerformanceMarks}var _;typeof global=="object"?_=global:typeof self=="object"?_=self:_={},typeof define=="function"?define("vs/base/common/performance",[],function(){return P(_)}):typeof module=="object"&&typeof module.exports=="object"?module.exports=P(_):(console.trace("perf-util defined in UNKNOWN context (neither requirejs or commonjs)"),_.perf=P(_))}(),define(he[4],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isLittleEndian=e.OS=e.OperatingSystem=e.setImmediate=e.translationsConfigFile=e.locale=e.Language=e.language=e.userAgent=e.platform=e.isIOS=e.isWeb=e.isNative=e.isLinuxSnap=e.isLinux=e.isMacintosh=e.isWindows=e.PlatformToString=e.Platform=e.isElectronSandboxed=e.globals=void 0;const P="en";let _=!1,y=!1,C=!1,I=!1,k=!1,m=!1,E=!1,i,T=P,p,b;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let f;typeof e.globals.vscode!="undefined"&&typeof e.globals.vscode.process!="undefined"?f=e.globals.vscode.process:typeof process!="undefined"&&(f=process);const w=typeof f?.versions?.electron=="string"&&f.type==="renderer";if(e.isElectronSandboxed=w&&f?.sandboxed,typeof navigator=="object"&&!w)b=navigator.userAgent,_=b.indexOf("Windows")>=0,y=b.indexOf("Macintosh")>=0,E=(b.indexOf("Macintosh")>=0||b.indexOf("iPad")>=0||b.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,C=b.indexOf("Linux")>=0,m=!0,i=navigator.language,T=i;else if(typeof f=="object"){_=f.platform==="win32",y=f.platform==="darwin",C=f.platform==="linux",I=C&&!!f.env.SNAP&&!!f.env.SNAP_REVISION,i=P,T=P;const r=f.env.VSCODE_NLS_CONFIG;if(r)try{const t=JSON.parse(r),o=t.availableLanguages["*"];i=t.locale,T=o||P,p=t._translationsConfigFile}catch(t){}k=!0}else console.error("Unable to resolve platform.");var d;(function(r){r[r.Web=0]="Web",r[r.Mac=1]="Mac",r[r.Linux=2]="Linux",r[r.Windows=3]="Windows"})(d=e.Platform||(e.Platform={}));function S(r){switch(r){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}e.PlatformToString=S;let g=0;y?g=1:_?g=3:C&&(g=2),e.isWindows=_,e.isMacintosh=y,e.isLinux=C,e.isLinuxSnap=I,e.isNative=k,e.isWeb=m,e.isIOS=E,e.platform=g,e.userAgent=b,e.language=T;var c;(function(r){function t(){return e.language}r.value=t;function o(){return e.language.length===2?e.language==="en":e.language.length>=3?e.language[0]==="e"&&e.language[1]==="n"&&e.language[2]==="-":!1}r.isDefaultVariant=o;function u(){return e.language==="en"}r.isDefault=u})(c=e.Language||(e.Language={})),e.locale=i,e.translationsConfigFile=p,e.setImmediate=function(){if(e.globals.setImmediate)return e.globals.setImmediate.bind(e.globals);if(typeof e.globals.postMessage=="function"&&!e.globals.importScripts){let o=[];e.globals.addEventListener("message",v=>{if(v.data&&v.data.vscodeSetImmediateId)for(let D=0,h=o.length;D<h;D++){const A=o[D];if(A.id===v.data.vscodeSetImmediateId){o.splice(D,1),A.callback();return}}});let u=0;return v=>{const D=++u;o.push({id:D,callback:v}),e.globals.postMessage({vscodeSetImmediateId:D},"*")}}if(typeof f?.nextTick=="function")return f.nextTick.bind(f);const t=Promise.resolve();return o=>t.then(o)}();var a;(function(r){r[r.Windows=1]="Windows",r[r.Macintosh=2]="Macintosh",r[r.Linux=3]="Linux"})(a=e.OperatingSystem||(e.OperatingSystem={})),e.OS=y||E?2:_?1:3;let l=!0,n=!1;function s(){if(!n){n=!0;const r=new Uint8Array(2);r[0]=1,r[1]=2,l=new Uint16Array(r.buffer)[0]===(2<<8)+1}return l}e.isLittleEndian=s}),define(he[22],de([0,1,4]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arch=e.nextTick=e.platform=e.env=e.cwd=void 0;let _;if(typeof P.globals.vscode!="undefined"&&typeof P.globals.vscode.process!="undefined"){const y=P.globals.vscode.process;_={get platform(){return y.platform},get arch(){return y.arch},get env(){return y.env},cwd(){return y.cwd()},nextTick(C){return(0,P.setImmediate)(C)}}}else typeof process!="undefined"?_={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()},nextTick(y){return process.nextTick(y)}}:_={get platform(){return P.isWindows?"win32":P.isMacintosh?"darwin":"linux"},get arch(){},nextTick(y){return(0,P.setImmediate)(y)},get env(){return{}},cwd(){return"/"}};e.cwd=_.cwd,e.env=_.env,e.platform=_.platform,e.nextTick=_.nextTick,e.arch=_.arch}),define(he[3],de([0,1,22]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.delimiter=e.sep=e.toNamespacedPath=e.parse=e.format=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.join=e.isAbsolute=e.normalize=e.posix=e.win32=void 0;const _=65,y=97,C=90,I=122,k=46,m=47,E=92,i=58,T=63;class p extends Error{constructor(a,l,n){let s;typeof l=="string"&&l.indexOf("not ")===0?(s="must not be",l=l.replace(/^not /,"")):s="must be";const r=a.indexOf(".")!==-1?"property":"argument";let t=`The "${a}" ${r} ${s} of type ${l}`;t+=`. Received type ${typeof n}`,super(t),this.code="ERR_INVALID_ARG_TYPE"}}function b(c,a){if(typeof c!="string")throw new p(a,"string",c)}function f(c){return c===m||c===E}function w(c){return c===m}function d(c){return c>=_&&c<=C||c>=y&&c<=I}function S(c,a,l,n){let s="",r=0,t=-1,o=0,u=0;for(let v=0;v<=c.length;++v){if(v<c.length)u=c.charCodeAt(v);else{if(n(u))break;u=m}if(n(u)){if(!(t===v-1||o===1))if(o===2){if(s.length<2||r!==2||s.charCodeAt(s.length-1)!==k||s.charCodeAt(s.length-2)!==k){if(s.length>2){const D=s.lastIndexOf(l);D===-1?(s="",r=0):(s=s.slice(0,D),r=s.length-1-s.lastIndexOf(l)),t=v,o=0;continue}else if(s.length!==0){s="",r=0,t=v,o=0;continue}}a&&(s+=s.length>0?`${l}..`:"..",r=2)}else s.length>0?s+=`${l}${c.slice(t+1,v)}`:s=c.slice(t+1,v),r=v-t-1;t=v,o=0}else u===k&&o!==-1?++o:o=-1}return s}function g(c,a){if(a===null||typeof a!="object")throw new p("pathObject","Object",a);const l=a.dir||a.root,n=a.base||`${a.name||""}${a.ext||""}`;return l?l===a.root?`${l}${n}`:`${l}${c}${n}`:n}e.win32={resolve(...c){let a="",l="",n=!1;for(let s=c.length-1;s>=-1;s--){let r;if(s>=0){if(r=c[s],b(r,"path"),r.length===0)continue}else a.length===0?r=P.cwd():(r=P.env[`=${a}`]||P.cwd(),(r===void 0||r.slice(0,2).toLowerCase()!==a.toLowerCase()&&r.charCodeAt(2)===E)&&(r=`${a}\\`));const t=r.length;let o=0,u="",v=!1;const D=r.charCodeAt(0);if(t===1)f(D)&&(o=1,v=!0);else if(f(D))if(v=!0,f(r.charCodeAt(1))){let h=2,A=h;for(;h<t&&!f(r.charCodeAt(h));)h++;if(h<t&&h!==A){const N=r.slice(A,h);for(A=h;h<t&&f(r.charCodeAt(h));)h++;if(h<t&&h!==A){for(A=h;h<t&&!f(r.charCodeAt(h));)h++;(h===t||h!==A)&&(u=`\\\\${N}\\${r.slice(A,h)}`,o=h)}}}else o=1;else d(D)&&r.charCodeAt(1)===i&&(u=r.slice(0,2),o=2,t>2&&f(r.charCodeAt(2))&&(v=!0,o=3));if(u.length>0)if(a.length>0){if(u.toLowerCase()!==a.toLowerCase())continue}else a=u;if(n){if(a.length>0)break}else if(l=`${r.slice(o)}\\${l}`,n=v,v&&a.length>0)break}return l=S(l,!n,"\\",f),n?`${a}\\${l}`:`${a}${l}`||"."},normalize(c){b(c,"path");const a=c.length;if(a===0)return".";let l=0,n,s=!1;const r=c.charCodeAt(0);if(a===1)return w(r)?"\\":c;if(f(r))if(s=!0,f(c.charCodeAt(1))){let o=2,u=o;for(;o<a&&!f(c.charCodeAt(o));)o++;if(o<a&&o!==u){const v=c.slice(u,o);for(u=o;o<a&&f(c.charCodeAt(o));)o++;if(o<a&&o!==u){for(u=o;o<a&&!f(c.charCodeAt(o));)o++;if(o===a)return`\\\\${v}\\${c.slice(u)}\\`;o!==u&&(n=`\\\\${v}\\${c.slice(u,o)}`,l=o)}}}else l=1;else d(r)&&c.charCodeAt(1)===i&&(n=c.slice(0,2),l=2,a>2&&f(c.charCodeAt(2))&&(s=!0,l=3));let t=l<a?S(c.slice(l),!s,"\\",f):"";return t.length===0&&!s&&(t="."),t.length>0&&f(c.charCodeAt(a-1))&&(t+="\\"),n===void 0?s?`\\${t}`:t:s?`${n}\\${t}`:`${n}${t}`},isAbsolute(c){b(c,"path");const a=c.length;if(a===0)return!1;const l=c.charCodeAt(0);return f(l)||a>2&&d(l)&&c.charCodeAt(1)===i&&f(c.charCodeAt(2))},join(...c){if(c.length===0)return".";let a,l;for(let r=0;r<c.length;++r){const t=c[r];b(t,"path"),t.length>0&&(a===void 0?a=l=t:a+=`\\${t}`)}if(a===void 0)return".";let n=!0,s=0;if(typeof l=="string"&&f(l.charCodeAt(0))){++s;const r=l.length;r>1&&f(l.charCodeAt(1))&&(++s,r>2&&(f(l.charCodeAt(2))?++s:n=!1))}if(n){for(;s<a.length&&f(a.charCodeAt(s));)s++;s>=2&&(a=`\\${a.slice(s)}`)}return e.win32.normalize(a)},relative(c,a){if(b(c,"from"),b(a,"to"),c===a)return"";const l=e.win32.resolve(c),n=e.win32.resolve(a);if(l===n||(c=l.toLowerCase(),a=n.toLowerCase(),c===a))return"";let s=0;for(;s<c.length&&c.charCodeAt(s)===E;)s++;let r=c.length;for(;r-1>s&&c.charCodeAt(r-1)===E;)r--;const t=r-s;let o=0;for(;o<a.length&&a.charCodeAt(o)===E;)o++;let u=a.length;for(;u-1>o&&a.charCodeAt(u-1)===E;)u--;const v=u-o,D=t<v?t:v;let h=-1,A=0;for(;A<D;A++){const $=c.charCodeAt(s+A);if($!==a.charCodeAt(o+A))break;$===E&&(h=A)}if(A!==D){if(h===-1)return n}else{if(v>D){if(a.charCodeAt(o+A)===E)return n.slice(o+A+1);if(A===2)return n.slice(o+A)}t>D&&(c.charCodeAt(s+A)===E?h=A:A===2&&(h=3)),h===-1&&(h=0)}let N="";for(A=s+h+1;A<=r;++A)(A===r||c.charCodeAt(A)===E)&&(N+=N.length===0?"..":"\\..");return o+=h,N.length>0?`${N}${n.slice(o,u)}`:(n.charCodeAt(o)===E&&++o,n.slice(o,u))},toNamespacedPath(c){if(typeof c!="string")return c;if(c.length===0)return"";const a=e.win32.resolve(c);if(a.length<=2)return c;if(a.charCodeAt(0)===E){if(a.charCodeAt(1)===E){const l=a.charCodeAt(2);if(l!==T&&l!==k)return`\\\\?\\UNC\\${a.slice(2)}`}}else if(d(a.charCodeAt(0))&&a.charCodeAt(1)===i&&a.charCodeAt(2)===E)return`\\\\?\\${a}`;return c},dirname(c){b(c,"path");const a=c.length;if(a===0)return".";let l=-1,n=0;const s=c.charCodeAt(0);if(a===1)return f(s)?c:".";if(f(s)){if(l=n=1,f(c.charCodeAt(1))){let o=2,u=o;for(;o<a&&!f(c.charCodeAt(o));)o++;if(o<a&&o!==u){for(u=o;o<a&&f(c.charCodeAt(o));)o++;if(o<a&&o!==u){for(u=o;o<a&&!f(c.charCodeAt(o));)o++;if(o===a)return c;o!==u&&(l=n=o+1)}}}}else d(s)&&c.charCodeAt(1)===i&&(l=a>2&&f(c.charCodeAt(2))?3:2,n=l);let r=-1,t=!0;for(let o=a-1;o>=n;--o)if(f(c.charCodeAt(o))){if(!t){r=o;break}}else t=!1;if(r===-1){if(l===-1)return".";r=l}return c.slice(0,r)},basename(c,a){a!==void 0&&b(a,"ext"),b(c,"path");let l=0,n=-1,s=!0,r;if(c.length>=2&&d(c.charCodeAt(0))&&c.charCodeAt(1)===i&&(l=2),a!==void 0&&a.length>0&&a.length<=c.length){if(a===c)return"";let t=a.length-1,o=-1;for(r=c.length-1;r>=l;--r){const u=c.charCodeAt(r);if(f(u)){if(!s){l=r+1;break}}else o===-1&&(s=!1,o=r+1),t>=0&&(u===a.charCodeAt(t)?--t==-1&&(n=r):(t=-1,n=o))}return l===n?n=o:n===-1&&(n=c.length),c.slice(l,n)}for(r=c.length-1;r>=l;--r)if(f(c.charCodeAt(r))){if(!s){l=r+1;break}}else n===-1&&(s=!1,n=r+1);return n===-1?"":c.slice(l,n)},extname(c){b(c,"path");let a=0,l=-1,n=0,s=-1,r=!0,t=0;c.length>=2&&c.charCodeAt(1)===i&&d(c.charCodeAt(0))&&(a=n=2);for(let o=c.length-1;o>=a;--o){const u=c.charCodeAt(o);if(f(u)){if(!r){n=o+1;break}continue}s===-1&&(r=!1,s=o+1),u===k?l===-1?l=o:t!==1&&(t=1):l!==-1&&(t=-1)}return l===-1||s===-1||t===0||t===1&&l===s-1&&l===n+1?"":c.slice(l,s)},format:g.bind(null,"\\"),parse(c){b(c,"path");const a={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return a;const l=c.length;let n=0,s=c.charCodeAt(0);if(l===1)return f(s)?(a.root=a.dir=c,a):(a.base=a.name=c,a);if(f(s)){if(n=1,f(c.charCodeAt(1))){let h=2,A=h;for(;h<l&&!f(c.charCodeAt(h));)h++;if(h<l&&h!==A){for(A=h;h<l&&f(c.charCodeAt(h));)h++;if(h<l&&h!==A){for(A=h;h<l&&!f(c.charCodeAt(h));)h++;h===l?n=h:h!==A&&(n=h+1)}}}}else if(d(s)&&c.charCodeAt(1)===i){if(l<=2)return a.root=a.dir=c,a;if(n=2,f(c.charCodeAt(2))){if(l===3)return a.root=a.dir=c,a;n=3}}n>0&&(a.root=c.slice(0,n));let r=-1,t=n,o=-1,u=!0,v=c.length-1,D=0;for(;v>=n;--v){if(s=c.charCodeAt(v),f(s)){if(!u){t=v+1;break}continue}o===-1&&(u=!1,o=v+1),s===k?r===-1?r=v:D!==1&&(D=1):r!==-1&&(D=-1)}return o!==-1&&(r===-1||D===0||D===1&&r===o-1&&r===t+1?a.base=a.name=c.slice(t,o):(a.name=c.slice(t,r),a.base=c.slice(t,o),a.ext=c.slice(r,o))),t>0&&t!==n?a.dir=c.slice(0,t-1):a.dir=a.root,a},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...c){let a="",l=!1;for(let n=c.length-1;n>=-1&&!l;n--){const s=n>=0?c[n]:P.cwd();b(s,"path"),s.length!==0&&(a=`${s}/${a}`,l=s.charCodeAt(0)===m)}return a=S(a,!l,"/",w),l?`/${a}`:a.length>0?a:"."},normalize(c){if(b(c,"path"),c.length===0)return".";const a=c.charCodeAt(0)===m,l=c.charCodeAt(c.length-1)===m;return c=S(c,!a,"/",w),c.length===0?a?"/":l?"./":".":(l&&(c+="/"),a?`/${c}`:c)},isAbsolute(c){return b(c,"path"),c.length>0&&c.charCodeAt(0)===m},join(...c){if(c.length===0)return".";let a;for(let l=0;l<c.length;++l){const n=c[l];b(n,"path"),n.length>0&&(a===void 0?a=n:a+=`/${n}`)}return a===void 0?".":e.posix.normalize(a)},relative(c,a){if(b(c,"from"),b(a,"to"),c===a||(c=e.posix.resolve(c),a=e.posix.resolve(a),c===a))return"";const l=1,n=c.length,s=n-l,r=1,t=a.length-r,o=s<t?s:t;let u=-1,v=0;for(;v<o;v++){const h=c.charCodeAt(l+v);if(h!==a.charCodeAt(r+v))break;h===m&&(u=v)}if(v===o)if(t>o){if(a.charCodeAt(r+v)===m)return a.slice(r+v+1);if(v===0)return a.slice(r+v)}else s>o&&(c.charCodeAt(l+v)===m?u=v:v===0&&(u=0));let D="";for(v=l+u+1;v<=n;++v)(v===n||c.charCodeAt(v)===m)&&(D+=D.length===0?"..":"/..");return`${D}${a.slice(r+u)}`},toNamespacedPath(c){return c},dirname(c){if(b(c,"path"),c.length===0)return".";const a=c.charCodeAt(0)===m;let l=-1,n=!0;for(let s=c.length-1;s>=1;--s)if(c.charCodeAt(s)===m){if(!n){l=s;break}}else n=!1;return l===-1?a?"/":".":a&&l===1?"//":c.slice(0,l)},basename(c,a){a!==void 0&&b(a,"ext"),b(c,"path");let l=0,n=-1,s=!0,r;if(a!==void 0&&a.length>0&&a.length<=c.length){if(a===c)return"";let t=a.length-1,o=-1;for(r=c.length-1;r>=0;--r){const u=c.charCodeAt(r);if(u===m){if(!s){l=r+1;break}}else o===-1&&(s=!1,o=r+1),t>=0&&(u===a.charCodeAt(t)?--t==-1&&(n=r):(t=-1,n=o))}return l===n?n=o:n===-1&&(n=c.length),c.slice(l,n)}for(r=c.length-1;r>=0;--r)if(c.charCodeAt(r)===m){if(!s){l=r+1;break}}else n===-1&&(s=!1,n=r+1);return n===-1?"":c.slice(l,n)},extname(c){b(c,"path");let a=-1,l=0,n=-1,s=!0,r=0;for(let t=c.length-1;t>=0;--t){const o=c.charCodeAt(t);if(o===m){if(!s){l=t+1;break}continue}n===-1&&(s=!1,n=t+1),o===k?a===-1?a=t:r!==1&&(r=1):a!==-1&&(r=-1)}return a===-1||n===-1||r===0||r===1&&a===n-1&&a===l+1?"":c.slice(a,n)},format:g.bind(null,"/"),parse(c){b(c,"path");const a={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return a;const l=c.charCodeAt(0)===m;let n;l?(a.root="/",n=1):n=0;let s=-1,r=0,t=-1,o=!0,u=c.length-1,v=0;for(;u>=n;--u){const D=c.charCodeAt(u);if(D===m){if(!o){r=u+1;break}continue}t===-1&&(o=!1,t=u+1),D===k?s===-1?s=u:v!==1&&(v=1):s!==-1&&(v=-1)}if(t!==-1){const D=r===0&&l?1:r;s===-1||v===0||v===1&&s===t-1&&s===r+1?a.base=a.name=c.slice(D,t):(a.name=c.slice(D,s),a.base=c.slice(D,t),a.ext=c.slice(s,t))}return r>0?a.dir=c.slice(0,r-1):l&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=P.platform==="win32"?e.win32.normalize:e.posix.normalize,e.isAbsolute=P.platform==="win32"?e.win32.isAbsolute:e.posix.isAbsolute,e.join=P.platform==="win32"?e.win32.join:e.posix.join,e.resolve=P.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=P.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=P.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=P.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=P.platform==="win32"?e.win32.extname:e.posix.extname,e.format=P.platform==="win32"?e.win32.format:e.posix.format,e.parse=P.platform==="win32"?e.win32.parse:e.posix.parse,e.toNamespacedPath=P.platform==="win32"?e.win32.toNamespacedPath:e.posix.toNamespacedPath,e.sep=P.platform==="win32"?e.win32.sep:e.posix.sep,e.delimiter=P.platform==="win32"?e.win32.delimiter:e.posix.delimiter}),define(he[76],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeProcessEnvironment=e.TerminateResponseCode=e.Source=void 0;var P;(function(C){C[C.stdout=0]="stdout",C[C.stderr=1]="stderr"})(P=e.Source||(e.Source={}));var _;(function(C){C[C.Success=0]="Success",C[C.Unknown=1]="Unknown",C[C.AccessDenied=2]="AccessDenied",C[C.ProcessNotFound=3]="ProcessNotFound"})(_=e.TerminateResponseCode||(e.TerminateResponseCode={}));function y(C,...I){const k=I.reduce((i,T)=>(i[T]=!0,i),{}),m=[/^ELECTRON_.+$/,/^VSCODE_.+$/,/^SNAP(|_.*)$/,/^GDK_PIXBUF_.+$/];Object.keys(C).filter(i=>!k[i]).forEach(i=>{for(let T=0;T<m.length;T++)if(i.search(m[T])!==-1){delete C[i];break}})}e.sanitizeProcessEnvironment=y}),function(Z,e){if(typeof exports=="object"&&typeof module=="object")module.exports=e();else if(typeof define=="function"&&define.amd)define("vs/base/common/semver/semver",[],e);else{var P=e();for(var _ in P)(typeof exports=="object"?exports:Z)[_]=P[_]}}(typeof self!="undefined"?self:this,function(){return function(Z){var e={};function P(_){if(e[_])return e[_].exports;var y=e[_]={i:_,l:!1,exports:{}};return Z[_].call(y.exports,y,y.exports,P),y.l=!0,y.exports}return P.m=Z,P.c=e,P.d=function(_,y,C){P.o(_,y)||Object.defineProperty(_,y,{enumerable:!0,get:C})},P.r=function(_){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},P.t=function(_,y){if(1&y&&(_=P(_)),8&y||4&y&&typeof _=="object"&&_&&_.__esModule)return _;var C=Object.create(null);if(P.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:_}),2&y&&typeof _!="string")for(var I in _)P.d(C,I,function(k){return _[k]}.bind(null,I));return C},P.n=function(_){var y=_&&_.__esModule?function(){return _.default}:function(){return _};return P.d(y,"a",y),y},P.o=function(_,y){return Object.prototype.hasOwnProperty.call(_,y)},P.p="",P(P.s=0)}([function(Z,e,P){(function(_){var y;e=Z.exports=pe,y=typeof _=="object"&&_.env&&_.env.NODE_DEBUG&&/\bsemver\b/i.test(_.env.NODE_DEBUG)?function(){var ae=Array.prototype.slice.call(arguments,0);ae.unshift("SEMVER"),console.log.apply(console,ae)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var C=256,I=Number.MAX_SAFE_INTEGER||9007199254740991,k=e.re=[],m=e.src=[],E=0,i=E++;m[i]="0|[1-9]\\d*";var T=E++;m[T]="[0-9]+";var p=E++;m[p]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var b=E++;m[b]="("+m[i]+")\\.("+m[i]+")\\.("+m[i]+")";var f=E++;m[f]="("+m[T]+")\\.("+m[T]+")\\.("+m[T]+")";var w=E++;m[w]="(?:"+m[i]+"|"+m[p]+")";var d=E++;m[d]="(?:"+m[T]+"|"+m[p]+")";var S=E++;m[S]="(?:-("+m[w]+"(?:\\."+m[w]+")*))";var g=E++;m[g]="(?:-?("+m[d]+"(?:\\."+m[d]+")*))";var c=E++;m[c]="[0-9A-Za-z-]+";var a=E++;m[a]="(?:\\+("+m[c]+"(?:\\."+m[c]+")*))";var l=E++,n="v?"+m[b]+m[S]+"?"+m[a]+"?";m[l]="^"+n+"$";var s="[v=\\s]*"+m[f]+m[g]+"?"+m[a]+"?",r=E++;m[r]="^"+s+"$";var t=E++;m[t]="((?:<|>)?=?)";var o=E++;m[o]=m[T]+"|x|X|\\*";var u=E++;m[u]=m[i]+"|x|X|\\*";var v=E++;m[v]="[v=\\s]*("+m[u]+")(?:\\.("+m[u]+")(?:\\.("+m[u]+")(?:"+m[S]+")?"+m[a]+"?)?)?";var D=E++;m[D]="[v=\\s]*("+m[o]+")(?:\\.("+m[o]+")(?:\\.("+m[o]+")(?:"+m[g]+")?"+m[a]+"?)?)?";var h=E++;m[h]="^"+m[t]+"\\s*"+m[v]+"$";var A=E++;m[A]="^"+m[t]+"\\s*"+m[D]+"$";var N=E++;m[N]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var $=E++;m[$]="(?:~>?)";var K=E++;m[K]="(\\s*)"+m[$]+"\\s+",k[K]=new RegExp(m[K],"g");var j=E++;m[j]="^"+m[$]+m[v]+"$";var F=E++;m[F]="^"+m[$]+m[D]+"$";var G=E++;m[G]="(?:\\^)";var R=E++;m[R]="(\\s*)"+m[G]+"\\s+",k[R]=new RegExp(m[R],"g");var B=E++;m[B]="^"+m[G]+m[v]+"$";var H=E++;m[H]="^"+m[G]+m[D]+"$";var q=E++;m[q]="^"+m[t]+"\\s*("+s+")$|^$";var W=E++;m[W]="^"+m[t]+"\\s*("+n+")$|^$";var U=E++;m[U]="(\\s*)"+m[t]+"\\s*("+s+"|"+m[v]+")",k[U]=new RegExp(m[U],"g");var x=E++;m[x]="^\\s*("+m[v]+")\\s+-\\s+("+m[v]+")\\s*$";var z=E++;m[z]="^\\s*("+m[D]+")\\s+-\\s+("+m[D]+")\\s*$";var te=E++;m[te]="(<|>)?=?\\s*\\*";for(var X=0;X<35;X++)y(X,m[X]),k[X]||(k[X]=new RegExp(m[X]));function me(ae,be){if(ae instanceof pe)return ae;if(typeof ae!="string"||ae.length>C||!(be?k[r]:k[l]).test(ae))return null;try{return new pe(ae,be)}catch(Ie){return null}}function pe(ae,be){if(ae instanceof pe){if(ae.loose===be)return ae;ae=ae.version}else if(typeof ae!="string")throw new TypeError("Invalid Version: "+ae);if(ae.length>C)throw new TypeError("version is longer than "+C+" characters");if(!(this instanceof pe))return new pe(ae,be);y("SemVer",ae,be),this.loose=be;var Ie=ae.trim().match(be?k[r]:k[l]);if(!Ie)throw new TypeError("Invalid Version: "+ae);if(this.raw=ae,this.major=+Ie[1],this.minor=+Ie[2],this.patch=+Ie[3],this.major>I||this.major<0)throw new TypeError("Invalid major version");if(this.minor>I||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>I||this.patch<0)throw new TypeError("Invalid patch version");Ie[4]?this.prerelease=Ie[4].split(".").map(function(We){if(/^[0-9]+$/.test(We)){var Xe=+We;if(Xe>=0&&Xe<I)return Xe}return We}):this.prerelease=[],this.build=Ie[5]?Ie[5].split("."):[],this.format()}e.parse=me,e.valid=function(ae,be){var Ie=me(ae,be);return Ie?Ie.version:null},e.clean=function(ae,be){var Ie=me(ae.trim().replace(/^[=v]+/,""),be);return Ie?Ie.version:null},e.SemVer=pe,pe.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},pe.prototype.toString=function(){return this.version},pe.prototype.compare=function(ae){return y("SemVer.compare",this.version,this.loose,ae),ae instanceof pe||(ae=new pe(ae,this.loose)),this.compareMain(ae)||this.comparePre(ae)},pe.prototype.compareMain=function(ae){return ae instanceof pe||(ae=new pe(ae,this.loose)),ne(this.major,ae.major)||ne(this.minor,ae.minor)||ne(this.patch,ae.patch)},pe.prototype.comparePre=function(ae){if(ae instanceof pe||(ae=new pe(ae,this.loose)),this.prerelease.length&&!ae.prerelease.length)return-1;if(!this.prerelease.length&&ae.prerelease.length)return 1;if(!this.prerelease.length&&!ae.prerelease.length)return 0;var be=0;do{var Ie=this.prerelease[be],We=ae.prerelease[be];if(y("prerelease compare",be,Ie,We),Ie===void 0&&We===void 0)return 0;if(We===void 0)return 1;if(Ie===void 0)return-1;if(Ie!==We)return ne(Ie,We)}while(++be)},pe.prototype.inc=function(ae,be){switch(ae){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",be);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",be);break;case"prepatch":this.prerelease.length=0,this.inc("patch",be),this.inc("pre",be);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",be),this.inc("pre",be);break;case"major":this.minor===0&&this.patch===0&&this.prerelease.length!==0||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":this.patch===0&&this.prerelease.length!==0||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var Ie=this.prerelease.length;--Ie>=0;)typeof this.prerelease[Ie]=="number"&&(this.prerelease[Ie]++,Ie=-2);Ie===-1&&this.prerelease.push(0)}be&&(this.prerelease[0]===be?isNaN(this.prerelease[1])&&(this.prerelease=[be,0]):this.prerelease=[be,0]);break;default:throw new Error("invalid increment argument: "+ae)}return this.format(),this.raw=this.version,this},e.inc=function(ae,be,Ie,We){typeof Ie=="string"&&(We=Ie,Ie=void 0);try{return new pe(ae,Ie).inc(be,We).version}catch(Xe){return null}},e.diff=function(ae,be){if(Fe(ae,be))return null;var Ie=me(ae),We=me(be);if(Ie.prerelease.length||We.prerelease.length){for(var Xe in Ie)if((Xe==="major"||Xe==="minor"||Xe==="patch")&&Ie[Xe]!==We[Xe])return"pre"+Xe;return"prerelease"}for(var Xe in Ie)if((Xe==="major"||Xe==="minor"||Xe==="patch")&&Ie[Xe]!==We[Xe])return Xe},e.compareIdentifiers=ne;var se=/^[0-9]+$/;function ne(ae,be){var Ie=se.test(ae),We=se.test(be);return Ie&&We&&(ae=+ae,be=+be),Ie&&!We?-1:We&&!Ie?1:ae<be?-1:ae>be?1:0}function Se(ae,be,Ie){return new pe(ae,Ie).compare(new pe(be,Ie))}function ye(ae,be,Ie){return Se(ae,be,Ie)>0}function Ae(ae,be,Ie){return Se(ae,be,Ie)<0}function Fe(ae,be,Ie){return Se(ae,be,Ie)===0}function qe(ae,be,Ie){return Se(ae,be,Ie)!==0}function Be(ae,be,Ie){return Se(ae,be,Ie)>=0}function nt(ae,be,Ie){return Se(ae,be,Ie)<=0}function ge(ae,be,Ie,We){var Xe;switch(be){case"===":typeof ae=="object"&&(ae=ae.version),typeof Ie=="object"&&(Ie=Ie.version),Xe=ae===Ie;break;case"!==":typeof ae=="object"&&(ae=ae.version),typeof Ie=="object"&&(Ie=Ie.version),Xe=ae!==Ie;break;case"":case"=":case"==":Xe=Fe(ae,Ie,We);break;case"!=":Xe=qe(ae,Ie,We);break;case">":Xe=ye(ae,Ie,We);break;case">=":Xe=Be(ae,Ie,We);break;case"<":Xe=Ae(ae,Ie,We);break;case"<=":Xe=nt(ae,Ie,We);break;default:throw new TypeError("Invalid operator: "+be)}return Xe}function ve(ae,be){if(ae instanceof ve){if(ae.loose===be)return ae;ae=ae.value}if(!(this instanceof ve))return new ve(ae,be);y("comparator",ae,be),this.loose=be,this.parse(ae),this.semver===Pe?this.value="":this.value=this.operator+this.semver.version,y("comp",this)}e.rcompareIdentifiers=function(ae,be){return ne(be,ae)},e.major=function(ae,be){return new pe(ae,be).major},e.minor=function(ae,be){return new pe(ae,be).minor},e.patch=function(ae,be){return new pe(ae,be).patch},e.compare=Se,e.compareLoose=function(ae,be){return Se(ae,be,!0)},e.rcompare=function(ae,be,Ie){return Se(be,ae,Ie)},e.sort=function(ae,be){return ae.sort(function(Ie,We){return e.compare(Ie,We,be)})},e.rsort=function(ae,be){return ae.sort(function(Ie,We){return e.rcompare(Ie,We,be)})},e.gt=ye,e.lt=Ae,e.eq=Fe,e.neq=qe,e.gte=Be,e.lte=nt,e.cmp=ge,e.Comparator=ve;var Pe={};function Le(ae,be){if(ae instanceof Le)return ae.loose===be?ae:new Le(ae.raw,be);if(ae instanceof ve)return new Le(ae.value,be);if(!(this instanceof Le))return new Le(ae,be);if(this.loose=be,this.raw=ae,this.set=ae.split(/\s*\|\|\s*/).map(function(Ie){return this.parseRange(Ie.trim())},this).filter(function(Ie){return Ie.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+ae);this.format()}function Me(ae){return!ae||ae.toLowerCase()==="x"||ae==="*"}function He(ae,be,Ie,We,Xe,at,it,ee,De,Te,$e,Ve,et){return((be=Me(Ie)?"":Me(We)?">="+Ie+".0.0":Me(Xe)?">="+Ie+"."+We+".0":">="+be)+" "+(ee=Me(De)?"":Me(Te)?"<"+(+De+1)+".0.0":Me($e)?"<"+De+"."+(+Te+1)+".0":Ve?"<="+De+"."+Te+"."+$e+"-"+Ve:"<="+ee)).trim()}function Ye(ae,be){for(var Ie=0;Ie<ae.length;Ie++)if(!ae[Ie].test(be))return!1;if(be.prerelease.length){for(Ie=0;Ie<ae.length;Ie++)if(y(ae[Ie].semver),ae[Ie].semver!==Pe&&ae[Ie].semver.prerelease.length>0){var We=ae[Ie].semver;if(We.major===be.major&&We.minor===be.minor&&We.patch===be.patch)return!0}return!1}return!0}function Ze(ae,be,Ie){try{be=new Le(be,Ie)}catch(We){return!1}return be.test(ae)}function ot(ae,be,Ie,We){var Xe,at,it,ee,De;switch(ae=new pe(ae,We),be=new Le(be,We),Ie){case">":Xe=ye,at=nt,it=Ae,ee=">",De=">=";break;case"<":Xe=Ae,at=Be,it=ye,ee="<",De="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ze(ae,be,We))return!1;for(var Te=0;Te<be.set.length;++Te){var $e=be.set[Te],Ve=null,et=null;if($e.forEach(function(Ue){Ue.semver===Pe&&(Ue=new ve(">=0.0.0")),Ve=Ve||Ue,et=et||Ue,Xe(Ue.semver,Ve.semver,We)?Ve=Ue:it(Ue.semver,et.semver,We)&&(et=Ue)}),Ve.operator===ee||Ve.operator===De||(!et.operator||et.operator===ee)&&at(ae,et.semver)||et.operator===De&&it(ae,et.semver))return!1}return!0}ve.prototype.parse=function(ae){var be=this.loose?k[q]:k[W],Ie=ae.match(be);if(!Ie)throw new TypeError("Invalid comparator: "+ae);this.operator=Ie[1],this.operator==="="&&(this.operator=""),Ie[2]?this.semver=new pe(Ie[2],this.loose):this.semver=Pe},ve.prototype.toString=function(){return this.value},ve.prototype.test=function(ae){return y("Comparator.test",ae,this.loose),this.semver===Pe||(typeof ae=="string"&&(ae=new pe(ae,this.loose)),ge(ae,this.operator,this.semver,this.loose))},ve.prototype.intersects=function(ae,be){if(!(ae instanceof ve))throw new TypeError("a Comparator is required");var Ie;if(this.operator==="")return Ie=new Le(ae.value,be),Ze(this.value,Ie,be);if(ae.operator==="")return Ie=new Le(this.value,be),Ze(ae.semver,Ie,be);var We=!(this.operator!==">="&&this.operator!==">"||ae.operator!==">="&&ae.operator!==">"),Xe=!(this.operator!=="<="&&this.operator!=="<"||ae.operator!=="<="&&ae.operator!=="<"),at=this.semver.version===ae.semver.version,it=!(this.operator!==">="&&this.operator!=="<="||ae.operator!==">="&&ae.operator!=="<="),ee=ge(this.semver,"<",ae.semver,be)&&(this.operator===">="||this.operator===">")&&(ae.operator==="<="||ae.operator==="<"),De=ge(this.semver,">",ae.semver,be)&&(this.operator==="<="||this.operator==="<")&&(ae.operator===">="||ae.operator===">");return We||Xe||at&&it||ee||De},e.Range=Le,Le.prototype.format=function(){return this.range=this.set.map(function(ae){return ae.join(" ").trim()}).join("||").trim(),this.range},Le.prototype.toString=function(){return this.range},Le.prototype.parseRange=function(ae){var be=this.loose;ae=ae.trim(),y("range",ae,be);var Ie=be?k[z]:k[x];ae=ae.replace(Ie,He),y("hyphen replace",ae),ae=ae.replace(k[U],"$1$2$3"),y("comparator trim",ae,k[U]),ae=(ae=(ae=ae.replace(k[K],"$1~")).replace(k[R],"$1^")).split(/\s+/).join(" ");var We=be?k[q]:k[W],Xe=ae.split(" ").map(function(at){return function(it,ee){return y("comp",it),it=function(De,Te){return De.trim().split(/\s+/).map(function($e){return function(Ve,et){y("caret",Ve,et);var Ue=et?k[H]:k[B];return Ve.replace(Ue,function(ke,re,ie,fe,V){var J;return y("caret",Ve,ke,re,ie,fe,V),Me(re)?J="":Me(ie)?J=">="+re+".0.0 <"+(+re+1)+".0.0":Me(fe)?J=re==="0"?">="+re+"."+ie+".0 <"+re+"."+(+ie+1)+".0":">="+re+"."+ie+".0 <"+(+re+1)+".0.0":V?(y("replaceCaret pr",V),V.charAt(0)!=="-"&&(V="-"+V),J=re==="0"?ie==="0"?">="+re+"."+ie+"."+fe+V+" <"+re+"."+ie+"."+(+fe+1):">="+re+"."+ie+"."+fe+V+" <"+re+"."+(+ie+1)+".0":">="+re+"."+ie+"."+fe+V+" <"+(+re+1)+".0.0"):(y("no pr"),J=re==="0"?ie==="0"?">="+re+"."+ie+"."+fe+" <"+re+"."+ie+"."+(+fe+1):">="+re+"."+ie+"."+fe+" <"+re+"."+(+ie+1)+".0":">="+re+"."+ie+"."+fe+" <"+(+re+1)+".0.0"),y("caret return",J),J})}($e,Te)}).join(" ")}(it,ee),y("caret",it),it=function(De,Te){return De.trim().split(/\s+/).map(function($e){return function(Ve,et){var Ue=et?k[F]:k[j];return Ve.replace(Ue,function(ke,re,ie,fe,V){var J;return y("tilde",Ve,ke,re,ie,fe,V),Me(re)?J="":Me(ie)?J=">="+re+".0.0 <"+(+re+1)+".0.0":Me(fe)?J=">="+re+"."+ie+".0 <"+re+"."+(+ie+1)+".0":V?(y("replaceTilde pr",V),V.charAt(0)!=="-"&&(V="-"+V),J=">="+re+"."+ie+"."+fe+V+" <"+re+"."+(+ie+1)+".0"):J=">="+re+"."+ie+"."+fe+" <"+re+"."+(+ie+1)+".0",y("tilde return",J),J})}($e,Te)}).join(" ")}(it,ee),y("tildes",it),it=function(De,Te){return y("replaceXRanges",De,Te),De.split(/\s+/).map(function($e){return function(Ve,et){Ve=Ve.trim();var Ue=et?k[A]:k[h];return Ve.replace(Ue,function(ke,re,ie,fe,V,J){y("xRange",Ve,ke,re,ie,fe,V,J);var ce=Me(ie),oe=ce||Me(fe),Ce=oe||Me(V);return re==="="&&Ce&&(re=""),ce?ke=re===">"||re==="<"?"<0.0.0":"*":re&&Ce?(oe&&(fe=0),Ce&&(V=0),re===">"?(re=">=",oe?(ie=+ie+1,fe=0,V=0):Ce&&(fe=+fe+1,V=0)):re==="<="&&(re="<",oe?ie=+ie+1:fe=+fe+1),ke=re+ie+"."+fe+"."+V):oe?ke=">="+ie+".0.0 <"+(+ie+1)+".0.0":Ce&&(ke=">="+ie+"."+fe+".0 <"+ie+"."+(+fe+1)+".0"),y("xRange return",ke),ke})}($e,Te)}).join(" ")}(it,ee),y("xrange",it),it=function(De,Te){return y("replaceStars",De,Te),De.trim().replace(k[te],"")}(it,ee),y("stars",it),it}(at,be)}).join(" ").split(/\s+/);return this.loose&&(Xe=Xe.filter(function(at){return!!at.match(We)})),Xe=Xe.map(function(at){return new ve(at,be)})},Le.prototype.intersects=function(ae,be){if(!(ae instanceof Le))throw new TypeError("a Range is required");return this.set.some(function(Ie){return Ie.every(function(We){return ae.set.some(function(Xe){return Xe.every(function(at){return We.intersects(at,be)})})})})},e.toComparators=function(ae,be){return new Le(ae,be).set.map(function(Ie){return Ie.map(function(We){return We.value}).join(" ").trim().split(" ")})},Le.prototype.test=function(ae){if(!ae)return!1;typeof ae=="string"&&(ae=new pe(ae,this.loose));for(var be=0;be<this.set.length;be++)if(Ye(this.set[be],ae))return!0;return!1},e.satisfies=Ze,e.maxSatisfying=function(ae,be,Ie){var We=null,Xe=null;try{var at=new Le(be,Ie)}catch(it){return null}return ae.forEach(function(it){at.test(it)&&(We&&Xe.compare(it)!==-1||(Xe=new pe(We=it,Ie)))}),We},e.minSatisfying=function(ae,be,Ie){var We=null,Xe=null;try{var at=new Le(be,Ie)}catch(it){return null}return ae.forEach(function(it){at.test(it)&&(We&&Xe.compare(it)!==1||(Xe=new pe(We=it,Ie)))}),We},e.validRange=function(ae,be){try{return new Le(ae,be).range||"*"}catch(Ie){return null}},e.ltr=function(ae,be,Ie){return ot(ae,be,"<",Ie)},e.gtr=function(ae,be,Ie){return ot(ae,be,">",Ie)},e.outside=ot,e.prerelease=function(ae,be){var Ie=me(ae,be);return Ie&&Ie.prerelease.length?Ie.prerelease:null},e.intersects=function(ae,be,Ie){return ae=new Le(ae,Ie),be=new Le(be,Ie),ae.intersects(be)},e.coerce=function(ae){if(ae instanceof pe)return ae;if(typeof ae!="string")return null;var be=ae.match(k[N]);return be==null?null:me((be[1]||"0")+"."+(be[2]||"0")+"."+(be[3]||"0"))}}).call(this,P(1))},function(Z,e){var P,_,y=Z.exports={};function C(){throw new Error("setTimeout has not been defined")}function I(){throw new Error("clearTimeout has not been defined")}function k(d){if(P===setTimeout)return setTimeout(d,0);if((P===C||!P)&&setTimeout)return P=setTimeout,setTimeout(d,0);try{return P(d,0)}catch(S){try{return P.call(null,d,0)}catch(g){return P.call(this,d,0)}}}(function(){try{P=typeof setTimeout=="function"?setTimeout:C}catch(d){P=C}try{_=typeof clearTimeout=="function"?clearTimeout:I}catch(d){_=I}})();var m,E=[],i=!1,T=-1;function p(){i&&m&&(i=!1,m.length?E=m.concat(E):T=-1,E.length&&b())}function b(){if(!i){var d=k(p);i=!0;for(var S=E.length;S;){for(m=E,E=[];++T<S;)m&&m[T].run();T=-1,S=E.length}m=null,i=!1,function(g){if(_===clearTimeout)return clearTimeout(g);if((_===I||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(g);try{_(g)}catch(c){try{return _.call(null,g)}catch(a){return _.call(this,g)}}}(d)}}function f(d,S){this.fun=d,this.array=S}function w(){}y.nextTick=function(d){var S=new Array(arguments.length-1);if(arguments.length>1)for(var g=1;g<arguments.length;g++)S[g-1]=arguments[g];E.push(new f(d,S)),E.length!==1||i||k(b)},f.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={},y.on=w,y.addListener=w,y.once=w,y.off=w,y.removeListener=w,y.removeAllListeners=w,y.emit=w,y.prependListener=w,y.prependOnceListener=w,y.listeners=function(d){return[]},y.binding=function(d){throw new Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(d){throw new Error("process.chdir is not supported")},y.umask=function(){return 0}}])}),define(he[120],de([0,1,4]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const _=P.globals.performance&&typeof P.globals.performance.now=="function";class y{constructor(I){this._highResolution=_&&I,this._startTime=this._now(),this._stopTime=-1}static create(I=!0){return new y(I)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?P.globals.performance.now():Date.now()}}e.StopWatch=y}),define(he[6],de([0,1,11,75,2,118,120]),function(Z,e,P,_,y,C,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.EventMultiplexer=e.MicrotaskEmitter=e.DebounceEmitter=e.PauseableEmitter=e.AsyncEmitter=e.Emitter=e.setGlobalLeakWarningThreshold=e.Event=void 0;var k;(function(a){a.None=()=>y.Disposable.None;function l(R){return(B,H=null,q)=>{let W=!1,U;return U=R(x=>{if(!W)return U?U.dispose():W=!0,B.call(H,x)},null,q),W&&U.dispose(),U}}a.once=l;function n(R,B){return v((H,q=null,W)=>R(U=>H.call(q,B(U)),null,W))}a.map=n;function s(R,B){return v((H,q=null,W)=>R(U=>{B(U),H.call(q,U)},null,W))}a.forEach=s;function r(R,B){return v((H,q=null,W)=>R(U=>B(U)&&H.call(q,U),null,W))}a.filter=r;function t(R){return R}a.signal=t;function o(...R){return(B,H=null,q)=>(0,y.combinedDisposable)(...R.map(W=>W(U=>B.call(H,U),null,q)))}a.any=o;function u(R,B,H){let q=H;return n(R,W=>(q=B(q,W),q))}a.reduce=u;function v(R){let B;const H=new p({onFirstListenerAdd(){B=R(H.fire,H)},onLastListenerRemove(){B.dispose()}});return H.event}function D(R,B,H=100,q=!1,W){let U,x,z,te=0;const X=new p({leakWarningThreshold:W,onFirstListenerAdd(){U=R(me=>{te++,x=B(x,me),q&&!z&&(X.fire(x),x=void 0),clearTimeout(z),z=setTimeout(()=>{const pe=x;x=void 0,z=void 0,(!q||te>1)&&X.fire(pe),te=0},H)})},onLastListenerRemove(){U.dispose()}});return X.event}a.debounce=D;function h(R,B=(H,q)=>H===q){let H=!0,q;return r(R,W=>{const U=H||!B(W,q);return H=!1,q=W,U})}a.latch=h;function A(R,B){return[a.filter(R,B),a.filter(R,H=>!B(H))]}a.split=A;function N(R,B=!1,H=[]){let q=H.slice(),W=R(z=>{q?q.push(z):x.fire(z)});const U=()=>{q&&q.forEach(z=>x.fire(z)),q=null},x=new p({onFirstListenerAdd(){W||(W=R(z=>x.fire(z)))},onFirstListenerDidAdd(){q&&(B?setTimeout(U):U())},onLastListenerRemove(){W&&W.dispose(),W=null}});return x.event}a.buffer=N;class ${constructor(B){this.event=B}map(B){return new $(n(this.event,B))}forEach(B){return new $(s(this.event,B))}filter(B){return new $(r(this.event,B))}reduce(B,H){return new $(u(this.event,B,H))}latch(){return new $(h(this.event))}debounce(B,H=100,q=!1,W){return new $(D(this.event,B,H,q,W))}on(B,H,q){return this.event(B,H,q)}once(B,H,q){return l(this.event)(B,H,q)}}function K(R){return new $(R)}a.chain=K;function j(R,B,H=q=>q){const q=(...z)=>x.fire(H(...z)),W=()=>R.on(B,q),U=()=>R.removeListener(B,q),x=new p({onFirstListenerAdd:W,onLastListenerRemove:U});return x.event}a.fromNodeEventEmitter=j;function F(R,B,H=q=>q){const q=(...z)=>x.fire(H(...z)),W=()=>R.addEventListener(B,q),U=()=>R.removeEventListener(B,q),x=new p({onFirstListenerAdd:W,onLastListenerRemove:U});return x.event}a.fromDOMEventEmitter=F;function G(R){return new Promise(B=>l(R)(B))}a.toPromise=G})(k=e.Event||(e.Event={}));class m{constructor(l){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${l}_${m._idPool++}`}start(l){this._stopWatch=new I.StopWatch(!0),this._listenerCount=l}stop(){if(this._stopWatch){const l=this._stopWatch.elapsed();this._elapsedOverall+=l,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${l.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}m._idPool=0;let E=-1;function i(a){const l=E;return E=a,{dispose(){E=l}}}e.setGlobalLeakWarningThreshold=i;class T{constructor(l,n=Math.random().toString(18).slice(2,5)){this.customThreshold=l,this.name=n,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(l){let n=E;if(typeof this.customThreshold=="number"&&(n=this.customThreshold),n<=0||l<n)return;this._stacks||(this._stacks=new Map);const s=new Error().stack.split(`
`).slice(3).join(`
`),r=this._stacks.get(s)||0;if(this._stacks.set(s,r+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let t,o=0;for(const[u,v]of this._stacks)(!t||o<v)&&(t=u,o=v);console.warn(`[${this.name}] potential listener LEAK detected, having ${l} listeners already. MOST frequent listener (${o}):`),console.warn(t)}return()=>{const t=this._stacks.get(s)||0;this._stacks.set(s,t-1)}}}class p{constructor(l){this._disposed=!1,this._options=l,this._leakageMon=E>0?new T(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=this._options?._profName?new m(this._options._profName):void 0}get event(){return this._event||(this._event=(l,n,s)=>{this._listeners||(this._listeners=new C.LinkedList);const r=this._listeners.isEmpty();r&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const t=this._listeners.push(n?[l,n]:l);r&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,l,n);const o=this._leakageMon?.check(this._listeners.size),u=(0,y.toDisposable)(()=>{o&&o(),this._disposed||(t(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return s instanceof y.DisposableStore?s.add(u):Array.isArray(s)&&s.push(u),u}),this._event}fire(l){if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new C.LinkedList);for(let n of this._listeners)this._deliveryQueue.push([n,l]);for(this._perfMon?.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[n,s]=this._deliveryQueue.shift();try{typeof n=="function"?n.call(void 0,s):n[0].call(n[1],s)}catch(r){(0,P.onUnexpectedError)(r)}}this._perfMon?.stop()}}dispose(){this._disposed||(this._disposed=!0,this._listeners?.clear(),this._deliveryQueue?.clear(),this._options?.onLastListenerRemove?.(),this._leakageMon?.dispose())}}e.Emitter=p;class b extends p{async fireAsync(l,n,s){if(!!this._listeners){this._asyncDeliveryQueue||(this._asyncDeliveryQueue=new C.LinkedList);for(const r of this._listeners)this._asyncDeliveryQueue.push([r,l]);for(;this._asyncDeliveryQueue.size>0&&!n.isCancellationRequested;){const[r,t]=this._asyncDeliveryQueue.shift(),o=[],u={...t,waitUntil:v=>{if(Object.isFrozen(o))throw new Error("waitUntil can NOT be called asynchronous");s&&(v=s(v,typeof r=="function"?r:r[0])),o.push(v)}};try{typeof r=="function"?r.call(void 0,u):r[0].call(r[1],u)}catch(v){(0,P.onUnexpectedError)(v);continue}Object.freeze(o),await Promise.allSettled(o).then(v=>{for(const D of v)D.status==="rejected"&&(0,P.onUnexpectedError)(D.reason)})}}}}e.AsyncEmitter=b;class f extends p{constructor(l){super(l);this._isPaused=0,this._eventQueue=new C.LinkedList,this._mergeFn=l?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const l=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(l))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(l){this._listeners&&(this._isPaused!==0?this._eventQueue.push(l):super.fire(l))}}e.PauseableEmitter=f;class w extends f{constructor(l){super(l);this._delay=l.delay??100}fire(l){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(l)}}e.DebounceEmitter=w;class d extends p{constructor(l){super(l);this._queuedEvents=[],this._mergeFn=l?.merge}fire(l){this._queuedEvents.push(l),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(n=>super.fire(n)),this._queuedEvents=[]})}}e.MicrotaskEmitter=d;class S{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new p({onFirstListenerAdd:()=>this.onFirstListenerAdd(),onLastListenerRemove:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(l){const n={event:l,listener:null};this.events.push(n),this.hasListeners&&this.hook(n);const s=()=>{this.hasListeners&&this.unhook(n);const r=this.events.indexOf(n);this.events.splice(r,1)};return(0,y.toDisposable)((0,_.once)(s))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(l=>this.hook(l))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(l=>this.unhook(l))}hook(l){l.listener=l.event(n=>this.emitter.fire(n))}unhook(l){l.listener&&l.listener.dispose(),l.listener=null}dispose(){this.emitter.dispose()}}e.EventMultiplexer=S;class g{constructor(){this.buffers=[]}wrapEvent(l){return(n,s,r)=>l(t=>{const o=this.buffers[this.buffers.length-1];o?o.push(()=>n.call(s,t)):n.call(s,t)},void 0,r)}bufferEvents(l){const n=[];this.buffers.push(n);const s=l();return this.buffers.pop(),n.forEach(r=>r()),s}}e.EventBufferer=g;class c{constructor(){this.listening=!1,this.inputEvent=k.None,this.inputEventListener=y.Disposable.None,this.emitter=new p({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(l){this.inputEvent=l,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=l(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=c}),define(he[23],de([0,1,6]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const _=Object.freeze(function(k,m){const E=setTimeout(k.bind(m),0);return{dispose(){clearTimeout(E)}}});var y;(function(k){function m(E){return E===k.None||E===k.Cancelled||E instanceof C?!0:!E||typeof E!="object"?!1:typeof E.isCancellationRequested=="boolean"&&typeof E.onCancellationRequested=="function"}k.isCancellationToken=m,k.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:P.Event.None}),k.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:_})})(y=e.CancellationToken||(e.CancellationToken={}));class C{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?_:(this._emitter||(this._emitter=new P.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class I{constructor(m){this._token=void 0,this._parentListener=void 0,this._parentListener=m&&m.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new C),this._token}cancel(){this._token?this._token instanceof C&&this._token.cancel():this._token=y.Cancelled}dispose(m=!1){m&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof C&&this._token.dispose():this._token=y.None}}e.CancellationTokenSource=I}),define(he[39],de([0,1,6]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.getClassNamesArray=e.Codicon=e.getCodiconAriaLabel=e.registerCodicon=e.iconRegistry=void 0;class _{constructor(){this._icons=new Map,this._onDidRegister=new P.Emitter}add(T){const p=this._icons.get(T.id);p?T.description?p.description=T.description:console.error(`Duplicate registration of codicon ${T.id}`):(this._icons.set(T.id,T),this._onDidRegister.fire(T))}get(T){return this._icons.get(T)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}}const y=new _;e.iconRegistry=y;function C(i,T){return new k(i,T)}e.registerCodicon=C;function I(i){return i?i.replace(/\$\((.*?)\)/g,(T,p)=>` ${p} `).trim():""}e.getCodiconAriaLabel=I;class k{constructor(T,p,b){this.id=T,this.definition=p,this.description=b,y.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}e.Codicon=k;function m(i,T){const p=["codicon","codicon-"+i];return T&&p.push("codicon-modifier-"+T),p}e.getClassNamesArray=m;var E;(function(i){i.iconNameSegment="[A-Za-z0-9]+",i.iconNameExpression="[A-Za-z0-9\\-]+",i.iconModifierExpression="~[A-Za-z]+";const T=new RegExp(`^(${i.iconNameExpression})(${i.iconModifierExpression})?$`);function p(w){if(w instanceof k)return["codicon","codicon-"+w.id];const d=T.exec(w.id);if(!d)return p(k.error);let[,S,g]=d;const c=["codicon","codicon-"+S];return g&&c.push("codicon-modifier-"+g.substr(1)),c}i.asClassNameArray=p;function b(w){return p(w).join(" ")}i.asClassName=b;function f(w){return"."+p(w).join(".")}i.asCSSSelector=f})(E=e.CSSIcon||(e.CSSIcon={})),function(i){i.add=new i("add",{fontCharacter:"\\ea60"}),i.plus=new i("plus",i.add.definition),i.gistNew=new i("gist-new",i.add.definition),i.repoCreate=new i("repo-create",i.add.definition),i.lightbulb=new i("lightbulb",{fontCharacter:"\\ea61"}),i.lightBulb=new i("light-bulb",{fontCharacter:"\\ea61"}),i.repo=new i("repo",{fontCharacter:"\\ea62"}),i.repoDelete=new i("repo-delete",{fontCharacter:"\\ea62"}),i.gistFork=new i("gist-fork",{fontCharacter:"\\ea63"}),i.repoForked=new i("repo-forked",{fontCharacter:"\\ea63"}),i.gitPullRequest=new i("git-pull-request",{fontCharacter:"\\ea64"}),i.gitPullRequestAbandoned=new i("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),i.recordKeys=new i("record-keys",{fontCharacter:"\\ea65"}),i.keyboard=new i("keyboard",{fontCharacter:"\\ea65"}),i.tag=new i("tag",{fontCharacter:"\\ea66"}),i.tagAdd=new i("tag-add",{fontCharacter:"\\ea66"}),i.tagRemove=new i("tag-remove",{fontCharacter:"\\ea66"}),i.person=new i("person",{fontCharacter:"\\ea67"}),i.personFollow=new i("person-follow",{fontCharacter:"\\ea67"}),i.personOutline=new i("person-outline",{fontCharacter:"\\ea67"}),i.personFilled=new i("person-filled",{fontCharacter:"\\ea67"}),i.gitBranch=new i("git-branch",{fontCharacter:"\\ea68"}),i.gitBranchCreate=new i("git-branch-create",{fontCharacter:"\\ea68"}),i.gitBranchDelete=new i("git-branch-delete",{fontCharacter:"\\ea68"}),i.sourceControl=new i("source-control",{fontCharacter:"\\ea68"}),i.mirror=new i("mirror",{fontCharacter:"\\ea69"}),i.mirrorPublic=new i("mirror-public",{fontCharacter:"\\ea69"}),i.star=new i("star",{fontCharacter:"\\ea6a"}),i.starAdd=new i("star-add",{fontCharacter:"\\ea6a"}),i.starDelete=new i("star-delete",{fontCharacter:"\\ea6a"}),i.starEmpty=new i("star-empty",{fontCharacter:"\\ea6a"}),i.comment=new i("comment",{fontCharacter:"\\ea6b"}),i.commentAdd=new i("comment-add",{fontCharacter:"\\ea6b"}),i.alert=new i("alert",{fontCharacter:"\\ea6c"}),i.warning=new i("warning",{fontCharacter:"\\ea6c"}),i.search=new i("search",{fontCharacter:"\\ea6d"}),i.searchSave=new i("search-save",{fontCharacter:"\\ea6d"}),i.logOut=new i("log-out",{fontCharacter:"\\ea6e"}),i.signOut=new i("sign-out",{fontCharacter:"\\ea6e"}),i.logIn=new i("log-in",{fontCharacter:"\\ea6f"}),i.signIn=new i("sign-in",{fontCharacter:"\\ea6f"}),i.eye=new i("eye",{fontCharacter:"\\ea70"}),i.eyeUnwatch=new i("eye-unwatch",{fontCharacter:"\\ea70"}),i.eyeWatch=new i("eye-watch",{fontCharacter:"\\ea70"}),i.circleFilled=new i("circle-filled",{fontCharacter:"\\ea71"}),i.primitiveDot=new i("primitive-dot",{fontCharacter:"\\ea71"}),i.closeDirty=new i("close-dirty",{fontCharacter:"\\ea71"}),i.debugBreakpoint=new i("debug-breakpoint",{fontCharacter:"\\ea71"}),i.debugBreakpointDisabled=new i("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),i.debugHint=new i("debug-hint",{fontCharacter:"\\ea71"}),i.primitiveSquare=new i("primitive-square",{fontCharacter:"\\ea72"}),i.edit=new i("edit",{fontCharacter:"\\ea73"}),i.pencil=new i("pencil",{fontCharacter:"\\ea73"}),i.info=new i("info",{fontCharacter:"\\ea74"}),i.issueOpened=new i("issue-opened",{fontCharacter:"\\ea74"}),i.gistPrivate=new i("gist-private",{fontCharacter:"\\ea75"}),i.gitForkPrivate=new i("git-fork-private",{fontCharacter:"\\ea75"}),i.lock=new i("lock",{fontCharacter:"\\ea75"}),i.mirrorPrivate=new i("mirror-private",{fontCharacter:"\\ea75"}),i.close=new i("close",{fontCharacter:"\\ea76"}),i.removeClose=new i("remove-close",{fontCharacter:"\\ea76"}),i.x=new i("x",{fontCharacter:"\\ea76"}),i.repoSync=new i("repo-sync",{fontCharacter:"\\ea77"}),i.sync=new i("sync",{fontCharacter:"\\ea77"}),i.clone=new i("clone",{fontCharacter:"\\ea78"}),i.desktopDownload=new i("desktop-download",{fontCharacter:"\\ea78"}),i.beaker=new i("beaker",{fontCharacter:"\\ea79"}),i.microscope=new i("microscope",{fontCharacter:"\\ea79"}),i.vm=new i("vm",{fontCharacter:"\\ea7a"}),i.deviceDesktop=new i("device-desktop",{fontCharacter:"\\ea7a"}),i.file=new i("file",{fontCharacter:"\\ea7b"}),i.fileText=new i("file-text",{fontCharacter:"\\ea7b"}),i.more=new i("more",{fontCharacter:"\\ea7c"}),i.ellipsis=new i("ellipsis",{fontCharacter:"\\ea7c"}),i.kebabHorizontal=new i("kebab-horizontal",{fontCharacter:"\\ea7c"}),i.mailReply=new i("mail-reply",{fontCharacter:"\\ea7d"}),i.reply=new i("reply",{fontCharacter:"\\ea7d"}),i.organization=new i("organization",{fontCharacter:"\\ea7e"}),i.organizationFilled=new i("organization-filled",{fontCharacter:"\\ea7e"}),i.organizationOutline=new i("organization-outline",{fontCharacter:"\\ea7e"}),i.newFile=new i("new-file",{fontCharacter:"\\ea7f"}),i.fileAdd=new i("file-add",{fontCharacter:"\\ea7f"}),i.newFolder=new i("new-folder",{fontCharacter:"\\ea80"}),i.fileDirectoryCreate=new i("file-directory-create",{fontCharacter:"\\ea80"}),i.trash=new i("trash",{fontCharacter:"\\ea81"}),i.trashcan=new i("trashcan",{fontCharacter:"\\ea81"}),i.history=new i("history",{fontCharacter:"\\ea82"}),i.clock=new i("clock",{fontCharacter:"\\ea82"}),i.folder=new i("folder",{fontCharacter:"\\ea83"}),i.fileDirectory=new i("file-directory",{fontCharacter:"\\ea83"}),i.symbolFolder=new i("symbol-folder",{fontCharacter:"\\ea83"}),i.logoGithub=new i("logo-github",{fontCharacter:"\\ea84"}),i.markGithub=new i("mark-github",{fontCharacter:"\\ea84"}),i.github=new i("github",{fontCharacter:"\\ea84"}),i.terminal=new i("terminal",{fontCharacter:"\\ea85"}),i.console=new i("console",{fontCharacter:"\\ea85"}),i.repl=new i("repl",{fontCharacter:"\\ea85"}),i.zap=new i("zap",{fontCharacter:"\\ea86"}),i.symbolEvent=new i("symbol-event",{fontCharacter:"\\ea86"}),i.error=new i("error",{fontCharacter:"\\ea87"}),i.stop=new i("stop",{fontCharacter:"\\ea87"}),i.variable=new i("variable",{fontCharacter:"\\ea88"}),i.symbolVariable=new i("symbol-variable",{fontCharacter:"\\ea88"}),i.array=new i("array",{fontCharacter:"\\ea8a"}),i.symbolArray=new i("symbol-array",{fontCharacter:"\\ea8a"}),i.symbolModule=new i("symbol-module",{fontCharacter:"\\ea8b"}),i.symbolPackage=new i("symbol-package",{fontCharacter:"\\ea8b"}),i.symbolNamespace=new i("symbol-namespace",{fontCharacter:"\\ea8b"}),i.symbolObject=new i("symbol-object",{fontCharacter:"\\ea8b"}),i.symbolMethod=new i("symbol-method",{fontCharacter:"\\ea8c"}),i.symbolFunction=new i("symbol-function",{fontCharacter:"\\ea8c"}),i.symbolConstructor=new i("symbol-constructor",{fontCharacter:"\\ea8c"}),i.symbolBoolean=new i("symbol-boolean",{fontCharacter:"\\ea8f"}),i.symbolNull=new i("symbol-null",{fontCharacter:"\\ea8f"}),i.symbolNumeric=new i("symbol-numeric",{fontCharacter:"\\ea90"}),i.symbolNumber=new i("symbol-number",{fontCharacter:"\\ea90"}),i.symbolStructure=new i("symbol-structure",{fontCharacter:"\\ea91"}),i.symbolStruct=new i("symbol-struct",{fontCharacter:"\\ea91"}),i.symbolParameter=new i("symbol-parameter",{fontCharacter:"\\ea92"}),i.symbolTypeParameter=new i("symbol-type-parameter",{fontCharacter:"\\ea92"}),i.symbolKey=new i("symbol-key",{fontCharacter:"\\ea93"}),i.symbolText=new i("symbol-text",{fontCharacter:"\\ea93"}),i.symbolReference=new i("symbol-reference",{fontCharacter:"\\ea94"}),i.goToFile=new i("go-to-file",{fontCharacter:"\\ea94"}),i.symbolEnum=new i("symbol-enum",{fontCharacter:"\\ea95"}),i.symbolValue=new i("symbol-value",{fontCharacter:"\\ea95"}),i.symbolRuler=new i("symbol-ruler",{fontCharacter:"\\ea96"}),i.symbolUnit=new i("symbol-unit",{fontCharacter:"\\ea96"}),i.activateBreakpoints=new i("activate-breakpoints",{fontCharacter:"\\ea97"}),i.archive=new i("archive",{fontCharacter:"\\ea98"}),i.arrowBoth=new i("arrow-both",{fontCharacter:"\\ea99"}),i.arrowDown=new i("arrow-down",{fontCharacter:"\\ea9a"}),i.arrowLeft=new i("arrow-left",{fontCharacter:"\\ea9b"}),i.arrowRight=new i("arrow-right",{fontCharacter:"\\ea9c"}),i.arrowSmallDown=new i("arrow-small-down",{fontCharacter:"\\ea9d"}),i.arrowSmallLeft=new i("arrow-small-left",{fontCharacter:"\\ea9e"}),i.arrowSmallRight=new i("arrow-small-right",{fontCharacter:"\\ea9f"}),i.arrowSmallUp=new i("arrow-small-up",{fontCharacter:"\\eaa0"}),i.arrowUp=new i("arrow-up",{fontCharacter:"\\eaa1"}),i.bell=new i("bell",{fontCharacter:"\\eaa2"}),i.bold=new i("bold",{fontCharacter:"\\eaa3"}),i.book=new i("book",{fontCharacter:"\\eaa4"}),i.bookmark=new i("bookmark",{fontCharacter:"\\eaa5"}),i.debugBreakpointConditionalUnverified=new i("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),i.debugBreakpointConditional=new i("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),i.debugBreakpointConditionalDisabled=new i("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),i.debugBreakpointDataUnverified=new i("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),i.debugBreakpointData=new i("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),i.debugBreakpointDataDisabled=new i("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),i.debugBreakpointLogUnverified=new i("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),i.debugBreakpointLog=new i("debug-breakpoint-log",{fontCharacter:"\\eaab"}),i.debugBreakpointLogDisabled=new i("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),i.briefcase=new i("briefcase",{fontCharacter:"\\eaac"}),i.broadcast=new i("broadcast",{fontCharacter:"\\eaad"}),i.browser=new i("browser",{fontCharacter:"\\eaae"}),i.bug=new i("bug",{fontCharacter:"\\eaaf"}),i.calendar=new i("calendar",{fontCharacter:"\\eab0"}),i.caseSensitive=new i("case-sensitive",{fontCharacter:"\\eab1"}),i.check=new i("check",{fontCharacter:"\\eab2"}),i.checklist=new i("checklist",{fontCharacter:"\\eab3"}),i.chevronDown=new i("chevron-down",{fontCharacter:"\\eab4"}),i.dropDownButton=new i("drop-down-button",i.chevronDown.definition),i.chevronLeft=new i("chevron-left",{fontCharacter:"\\eab5"}),i.chevronRight=new i("chevron-right",{fontCharacter:"\\eab6"}),i.chevronUp=new i("chevron-up",{fontCharacter:"\\eab7"}),i.chromeClose=new i("chrome-close",{fontCharacter:"\\eab8"}),i.chromeMaximize=new i("chrome-maximize",{fontCharacter:"\\eab9"}),i.chromeMinimize=new i("chrome-minimize",{fontCharacter:"\\eaba"}),i.chromeRestore=new i("chrome-restore",{fontCharacter:"\\eabb"}),i.circleOutline=new i("circle-outline",{fontCharacter:"\\eabc"}),i.debugBreakpointUnverified=new i("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),i.circleSlash=new i("circle-slash",{fontCharacter:"\\eabd"}),i.circuitBoard=new i("circuit-board",{fontCharacter:"\\eabe"}),i.clearAll=new i("clear-all",{fontCharacter:"\\eabf"}),i.clippy=new i("clippy",{fontCharacter:"\\eac0"}),i.closeAll=new i("close-all",{fontCharacter:"\\eac1"}),i.cloudDownload=new i("cloud-download",{fontCharacter:"\\eac2"}),i.cloudUpload=new i("cloud-upload",{fontCharacter:"\\eac3"}),i.code=new i("code",{fontCharacter:"\\eac4"}),i.collapseAll=new i("collapse-all",{fontCharacter:"\\eac5"}),i.colorMode=new i("color-mode",{fontCharacter:"\\eac6"}),i.commentDiscussion=new i("comment-discussion",{fontCharacter:"\\eac7"}),i.compareChanges=new i("compare-changes",{fontCharacter:"\\eafd"}),i.creditCard=new i("credit-card",{fontCharacter:"\\eac9"}),i.dash=new i("dash",{fontCharacter:"\\eacc"}),i.dashboard=new i("dashboard",{fontCharacter:"\\eacd"}),i.database=new i("database",{fontCharacter:"\\eace"}),i.debugContinue=new i("debug-continue",{fontCharacter:"\\eacf"}),i.debugDisconnect=new i("debug-disconnect",{fontCharacter:"\\ead0"}),i.debugPause=new i("debug-pause",{fontCharacter:"\\ead1"}),i.debugRestart=new i("debug-restart",{fontCharacter:"\\ead2"}),i.debugStart=new i("debug-start",{fontCharacter:"\\ead3"}),i.debugStepInto=new i("debug-step-into",{fontCharacter:"\\ead4"}),i.debugStepOut=new i("debug-step-out",{fontCharacter:"\\ead5"}),i.debugStepOver=new i("debug-step-over",{fontCharacter:"\\ead6"}),i.debugStop=new i("debug-stop",{fontCharacter:"\\ead7"}),i.debug=new i("debug",{fontCharacter:"\\ead8"}),i.deviceCameraVideo=new i("device-camera-video",{fontCharacter:"\\ead9"}),i.deviceCamera=new i("device-camera",{fontCharacter:"\\eada"}),i.deviceMobile=new i("device-mobile",{fontCharacter:"\\eadb"}),i.diffAdded=new i("diff-added",{fontCharacter:"\\eadc"}),i.diffIgnored=new i("diff-ignored",{fontCharacter:"\\eadd"}),i.diffModified=new i("diff-modified",{fontCharacter:"\\eade"}),i.diffRemoved=new i("diff-removed",{fontCharacter:"\\eadf"}),i.diffRenamed=new i("diff-renamed",{fontCharacter:"\\eae0"}),i.diff=new i("diff",{fontCharacter:"\\eae1"}),i.discard=new i("discard",{fontCharacter:"\\eae2"}),i.editorLayout=new i("editor-layout",{fontCharacter:"\\eae3"}),i.emptyWindow=new i("empty-window",{fontCharacter:"\\eae4"}),i.exclude=new i("exclude",{fontCharacter:"\\eae5"}),i.extensions=new i("extensions",{fontCharacter:"\\eae6"}),i.eyeClosed=new i("eye-closed",{fontCharacter:"\\eae7"}),i.fileBinary=new i("file-binary",{fontCharacter:"\\eae8"}),i.fileCode=new i("file-code",{fontCharacter:"\\eae9"}),i.fileMedia=new i("file-media",{fontCharacter:"\\eaea"}),i.filePdf=new i("file-pdf",{fontCharacter:"\\eaeb"}),i.fileSubmodule=new i("file-submodule",{fontCharacter:"\\eaec"}),i.fileSymlinkDirectory=new i("file-symlink-directory",{fontCharacter:"\\eaed"}),i.fileSymlinkFile=new i("file-symlink-file",{fontCharacter:"\\eaee"}),i.fileZip=new i("file-zip",{fontCharacter:"\\eaef"}),i.files=new i("files",{fontCharacter:"\\eaf0"}),i.filter=new i("filter",{fontCharacter:"\\eaf1"}),i.flame=new i("flame",{fontCharacter:"\\eaf2"}),i.foldDown=new i("fold-down",{fontCharacter:"\\eaf3"}),i.foldUp=new i("fold-up",{fontCharacter:"\\eaf4"}),i.fold=new i("fold",{fontCharacter:"\\eaf5"}),i.folderActive=new i("folder-active",{fontCharacter:"\\eaf6"}),i.folderOpened=new i("folder-opened",{fontCharacter:"\\eaf7"}),i.gear=new i("gear",{fontCharacter:"\\eaf8"}),i.gift=new i("gift",{fontCharacter:"\\eaf9"}),i.gistSecret=new i("gist-secret",{fontCharacter:"\\eafa"}),i.gist=new i("gist",{fontCharacter:"\\eafb"}),i.gitCommit=new i("git-commit",{fontCharacter:"\\eafc"}),i.gitCompare=new i("git-compare",{fontCharacter:"\\eafd"}),i.gitMerge=new i("git-merge",{fontCharacter:"\\eafe"}),i.githubAction=new i("github-action",{fontCharacter:"\\eaff"}),i.githubAlt=new i("github-alt",{fontCharacter:"\\eb00"}),i.globe=new i("globe",{fontCharacter:"\\eb01"}),i.grabber=new i("grabber",{fontCharacter:"\\eb02"}),i.graph=new i("graph",{fontCharacter:"\\eb03"}),i.gripper=new i("gripper",{fontCharacter:"\\eb04"}),i.heart=new i("heart",{fontCharacter:"\\eb05"}),i.home=new i("home",{fontCharacter:"\\eb06"}),i.horizontalRule=new i("horizontal-rule",{fontCharacter:"\\eb07"}),i.hubot=new i("hubot",{fontCharacter:"\\eb08"}),i.inbox=new i("inbox",{fontCharacter:"\\eb09"}),i.issueClosed=new i("issue-closed",{fontCharacter:"\\eba4"}),i.issueReopened=new i("issue-reopened",{fontCharacter:"\\eb0b"}),i.issues=new i("issues",{fontCharacter:"\\eb0c"}),i.italic=new i("italic",{fontCharacter:"\\eb0d"}),i.jersey=new i("jersey",{fontCharacter:"\\eb0e"}),i.json=new i("json",{fontCharacter:"\\eb0f"}),i.kebabVertical=new i("kebab-vertical",{fontCharacter:"\\eb10"}),i.key=new i("key",{fontCharacter:"\\eb11"}),i.law=new i("law",{fontCharacter:"\\eb12"}),i.lightbulbAutofix=new i("lightbulb-autofix",{fontCharacter:"\\eb13"}),i.linkExternal=new i("link-external",{fontCharacter:"\\eb14"}),i.link=new i("link",{fontCharacter:"\\eb15"}),i.listOrdered=new i("list-ordered",{fontCharacter:"\\eb16"}),i.listUnordered=new i("list-unordered",{fontCharacter:"\\eb17"}),i.liveShare=new i("live-share",{fontCharacter:"\\eb18"}),i.loading=new i("loading",{fontCharacter:"\\eb19"}),i.location=new i("location",{fontCharacter:"\\eb1a"}),i.mailRead=new i("mail-read",{fontCharacter:"\\eb1b"}),i.mail=new i("mail",{fontCharacter:"\\eb1c"}),i.markdown=new i("markdown",{fontCharacter:"\\eb1d"}),i.megaphone=new i("megaphone",{fontCharacter:"\\eb1e"}),i.mention=new i("mention",{fontCharacter:"\\eb1f"}),i.milestone=new i("milestone",{fontCharacter:"\\eb20"}),i.mortarBoard=new i("mortar-board",{fontCharacter:"\\eb21"}),i.move=new i("move",{fontCharacter:"\\eb22"}),i.multipleWindows=new i("multiple-windows",{fontCharacter:"\\eb23"}),i.mute=new i("mute",{fontCharacter:"\\eb24"}),i.noNewline=new i("no-newline",{fontCharacter:"\\eb25"}),i.note=new i("note",{fontCharacter:"\\eb26"}),i.octoface=new i("octoface",{fontCharacter:"\\eb27"}),i.openPreview=new i("open-preview",{fontCharacter:"\\eb28"}),i.package_=new i("package",{fontCharacter:"\\eb29"}),i.paintcan=new i("paintcan",{fontCharacter:"\\eb2a"}),i.pin=new i("pin",{fontCharacter:"\\eb2b"}),i.play=new i("play",{fontCharacter:"\\eb2c"}),i.run=new i("run",{fontCharacter:"\\eb2c"}),i.plug=new i("plug",{fontCharacter:"\\eb2d"}),i.preserveCase=new i("preserve-case",{fontCharacter:"\\eb2e"}),i.preview=new i("preview",{fontCharacter:"\\eb2f"}),i.project=new i("project",{fontCharacter:"\\eb30"}),i.pulse=new i("pulse",{fontCharacter:"\\eb31"}),i.question=new i("question",{fontCharacter:"\\eb32"}),i.quote=new i("quote",{fontCharacter:"\\eb33"}),i.radioTower=new i("radio-tower",{fontCharacter:"\\eb34"}),i.reactions=new i("reactions",{fontCharacter:"\\eb35"}),i.references=new i("references",{fontCharacter:"\\eb36"}),i.refresh=new i("refresh",{fontCharacter:"\\eb37"}),i.regex=new i("regex",{fontCharacter:"\\eb38"}),i.remoteExplorer=new i("remote-explorer",{fontCharacter:"\\eb39"}),i.remote=new i("remote",{fontCharacter:"\\eb3a"}),i.remove=new i("remove",{fontCharacter:"\\eb3b"}),i.replaceAll=new i("replace-all",{fontCharacter:"\\eb3c"}),i.replace=new i("replace",{fontCharacter:"\\eb3d"}),i.repoClone=new i("repo-clone",{fontCharacter:"\\eb3e"}),i.repoForcePush=new i("repo-force-push",{fontCharacter:"\\eb3f"}),i.repoPull=new i("repo-pull",{fontCharacter:"\\eb40"}),i.repoPush=new i("repo-push",{fontCharacter:"\\eb41"}),i.report=new i("report",{fontCharacter:"\\eb42"}),i.requestChanges=new i("request-changes",{fontCharacter:"\\eb43"}),i.rocket=new i("rocket",{fontCharacter:"\\eb44"}),i.rootFolderOpened=new i("root-folder-opened",{fontCharacter:"\\eb45"}),i.rootFolder=new i("root-folder",{fontCharacter:"\\eb46"}),i.rss=new i("rss",{fontCharacter:"\\eb47"}),i.ruby=new i("ruby",{fontCharacter:"\\eb48"}),i.saveAll=new i("save-all",{fontCharacter:"\\eb49"}),i.saveAs=new i("save-as",{fontCharacter:"\\eb4a"}),i.save=new i("save",{fontCharacter:"\\eb4b"}),i.screenFull=new i("screen-full",{fontCharacter:"\\eb4c"}),i.screenNormal=new i("screen-normal",{fontCharacter:"\\eb4d"}),i.searchStop=new i("search-stop",{fontCharacter:"\\eb4e"}),i.server=new i("server",{fontCharacter:"\\eb50"}),i.settingsGear=new i("settings-gear",{fontCharacter:"\\eb51"}),i.settings=new i("settings",{fontCharacter:"\\eb52"}),i.shield=new i("shield",{fontCharacter:"\\eb53"}),i.smiley=new i("smiley",{fontCharacter:"\\eb54"}),i.sortPrecedence=new i("sort-precedence",{fontCharacter:"\\eb55"}),i.splitHorizontal=new i("split-horizontal",{fontCharacter:"\\eb56"}),i.splitVertical=new i("split-vertical",{fontCharacter:"\\eb57"}),i.squirrel=new i("squirrel",{fontCharacter:"\\eb58"}),i.starFull=new i("star-full",{fontCharacter:"\\eb59"}),i.starHalf=new i("star-half",{fontCharacter:"\\eb5a"}),i.symbolClass=new i("symbol-class",{fontCharacter:"\\eb5b"}),i.symbolColor=new i("symbol-color",{fontCharacter:"\\eb5c"}),i.symbolConstant=new i("symbol-constant",{fontCharacter:"\\eb5d"}),i.symbolEnumMember=new i("symbol-enum-member",{fontCharacter:"\\eb5e"}),i.symbolField=new i("symbol-field",{fontCharacter:"\\eb5f"}),i.symbolFile=new i("symbol-file",{fontCharacter:"\\eb60"}),i.symbolInterface=new i("symbol-interface",{fontCharacter:"\\eb61"}),i.symbolKeyword=new i("symbol-keyword",{fontCharacter:"\\eb62"}),i.symbolMisc=new i("symbol-misc",{fontCharacter:"\\eb63"}),i.symbolOperator=new i("symbol-operator",{fontCharacter:"\\eb64"}),i.symbolProperty=new i("symbol-property",{fontCharacter:"\\eb65"}),i.wrench=new i("wrench",{fontCharacter:"\\eb65"}),i.wrenchSubaction=new i("wrench-subaction",{fontCharacter:"\\eb65"}),i.symbolSnippet=new i("symbol-snippet",{fontCharacter:"\\eb66"}),i.tasklist=new i("tasklist",{fontCharacter:"\\eb67"}),i.telescope=new i("telescope",{fontCharacter:"\\eb68"}),i.textSize=new i("text-size",{fontCharacter:"\\eb69"}),i.threeBars=new i("three-bars",{fontCharacter:"\\eb6a"}),i.thumbsdown=new i("thumbsdown",{fontCharacter:"\\eb6b"}),i.thumbsup=new i("thumbsup",{fontCharacter:"\\eb6c"}),i.tools=new i("tools",{fontCharacter:"\\eb6d"}),i.triangleDown=new i("triangle-down",{fontCharacter:"\\eb6e"}),i.triangleLeft=new i("triangle-left",{fontCharacter:"\\eb6f"}),i.triangleRight=new i("triangle-right",{fontCharacter:"\\eb70"}),i.triangleUp=new i("triangle-up",{fontCharacter:"\\eb71"}),i.twitter=new i("twitter",{fontCharacter:"\\eb72"}),i.unfold=new i("unfold",{fontCharacter:"\\eb73"}),i.unlock=new i("unlock",{fontCharacter:"\\eb74"}),i.unmute=new i("unmute",{fontCharacter:"\\eb75"}),i.unverified=new i("unverified",{fontCharacter:"\\eb76"}),i.verified=new i("verified",{fontCharacter:"\\eb77"}),i.versions=new i("versions",{fontCharacter:"\\eb78"}),i.vmActive=new i("vm-active",{fontCharacter:"\\eb79"}),i.vmOutline=new i("vm-outline",{fontCharacter:"\\eb7a"}),i.vmRunning=new i("vm-running",{fontCharacter:"\\eb7b"}),i.watch=new i("watch",{fontCharacter:"\\eb7c"}),i.whitespace=new i("whitespace",{fontCharacter:"\\eb7d"}),i.wholeWord=new i("whole-word",{fontCharacter:"\\eb7e"}),i.window=new i("window",{fontCharacter:"\\eb7f"}),i.wordWrap=new i("word-wrap",{fontCharacter:"\\eb80"}),i.zoomIn=new i("zoom-in",{fontCharacter:"\\eb81"}),i.zoomOut=new i("zoom-out",{fontCharacter:"\\eb82"}),i.listFilter=new i("list-filter",{fontCharacter:"\\eb83"}),i.listFlat=new i("list-flat",{fontCharacter:"\\eb84"}),i.listSelection=new i("list-selection",{fontCharacter:"\\eb85"}),i.selection=new i("selection",{fontCharacter:"\\eb85"}),i.listTree=new i("list-tree",{fontCharacter:"\\eb86"}),i.debugBreakpointFunctionUnverified=new i("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),i.debugBreakpointFunction=new i("debug-breakpoint-function",{fontCharacter:"\\eb88"}),i.debugBreakpointFunctionDisabled=new i("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),i.debugStackframeActive=new i("debug-stackframe-active",{fontCharacter:"\\eb89"}),i.debugStackframeDot=new i("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),i.debugStackframe=new i("debug-stackframe",{fontCharacter:"\\eb8b"}),i.debugStackframeFocused=new i("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),i.debugBreakpointUnsupported=new i("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),i.symbolString=new i("symbol-string",{fontCharacter:"\\eb8d"}),i.debugReverseContinue=new i("debug-reverse-continue",{fontCharacter:"\\eb8e"}),i.debugStepBack=new i("debug-step-back",{fontCharacter:"\\eb8f"}),i.debugRestartFrame=new i("debug-restart-frame",{fontCharacter:"\\eb90"}),i.callIncoming=new i("call-incoming",{fontCharacter:"\\eb92"}),i.callOutgoing=new i("call-outgoing",{fontCharacter:"\\eb93"}),i.menu=new i("menu",{fontCharacter:"\\eb94"}),i.expandAll=new i("expand-all",{fontCharacter:"\\eb95"}),i.feedback=new i("feedback",{fontCharacter:"\\eb96"}),i.groupByRefType=new i("group-by-ref-type",{fontCharacter:"\\eb97"}),i.ungroupByRefType=new i("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),i.account=new i("account",{fontCharacter:"\\eb99"}),i.bellDot=new i("bell-dot",{fontCharacter:"\\eb9a"}),i.debugConsole=new i("debug-console",{fontCharacter:"\\eb9b"}),i.library=new i("library",{fontCharacter:"\\eb9c"}),i.output=new i("output",{fontCharacter:"\\eb9d"}),i.runAll=new i("run-all",{fontCharacter:"\\eb9e"}),i.syncIgnored=new i("sync-ignored",{fontCharacter:"\\eb9f"}),i.pinned=new i("pinned",{fontCharacter:"\\eba0"}),i.githubInverted=new i("github-inverted",{fontCharacter:"\\eba1"}),i.debugAlt=new i("debug-alt",{fontCharacter:"\\eb91"}),i.serverProcess=new i("server-process",{fontCharacter:"\\eba2"}),i.serverEnvironment=new i("server-environment",{fontCharacter:"\\eba3"}),i.pass=new i("pass",{fontCharacter:"\\eba4"}),i.stopCircle=new i("stop-circle",{fontCharacter:"\\eba5"}),i.playCircle=new i("play-circle",{fontCharacter:"\\eba6"}),i.record=new i("record",{fontCharacter:"\\eba7"}),i.debugAltSmall=new i("debug-alt-small",{fontCharacter:"\\eba8"}),i.vmConnect=new i("vm-connect",{fontCharacter:"\\eba9"}),i.cloud=new i("cloud",{fontCharacter:"\\ebaa"}),i.merge=new i("merge",{fontCharacter:"\\ebab"}),i.exportIcon=new i("export",{fontCharacter:"\\ebac"}),i.graphLeft=new i("graph-left",{fontCharacter:"\\ebad"}),i.magnet=new i("magnet",{fontCharacter:"\\ebae"}),i.notebook=new i("notebook",{fontCharacter:"\\ebaf"}),i.redo=new i("redo",{fontCharacter:"\\ebb0"}),i.checkAll=new i("check-all",{fontCharacter:"\\ebb1"}),i.pinnedDirty=new i("pinned-dirty",{fontCharacter:"\\ebb2"}),i.passFilled=new i("pass-filled",{fontCharacter:"\\ebb3"}),i.circleLargeFilled=new i("circle-large-filled",{fontCharacter:"\\ebb4"}),i.circleLargeOutline=new i("circle-large-outline",{fontCharacter:"\\ebb5"}),i.combine=new i("combine",{fontCharacter:"\\ebb6"}),i.gather=new i("gather",{fontCharacter:"\\ebb6"}),i.table=new i("table",{fontCharacter:"\\ebb7"}),i.variableGroup=new i("variable-group",{fontCharacter:"\\ebb8"}),i.typeHierarchy=new i("type-hierarchy",{fontCharacter:"\\ebb9"}),i.typeHierarchySub=new i("type-hierarchy-sub",{fontCharacter:"\\ebba"}),i.typeHierarchySuper=new i("type-hierarchy-super",{fontCharacter:"\\ebbb"}),i.gitPullRequestCreate=new i("git-pull-request-create",{fontCharacter:"\\ebbc"}),i.runAbove=new i("run-above",{fontCharacter:"\\ebbd"}),i.runBelow=new i("run-below",{fontCharacter:"\\ebbe"}),i.notebookTemplate=new i("notebook-template",{fontCharacter:"\\ebbf"}),i.debugRerun=new i("debug-rerun",{fontCharacter:"\\ebc0"}),i.workspaceTrusted=new i("workspace-trusted",{fontCharacter:"\\ebc1"}),i.workspaceUntrusted=new i("workspace-untrusted",{fontCharacter:"\\ebc2"}),i.workspaceUnspecified=new i("workspace-unspecified",{fontCharacter:"\\ebc3"}),i.terminalCmd=new i("terminal-cmd",{fontCharacter:"\\ebc4"}),i.terminalDebian=new i("terminal-debian",{fontCharacter:"\\ebc5"}),i.terminalLinux=new i("terminal-linux",{fontCharacter:"\\ebc6"}),i.terminalPowershell=new i("terminal-powershell",{fontCharacter:"\\ebc7"}),i.terminalTmux=new i("terminal-tmux",{fontCharacter:"\\ebc8"}),i.terminalUbuntu=new i("terminal-ubuntu",{fontCharacter:"\\ebc9"}),i.terminalBash=new i("terminal-bash",{fontCharacter:"\\ebca"}),i.arrowSwap=new i("arrow-swap",{fontCharacter:"\\ebcb"}),i.copy=new i("copy",{fontCharacter:"\\ebcc"}),i.personAdd=new i("person-add",{fontCharacter:"\\ebcd"}),i.filterFilled=new i("filter-filled",{fontCharacter:"\\ebce"}),i.wand=new i("wand",{fontCharacter:"\\ebcf"}),i.debugLineByLine=new i("debug-line-by-line",{fontCharacter:"\\ebd0"}),i.inspect=new i("inspect",{fontCharacter:"\\ebd1"}),i.layers=new i("layers",{fontCharacter:"\\ebd2"}),i.layersDot=new i("layers-dot",{fontCharacter:"\\ebd3"}),i.layersActive=new i("layers-active",{fontCharacter:"\\ebd4"}),i.compass=new i("compass",{fontCharacter:"\\ebd5"}),i.compassDot=new i("compass-dot",{fontCharacter:"\\ebd6"}),i.compassActive=new i("compass-active",{fontCharacter:"\\ebd7"}),i.azure=new i("azure",{fontCharacter:"\\ebd8"}),i.issueDraft=new i("issue-draft",{fontCharacter:"\\ebd9"}),i.gitPullRequestClosed=new i("git-pull-request-closed",{fontCharacter:"\\ebda"}),i.gitPullRequestDraft=new i("git-pull-request-draft",{fontCharacter:"\\ebdb"}),i.debugAll=new i("debug-all",{fontCharacter:"\\ebdc"}),i.debugCoverage=new i("debug-coverage",{fontCharacter:"\\ebdd"}),i.runErrors=new i("run-errors",{fontCharacter:"\\ebde"}),i.folderLibrary=new i("folder-library",{fontCharacter:"\\ebdf"}),i.debugContinueSmall=new i("debug-continue-small",{fontCharacter:"\\ebe0"}),i.beakerStop=new i("beaker-stop",{fontCharacter:"\\ebe1"}),i.graphLine=new i("graph-line",{fontCharacter:"\\ebe2"}),i.graphScatter=new i("graph-scatter",{fontCharacter:"\\ebe3"}),i.pieChart=new i("pie-chart",{fontCharacter:"\\ebe4"}),i.bracket=new i("bracket",i.json.definition),i.bracketDot=new i("bracket-dot",{fontCharacter:"\\ebe5"}),i.bracketError=new i("bracket-error",{fontCharacter:"\\ebe6"}),i.lockSmall=new i("lock-small",{fontCharacter:"\\ebe7"}),i.azureDevops=new i("azure-devops",{fontCharacter:"\\ebe8"}),i.verifiedFilled=new i("verified-filled",{fontCharacter:"\\ebe9"})}(k=e.Codicon||(e.Codicon={}))}),define(he[44],de([0,1,11,2]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prefixedStream=e.prefixedReadable=e.transform=e.toReadable=e.emptyStream=e.toStream=e.peekStream=e.listenStream=e.consumeStream=e.peekReadable=e.consumeReadable=e.newWriteableStream=e.isReadableBufferedStream=e.isReadableStream=void 0;function y(c){const a=c;return a?[a.on,a.pause,a.resume,a.destroy].every(l=>typeof l=="function"):!1}e.isReadableStream=y;function C(c){const a=c;return a?y(a.stream)&&Array.isArray(a.buffer)&&typeof a.ended=="boolean":!1}e.isReadableBufferedStream=C;function I(c,a){return new k(c,a)}e.newWriteableStream=I;class k{constructor(a,l){this.reducer=a,this.options=l,this.state={flowing:!1,ended:!1,destroyed:!1},this.buffer={data:[],error:[]},this.listeners={data:[],error:[],end:[]},this.pendingWritePromises=[]}pause(){this.state.destroyed||(this.state.flowing=!1)}resume(){this.state.destroyed||this.state.flowing||(this.state.flowing=!0,this.flowData(),this.flowErrors(),this.flowEnd())}write(a){if(!this.state.destroyed){if(this.state.flowing)this.emitData(a);else if(this.buffer.data.push(a),typeof this.options?.highWaterMark=="number"&&this.buffer.data.length>this.options.highWaterMark)return new Promise(l=>this.pendingWritePromises.push(l))}}error(a){this.state.destroyed||(this.state.flowing?this.emitError(a):this.buffer.error.push(a))}end(a){this.state.destroyed||(typeof a!="undefined"&&this.write(a),this.state.flowing?(this.emitEnd(),this.destroy()):this.state.ended=!0)}emitData(a){this.listeners.data.slice(0).forEach(l=>l(a))}emitError(a){this.listeners.error.length===0?(0,P.onUnexpectedError)(a):this.listeners.error.slice(0).forEach(l=>l(a))}emitEnd(){this.listeners.end.slice(0).forEach(a=>a())}on(a,l){if(!this.state.destroyed)switch(a){case"data":this.listeners.data.push(l),this.resume();break;case"end":this.listeners.end.push(l),this.state.flowing&&this.flowEnd()&&this.destroy();break;case"error":this.listeners.error.push(l),this.state.flowing&&this.flowErrors();break}}removeListener(a,l){if(this.state.destroyed)return;let n;switch(a){case"data":n=this.listeners.data;break;case"end":n=this.listeners.end;break;case"error":n=this.listeners.error;break}if(n){const s=n.indexOf(l);s>=0&&n.splice(s,1)}}flowData(){if(this.buffer.data.length>0){const a=this.reducer(this.buffer.data);this.emitData(a),this.buffer.data.length=0;const l=[...this.pendingWritePromises];this.pendingWritePromises.length=0,l.forEach(n=>n())}}flowErrors(){if(this.listeners.error.length>0){for(const a of this.buffer.error)this.emitError(a);this.buffer.error.length=0}}flowEnd(){return this.state.ended?(this.emitEnd(),this.listeners.end.length>0):!1}destroy(){this.state.destroyed||(this.state.destroyed=!0,this.state.ended=!0,this.buffer.data.length=0,this.buffer.error.length=0,this.listeners.data.length=0,this.listeners.error.length=0,this.listeners.end.length=0,this.pendingWritePromises.length=0)}}function m(c,a){const l=[];let n;for(;(n=c.read())!==null;)l.push(n);return a(l)}e.consumeReadable=m;function E(c,a,l){const n=[];let s;for(;(s=c.read())!==null&&n.length<l;)n.push(s);return s===null&&n.length>0?a(n):{read:()=>{if(n.length>0)return n.shift();if(typeof s!="undefined"){const r=s;return s=void 0,r}return c.read()}}}e.peekReadable=E;function i(c,a){return new Promise((l,n)=>{const s=[];T(c,{onData:r=>{a&&s.push(r)},onError:r=>{a?n(r):l(void 0)},onEnd:()=>{l(a?a(s):void 0)}})})}e.consumeStream=i;function T(c,a){c.on("error",l=>a.onError(l)),c.on("end",()=>a.onEnd()),c.on("data",l=>a.onData(l))}e.listenStream=T;function p(c,a){return new Promise((l,n)=>{const s=new _.DisposableStore,r=[],t=v=>{if(r.push(v),r.length>a)return s.dispose(),c.pause(),l({stream:c,buffer:r,ended:!1})},o=v=>n(v),u=()=>l({stream:c,buffer:r,ended:!0});s.add((0,_.toDisposable)(()=>c.removeListener("error",o))),c.on("error",o),s.add((0,_.toDisposable)(()=>c.removeListener("end",u))),c.on("end",u),s.add((0,_.toDisposable)(()=>c.removeListener("data",t))),c.on("data",t)})}e.peekStream=p;function b(c,a){const l=I(a);return l.end(c),l}e.toStream=b;function f(){const c=I(()=>{throw new Error("not supported")});return c.end(),c}e.emptyStream=f;function w(c){let a=!1;return{read:()=>a?null:(a=!0,c)}}e.toReadable=w;function d(c,a,l){const n=I(l);return T(c,{onData:s=>n.write(a.data(s)),onError:s=>n.error(a.error?a.error(s):s),onEnd:()=>n.end()}),n}e.transform=d;function S(c,a,l){let n=!1;return{read:()=>{const s=a.read();return n?s:(n=!0,s!==null?l([c,s]):c)}}}e.prefixedReadable=S;function g(c,a,l){let n=!1;const s=I(l);return T(a,{onData:r=>n?s.write(r):(n=!0,s.write(l([c,r]))),onError:r=>s.error(r),onEnd:()=>{n||(n=!0,s.write(c)),s.end()}}),s}e.prefixedStream=g}),define(he[17],de([0,1,44]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prefixedBufferStream=e.prefixedBufferReadable=e.newWriteableBufferStream=e.streamToBufferReadableStream=e.bufferToStream=e.bufferedStreamToBuffer=e.streamToBuffer=e.bufferToReadable=e.readableToBuffer=e.writeUInt8=e.readUInt8=e.writeUInt32LE=e.readUInt32LE=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const _=typeof Buffer!="undefined";let y,C;class I{constructor(t){this.buffer=t,this.byteLength=this.buffer.byteLength}static alloc(t){return _?new I(Buffer.allocUnsafe(t)):new I(new Uint8Array(t))}static wrap(t){return _&&!Buffer.isBuffer(t)&&(t=Buffer.from(t.buffer,t.byteOffset,t.byteLength)),new I(t)}static fromString(t,o){return!(o?.dontUseNodeBuffer||!1)&&_?new I(Buffer.from(t)):(y||(y=new TextEncoder),new I(y.encode(t)))}static concat(t,o){if(typeof o=="undefined"){o=0;for(let D=0,h=t.length;D<h;D++)o+=t[D].byteLength}const u=I.alloc(o);let v=0;for(let D=0,h=t.length;D<h;D++){const A=t[D];u.set(A,v),v+=A.byteLength}return u}toString(){return _?this.buffer.toString():(C||(C=new TextDecoder),C.decode(this.buffer))}slice(t,o){return new I(this.buffer.subarray(t,o))}set(t,o){t instanceof I?this.buffer.set(t.buffer,o):this.buffer.set(t,o)}readUInt32BE(t){return E(this.buffer,t)}writeUInt32BE(t,o){i(this.buffer,t,o)}readUInt32LE(t){return T(this.buffer,t)}writeUInt32LE(t,o){p(this.buffer,t,o)}readUInt8(t){return b(this.buffer,t)}writeUInt8(t,o){f(this.buffer,t,o)}}e.VSBuffer=I;function k(r,t){return r[t+0]<<0>>>0|r[t+1]<<8>>>0}e.readUInt16LE=k;function m(r,t,o){r[o+0]=t&255,t=t>>>8,r[o+1]=t&255}e.writeUInt16LE=m;function E(r,t){return r[t]*2**24+r[t+1]*2**16+r[t+2]*2**8+r[t+3]}e.readUInt32BE=E;function i(r,t,o){r[o+3]=t,t=t>>>8,r[o+2]=t,t=t>>>8,r[o+1]=t,t=t>>>8,r[o]=t}e.writeUInt32BE=i;function T(r,t){return r[t+0]<<0>>>0|r[t+1]<<8>>>0|r[t+2]<<16>>>0|r[t+3]<<24>>>0}e.readUInt32LE=T;function p(r,t,o){r[o+0]=t&255,t=t>>>8,r[o+1]=t&255,t=t>>>8,r[o+2]=t&255,t=t>>>8,r[o+3]=t&255}e.writeUInt32LE=p;function b(r,t){return r[t]}e.readUInt8=b;function f(r,t,o){r[o]=t}e.writeUInt8=f;function w(r){return P.consumeReadable(r,t=>I.concat(t))}e.readableToBuffer=w;function d(r){return P.toReadable(r)}e.bufferToReadable=d;function S(r){return P.consumeStream(r,t=>I.concat(t))}e.streamToBuffer=S;async function g(r){return r.ended?I.concat(r.buffer):I.concat([...r.buffer,await S(r.stream)])}e.bufferedStreamToBuffer=g;function c(r){return P.toStream(r,t=>I.concat(t))}e.bufferToStream=c;function a(r){return P.transform(r,{data:t=>typeof t=="string"?I.fromString(t):I.wrap(t)},t=>I.concat(t))}e.streamToBufferReadableStream=a;function l(r){return P.newWriteableStream(t=>I.concat(t),r)}e.newWriteableBufferStream=l;function n(r,t){return P.prefixedReadable(r,t,o=>I.concat(o))}e.prefixedBufferReadable=n;function s(r,t){return P.prefixedStream(r,t,o=>I.concat(o))}e.prefixedBufferStream=s}),define(he[15],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLeftDeleteOffset=e.GraphemeBreakType=e.breakBetweenGraphemeBreakType=e.getGraphemeBreakType=e.singleLetterHash=e.getNLines=e.uppercaseFirstLetter=e.containsUppercaseCharacter=e.fuzzyContains=e.stripUTF8BOM=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.removeAnsiEscapeCodes=e.lcut=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsEmoji=e.containsRTL=e.getCharContainingOffset=e.prevCharLength=e.nextCharLength=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpContainsBackreference=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.truncate=e.count=e.escapeRegExpCharacters=e.escape=e.format2=e.format=e.isFalsyOrWhitespace=void 0;function P(ee){return!ee||typeof ee!="string"?!0:ee.trim().length===0}e.isFalsyOrWhitespace=P;const _=/{(\d+)}/g;function y(ee,...De){return De.length===0?ee:ee.replace(_,function(Te,$e){const Ve=parseInt($e,10);return isNaN(Ve)||Ve<0||Ve>=De.length?Te:De[Ve]})}e.format=y;const C=/{([^}]+)}/g;function I(ee,De){return ee.replace(C,(Te,$e)=>De[$e]??Te)}e.format2=I;function k(ee){return ee.replace(/[<>&]/g,function(De){switch(De){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return De}})}e.escape=k;function m(ee){return ee.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=m;function E(ee,De){let Te=0;const $e=De.charCodeAt(0);for(let Ve=ee.length-1;Ve>=0;Ve--)ee.charCodeAt(Ve)===$e&&Te++;return Te}e.count=E;function i(ee,De,Te="\u2026"){return ee.length<=De?ee:`${ee.substr(0,De)}${Te}`}e.truncate=i;function T(ee,De=" "){const Te=p(ee,De);return b(Te,De)}e.trim=T;function p(ee,De){if(!ee||!De)return ee;const Te=De.length;if(Te===0||ee.length===0)return ee;let $e=0;for(;ee.indexOf(De,$e)===$e;)$e=$e+Te;return ee.substring($e)}e.ltrim=p;function b(ee,De){if(!ee||!De)return ee;const Te=De.length,$e=ee.length;if(Te===0||$e===0)return ee;let Ve=$e,et=-1;for(;et=ee.lastIndexOf(De,Ve-1),!(et===-1||et+Te!==Ve);){if(et===0)return"";Ve=et}return ee.substring(0,Ve)}e.rtrim=b;function f(ee){return ee.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=f;function w(ee){return ee.replace(/\*/g,"")}e.stripWildcards=w;function d(ee,De,Te={}){if(!ee)throw new Error("Cannot create regex from empty string");De||(ee=m(ee)),Te.wholeWord&&(/\B/.test(ee.charAt(0))||(ee="\\b"+ee),/\B/.test(ee.charAt(ee.length-1))||(ee=ee+"\\b"));let $e="";return Te.global&&($e+="g"),Te.matchCase||($e+="i"),Te.multiline&&($e+="m"),Te.unicode&&($e+="u"),new RegExp(ee,$e)}e.createRegExp=d;function S(ee){return ee.source==="^"||ee.source==="^$"||ee.source==="$"||ee.source==="^\\s*$"?!1:!!(ee.exec("")&&ee.lastIndex===0)}e.regExpLeadsToEndlessLoop=S;function g(ee){return!!ee.match(/([^\\]|^)(\\\\)*\\\d+/)}e.regExpContainsBackreference=g;function c(ee){return(ee.global?"g":"")+(ee.ignoreCase?"i":"")+(ee.multiline?"m":"")+(ee.unicode?"u":"")}e.regExpFlags=c;function a(ee){return ee.split(/\r\n|\r|\n/)}e.splitLines=a;function l(ee){for(let De=0,Te=ee.length;De<Te;De++){const $e=ee.charCodeAt(De);if($e!==32&&$e!==9)return De}return-1}e.firstNonWhitespaceIndex=l;function n(ee,De=0,Te=ee.length){for(let $e=De;$e<Te;$e++){const Ve=ee.charCodeAt($e);if(Ve!==32&&Ve!==9)return ee.substring(De,$e)}return ee.substring(De,Te)}e.getLeadingWhitespace=n;function s(ee,De=ee.length-1){for(let Te=De;Te>=0;Te--){const $e=ee.charCodeAt(Te);if($e!==32&&$e!==9)return Te}return-1}e.lastNonWhitespaceIndex=s;function r(ee,De){return ee<De?-1:ee>De?1:0}e.compare=r;function t(ee,De,Te=0,$e=ee.length,Ve=0,et=De.length){for(;Te<$e&&Ve<et;Te++,Ve++){let re=ee.charCodeAt(Te),ie=De.charCodeAt(Ve);if(re<ie)return-1;if(re>ie)return 1}const Ue=$e-Te,ke=et-Ve;return Ue<ke?-1:Ue>ke?1:0}e.compareSubstring=t;function o(ee,De){return u(ee,De,0,ee.length,0,De.length)}e.compareIgnoreCase=o;function u(ee,De,Te=0,$e=ee.length,Ve=0,et=De.length){for(;Te<$e&&Ve<et;Te++,Ve++){let re=ee.charCodeAt(Te),ie=De.charCodeAt(Ve);if(re===ie)continue;if(re>=128||ie>=128)return t(ee.toLowerCase(),De.toLowerCase(),Te,$e,Ve,et);v(re)&&(re-=32),v(ie)&&(ie-=32);const fe=re-ie;if(fe!==0)return fe}const Ue=$e-Te,ke=et-Ve;return Ue<ke?-1:Ue>ke?1:0}e.compareSubstringIgnoreCase=u;function v(ee){return ee>=97&&ee<=122}e.isLowerAsciiLetter=v;function D(ee){return ee>=65&&ee<=90}e.isUpperAsciiLetter=D;function h(ee,De){return ee.length===De.length&&u(ee,De)===0}e.equalsIgnoreCase=h;function A(ee,De){const Te=De.length;return De.length>ee.length?!1:u(ee,De,0,Te)===0}e.startsWithIgnoreCase=A;function N(ee,De){let Te,$e=Math.min(ee.length,De.length);for(Te=0;Te<$e;Te++)if(ee.charCodeAt(Te)!==De.charCodeAt(Te))return Te;return $e}e.commonPrefixLength=N;function $(ee,De){let Te,$e=Math.min(ee.length,De.length);const Ve=ee.length-1,et=De.length-1;for(Te=0;Te<$e;Te++)if(ee.charCodeAt(Ve-Te)!==De.charCodeAt(et-Te))return Te;return $e}e.commonSuffixLength=$;function K(ee){return 55296<=ee&&ee<=56319}e.isHighSurrogate=K;function j(ee){return 56320<=ee&&ee<=57343}e.isLowSurrogate=j;function F(ee,De){return(ee-55296<<10)+(De-56320)+65536}e.computeCodePoint=F;function G(ee,De,Te){const $e=ee.charCodeAt(Te);if(K($e)&&Te+1<De){const Ve=ee.charCodeAt(Te+1);if(j(Ve))return F($e,Ve)}return $e}e.getNextCodePoint=G;function R(ee,De){const Te=ee.charCodeAt(De-1);if(j(Te)&&De>1){const $e=ee.charCodeAt(De-2);if(K($e))return F($e,Te)}return Te}function B(ee,De){const Te=ae.getInstance(),$e=De,Ve=ee.length,et=G(ee,Ve,De);De+=et>=65536?2:1;let Ue=Te.getGraphemeBreakType(et);for(;De<Ve;){const ke=G(ee,Ve,De),re=Te.getGraphemeBreakType(ke);if(Ze(Ue,re))break;De+=ke>=65536?2:1,Ue=re}return De-$e}e.nextCharLength=B;function H(ee,De){const Te=ae.getInstance(),$e=De,Ve=R(ee,De);De-=Ve>=65536?2:1;let et=Te.getGraphemeBreakType(Ve);for(;De>0;){const Ue=R(ee,De),ke=Te.getGraphemeBreakType(Ue);if(Ze(ke,et))break;De-=Ue>=65536?2:1,et=ke}return $e-De}e.prevCharLength=H;function q(ee,De){const Te=ae.getInstance(),$e=ee.length,Ve=De,et=G(ee,$e,De),Ue=Te.getGraphemeBreakType(et);De+=et>=65536?2:1;let ke=Ue;for(;De<$e;){const ie=G(ee,$e,De),fe=Te.getGraphemeBreakType(ie);if(Ze(ke,fe))break;De+=ie>=65536?2:1,ke=fe}const re=De;for(De=Ve,ke=Ue;De>0;){const ie=R(ee,De),fe=Te.getGraphemeBreakType(ie);if(Ze(fe,ke))break;De-=ie>=65536?2:1,ke=fe}return[De,re]}function W(ee,De){return De>0&&j(ee.charCodeAt(De))?q(ee,De-1):q(ee,De)}e.getCharContainingOffset=W;const U=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function x(ee){return U.test(ee)}e.containsRTL=x;const z=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;function te(ee){return z.test(ee)}e.containsEmoji=te;const X=/^[\t\n\r\x20-\x7E]*$/;function me(ee){return X.test(ee)}e.isBasicASCII=me,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function pe(ee){return e.UNUSUAL_LINE_TERMINATORS.test(ee)}e.containsUnusualLineTerminators=pe;function se(ee){for(let De=0,Te=ee.length;De<Te;De++)if(ne(ee.charCodeAt(De)))return!0;return!1}e.containsFullWidthCharacter=se;function ne(ee){return ee=+ee,ee>=11904&&ee<=55215||ee>=63744&&ee<=64255||ee>=65281&&ee<=65374}e.isFullWidthCharacter=ne;function Se(ee){return ee>=127462&&ee<=127487||ee===8986||ee===8987||ee===9200||ee===9203||ee>=9728&&ee<=10175||ee===11088||ee===11093||ee>=127744&&ee<=128591||ee>=128640&&ee<=128764||ee>=128992&&ee<=129003||ee>=129280&&ee<=129535||ee>=129648&&ee<=129750}e.isEmojiImprecise=Se;function ye(ee,De){if(ee.length<De)return ee;const Te=/\b/g;let $e=0;for(;Te.test(ee)&&!(ee.length-Te.lastIndex<De);)$e=Te.lastIndex,Te.lastIndex+=1;return ee.substring($e).replace(/^\s/,"")}e.lcut=ye;const Ae=/\x1B\x5B[12]?K/g,Fe=/\x1b\[\d+m/g,qe=/\x1b\[0?m/g;function Be(ee){return ee&&(ee=ee.replace(Ae,""),ee=ee.replace(Fe,""),ee=ee.replace(qe,"")),ee}e.removeAnsiEscapeCodes=Be,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function nt(ee){return!!(ee&&ee.length>0&&ee.charCodeAt(0)===65279)}e.startsWithUTF8BOM=nt;function ge(ee){return nt(ee)?ee.substr(1):ee}e.stripUTF8BOM=ge;function ve(ee,De){if(!ee||!De||ee.length<De.length)return!1;const Te=De.length,$e=ee.toLowerCase();let Ve=0,et=-1;for(;Ve<Te;){const Ue=$e.indexOf(De[Ve],et+1);if(Ue<0)return!1;et=Ue,Ve++}return!0}e.fuzzyContains=ve;function Pe(ee,De=!1){return ee?(De&&(ee=ee.replace(/\\./g,"")),ee.toLowerCase()!==ee):!1}e.containsUppercaseCharacter=Pe;function Le(ee){return ee.charAt(0).toUpperCase()+ee.slice(1)}e.uppercaseFirstLetter=Le;function Me(ee,De=1){if(De===0)return"";let Te=-1;do Te=ee.indexOf(`
`,Te+1),De--;while(De>0&&Te>=0);return Te===-1?ee:(ee[Te-1]==="\r"&&Te--,ee.substr(0,Te))}e.getNLines=Me;function He(ee){const De=90-65+1;return ee=ee%(2*De),ee<De?String.fromCharCode(97+ee):String.fromCharCode(65+ee-De)}e.singleLetterHash=He;function Ye(ee){return ae.getInstance().getGraphemeBreakType(ee)}e.getGraphemeBreakType=Ye;function Ze(ee,De){return ee===0?De!==5&&De!==7:ee===2&&De===3?!1:ee===4||ee===2||ee===3||De===4||De===2||De===3?!0:!(ee===8&&(De===8||De===9||De===11||De===12)||(ee===11||ee===9)&&(De===9||De===10)||(ee===12||ee===10)&&De===10||De===5||De===13||De===7||ee===1||ee===13&&De===14||ee===6&&De===6)}e.breakBetweenGraphemeBreakType=Ze;var ot;(function(ee){ee[ee.Other=0]="Other",ee[ee.Prepend=1]="Prepend",ee[ee.CR=2]="CR",ee[ee.LF=3]="LF",ee[ee.Control=4]="Control",ee[ee.Extend=5]="Extend",ee[ee.Regional_Indicator=6]="Regional_Indicator",ee[ee.SpacingMark=7]="SpacingMark",ee[ee.L=8]="L",ee[ee.V=9]="V",ee[ee.T=10]="T",ee[ee.LV=11]="LV",ee[ee.LVT=12]="LVT",ee[ee.ZWJ=13]="ZWJ",ee[ee.Extended_Pictographic=14]="Extended_Pictographic"})(ot=e.GraphemeBreakType||(e.GraphemeBreakType={}));class ae{constructor(){this._data=be()}static getInstance(){return ae._INSTANCE||(ae._INSTANCE=new ae),ae._INSTANCE}getGraphemeBreakType(De){if(De<32)return De===10?3:De===13?2:4;if(De<127)return 0;const Te=this._data,$e=Te.length/3;let Ve=1;for(;Ve<=$e;)if(De<Te[3*Ve])Ve=2*Ve;else if(De>Te[3*Ve+1])Ve=2*Ve+1;else return Te[3*Ve+2];return 0}}ae._INSTANCE=null;function be(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}function Ie(ee,De){if(ee===0)return 0;const Te=We(ee,De);if(Te!==void 0)return Te;const $e=R(De,ee);return ee-=Xe($e),ee}e.getLeftDeleteOffset=Ie;function We(ee,De){let Te=R(De,ee);for(ee-=Xe(Te);at(Te)||Te===65039||Te===8419;){if(ee===0)return;Te=R(De,ee),ee-=Xe(Te)}if(!!Se(Te)){if(ee>=0){const $e=R(De,ee);$e===8205&&(ee-=Xe($e))}return ee}}function Xe(ee){return ee>=65536?2:1}function at(ee){return 127995<=ee&&ee<=127999}var it;(function(ee){ee[ee.zwj=8205]="zwj",ee[ee.emojiVariantSelector=65039]="emojiVariantSelector",ee[ee.enclosingKeyCap=8419]="enclosingKeyCap"})(it||(it={}))}),define(he[121],de([0,1,15]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.Hasher=e.stringHash=e.numberHash=e.doHash=e.hash=void 0;function _(S){return y(S,0)}e.hash=_;function y(S,g){switch(typeof S){case"object":return S===null?C(349,g):Array.isArray(S)?m(S,g):E(S,g);case"string":return k(S,g);case"boolean":return I(S,g);case"number":return C(S,g);case"undefined":return C(937,g);default:return C(617,g)}}e.doHash=y;function C(S,g){return(g<<5)-g+S|0}e.numberHash=C;function I(S,g){return C(S?433:863,g)}function k(S,g){g=C(149417,g);for(let c=0,a=S.length;c<a;c++)g=C(S.charCodeAt(c),g);return g}e.stringHash=k;function m(S,g){return g=C(104579,g),S.reduce((c,a)=>y(a,c),g)}function E(S,g){return g=C(181387,g),Object.keys(S).sort().reduce((c,a)=>(c=k(a,c),y(S[a],c)),g)}class i{constructor(){this._value=0}get value(){return this._value}hash(g){return this._value=y(g,this._value),this._value}}e.Hasher=i;var T;(function(S){S[S.BLOCK_SIZE=64]="BLOCK_SIZE",S[S.UNICODE_REPLACEMENT=65533]="UNICODE_REPLACEMENT"})(T||(T={}));function p(S,g,c=32){const a=c-g,l=~((1<<a)-1);return(S<<g|(l&S)>>>a)>>>0}function b(S,g=0,c=S.byteLength,a=0){for(let l=0;l<c;l++)S[g+l]=a}function f(S,g,c="0"){for(;S.length<g;)S=c+S;return S}function w(S,g=32){return S instanceof ArrayBuffer?Array.from(new Uint8Array(S)).map(c=>c.toString(16).padStart(2,"0")).join(""):f((S>>>0).toString(16),g/4)}e.toHexString=w;class d{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(g){const c=g.length;if(c===0)return;const a=this._buff;let l=this._buffLen,n=this._leftoverHighSurrogate,s,r;for(n!==0?(s=n,r=-1,n=0):(s=g.charCodeAt(0),r=0);;){let t=s;if(P.isHighSurrogate(s))if(r+1<c){const o=g.charCodeAt(r+1);P.isLowSurrogate(o)?(r++,t=P.computeCodePoint(s,o)):t=65533}else{n=s;break}else P.isLowSurrogate(s)&&(t=65533);if(l=this._push(a,l,t),r++,r<c)s=g.charCodeAt(r);else break}this._buffLen=l,this._leftoverHighSurrogate=n}_push(g,c,a){return a<128?g[c++]=a:a<2048?(g[c++]=192|(a&1984)>>>6,g[c++]=128|(a&63)>>>0):a<65536?(g[c++]=224|(a&61440)>>>12,g[c++]=128|(a&4032)>>>6,g[c++]=128|(a&63)>>>0):(g[c++]=240|(a&1835008)>>>18,g[c++]=128|(a&258048)>>>12,g[c++]=128|(a&4032)>>>6,g[c++]=128|(a&63)>>>0),c>=64&&(this._step(),c-=64,this._totalLen+=64,g[0]=g[64+0],g[1]=g[64+1],g[2]=g[64+2]),c}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),w(this._h0)+w(this._h1)+w(this._h2)+w(this._h3)+w(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,b(this._buff,this._buffLen),this._buffLen>56&&(this._step(),b(this._buff));const g=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(g/4294967296),!1),this._buffDV.setUint32(60,g%4294967296,!1),this._step()}_step(){const g=d._bigBlock32,c=this._buffDV;for(let v=0;v<64;v+=4)g.setUint32(v,c.getUint32(v,!1),!1);for(let v=64;v<320;v+=4)g.setUint32(v,p(g.getUint32(v-12,!1)^g.getUint32(v-32,!1)^g.getUint32(v-56,!1)^g.getUint32(v-64,!1),1),!1);let a=this._h0,l=this._h1,n=this._h2,s=this._h3,r=this._h4,t,o,u;for(let v=0;v<80;v++)v<20?(t=l&n|~l&s,o=1518500249):v<40?(t=l^n^s,o=1859775393):v<60?(t=l&n|l&s|n&s,o=2400959708):(t=l^n^s,o=3395469782),u=p(a,5)+t+r+o+g.getUint32(v*4,!1)&4294967295,r=s,s=n,n=p(l,30),l=a,a=u;this._h0=this._h0+a&4294967295,this._h1=this._h1+l&4294967295,this._h2=this._h2+n&4294967295,this._h3=this._h3+s&4294967295,this._h4=this._h4+r&4294967295}}e.StringSHA1=d,d._bigBlock32=new DataView(new ArrayBuffer(320))});var Pt=this&&this.__classPrivateFieldSet||function(Z,e,P,_,y){if(_==="m")throw new TypeError("Private method is not writable");if(_==="a"&&!y)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?Z!==e||!y:!e.has(Z))throw new TypeError("Cannot write private member to an object whose class did not declare it");return _==="a"?y.call(Z,P):y?y.value=P:e.set(Z,P),P},ct=this&&this.__classPrivateFieldGet||function(Z,e,P,_){if(P==="a"&&!_)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?Z!==e||!_:!e.has(Z))throw new TypeError("Cannot read private member from an object whose class did not declare it");return P==="m"?_:P==="a"?_.call(Z):_?_.value:e.get(Z)};define(he[28],de([0,1,18,15]),function(Z,e,P,_){"use strict";var y,C,I;Object.defineProperty(e,"__esModule",{value:!0}),e.ReadonlyMapView=e.LRUCache=e.LinkedMap=e.Touch=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=e.setToString=e.mapToString=e.getOrSet=void 0;function k(r,t,o){let u=r.get(t);return u===void 0&&(u=o,r.set(t,u)),u}e.getOrSet=k;function m(r){const t=[];return r.forEach((o,u)=>{t.push(`${u} => ${o}`)}),`Map(${r.size}) {${t.join(", ")}}`}e.mapToString=m;function E(r){const t=[];return r.forEach(o=>{t.push(o)}),`Set(${r.size}) {${t.join(", ")}}`}e.setToString=E;class i{constructor(){this._value="",this._pos=0}reset(t){return this._value=t,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(t){const o=t.charCodeAt(0),u=this._value.charCodeAt(this._pos);return o-u}value(){return this._value[this._pos]}}e.StringIterator=i;class T{constructor(t=!0){this._caseSensitive=t}reset(t){return this._value=t,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let t=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(t)this._from++;else break;else t=!1;return this}cmp(t){return this._caseSensitive?(0,_.compareSubstring)(t,this._value,0,t.length,this._from,this._to):(0,_.compareSubstringIgnoreCase)(t,this._value,0,t.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=T;class p{constructor(t=!0,o=!0){this._splitOnBackslash=t,this._caseSensitive=o}reset(t){return this._value=t.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let t=!0;for(;this._to<this._value.length;this._to++){const o=this._value.charCodeAt(this._to);if(o===47||this._splitOnBackslash&&o===92)if(t)this._from++;else break;else t=!1}return this}cmp(t){return this._caseSensitive?(0,_.compareSubstring)(t,this._value,0,t.length,this._from,this._to):(0,_.compareSubstringIgnoreCase)(t,this._value,0,t.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=p;var b;(function(r){r[r.Scheme=1]="Scheme",r[r.Authority=2]="Authority",r[r.Path=3]="Path",r[r.Query=4]="Query",r[r.Fragment=5]="Fragment"})(b||(b={}));class f{constructor(t){this._ignorePathCasing=t,this._states=[],this._stateIdx=0}reset(t){return this._value=t,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new p(!1,!this._ignorePathCasing(t)),this._pathIterator.reset(t.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(t){if(this._states[this._stateIdx]===1)return(0,_.compareIgnoreCase)(t,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,_.compareIgnoreCase)(t,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(t);if(this._states[this._stateIdx]===4)return(0,_.compare)(t,this._value.query);if(this._states[this._stateIdx]===5)return(0,_.compare)(t,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=f;class w{constructor(){this.height=1}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}rotateLeft(){const t=this.right;return this.right=t.left,t.left=this,this.updateHeight(),t.updateHeight(),t}rotateRight(){const t=this.left;return this.left=t.right,t.right=this,this.updateHeight(),t.updateHeight(),t}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){return this.left?.height??0}get heightRight(){return this.right?.height??0}}var d;(function(r){r[r.Left=-1]="Left",r[r.Mid=0]="Mid",r[r.Right=1]="Right"})(d||(d={}));class S{constructor(t){this._iter=t}static forUris(t=()=>!1){return new S(new f(t))}static forPaths(){return new S(new p)}static forStrings(){return new S(new i)}static forConfigKeys(){return new S(new T)}clear(){this._root=void 0}fill(t,o){if(o){const u=o.slice(0);(0,P.shuffle)(u);for(let v of u)this.set(v,t)}else{const u=t.slice(0);(0,P.shuffle)(u);for(let v of u)this.set(v[0],v[1])}}set(t,o){const u=this._iter.reset(t);let v;this._root||(this._root=new w,this._root.segment=u.value());const D=[];for(v=this._root;;){const A=u.cmp(v.segment);if(A>0)v.left||(v.left=new w,v.left.segment=u.value()),D.push([-1,v]),v=v.left;else if(A<0)v.right||(v.right=new w,v.right.segment=u.value()),D.push([1,v]),v=v.right;else if(u.hasNext())u.next(),v.mid||(v.mid=new w,v.mid.segment=u.value()),D.push([0,v]),v=v.mid;else break}const h=v.value;v.value=o,v.key=t;for(let A=D.length-1;A>=0;A--){const N=D[A][1];N.updateHeight();const $=N.balanceFactor();if($<-1||$>1){const K=D[A][0],j=D[A+1][0];if(K===1&&j===1)D[A][1]=N.rotateLeft();else if(K===-1&&j===-1)D[A][1]=N.rotateRight();else if(K===1&&j===-1)N.right=D[A+1][1]=D[A+1][1].rotateRight(),D[A][1]=N.rotateLeft();else if(K===-1&&j===1)N.left=D[A+1][1]=D[A+1][1].rotateLeft(),D[A][1]=N.rotateRight();else throw new Error;if(A>0)switch(D[A-1][0]){case-1:D[A-1][1].left=D[A][1];break;case 1:D[A-1][1].right=D[A][1];break;case 0:D[A-1][1].mid=D[A][1];break}else this._root=D[0][1]}}return h}get(t){return this._getNode(t)?.value}_getNode(t){const o=this._iter.reset(t);let u=this._root;for(;u;){const v=o.cmp(u.segment);if(v>0)u=u.left;else if(v<0)u=u.right;else if(o.hasNext())o.next(),u=u.mid;else break}return u}has(t){const o=this._getNode(t);return!(o?.value===void 0&&o?.mid===void 0)}delete(t){return this._delete(t,!1)}deleteSuperstr(t){return this._delete(t,!0)}_delete(t,o){const u=this._iter.reset(t),v=[];let D=this._root;for(;D;){const h=u.cmp(D.segment);if(h>0)v.push([-1,D]),D=D.left;else if(h<0)v.push([1,D]),D=D.right;else if(u.hasNext())u.next(),v.push([0,D]),D=D.mid;else break}if(!!D){if(o?(D.left=void 0,D.mid=void 0,D.right=void 0,D.height=1):(D.key=void 0,D.value=void 0),!D.mid&&!D.value)if(D.left&&D.right){const h=this._min(D.right),{key:A,value:N,segment:$}=h;this._delete(h.key,!1),D.key=A,D.value=N,D.segment=$}else{const h=D.left??D.right;if(v.length>0){const[A,N]=v[v.length-1];switch(A){case-1:N.left=h;break;case 0:N.mid=h;break;case 1:N.right=h;break}}else this._root=h}for(let h=v.length-1;h>=0;h--){const A=v[h][1];A.updateHeight();const N=A.balanceFactor();if(N>1?(A.right.balanceFactor()>=0||(A.right=v[h+1][1]=v[h+1][1].rotateRight()),v[h][1]=A.rotateLeft()):N<-1&&(A.left.balanceFactor()<=0||(A.left=v[h+1][1]=v[h+1][1].rotateLeft()),v[h][1]=A.rotateRight()),h>0)switch(v[h-1][0]){case-1:v[h-1][1].left=v[h][1];break;case 1:v[h-1][1].right=v[h][1];break;case 0:v[h-1][1].mid=v[h][1];break}else this._root=v[0][1]}}}_min(t){for(;t.left;)t=t.left;return t}findSubstr(t){const o=this._iter.reset(t);let u=this._root,v;for(;u;){const D=o.cmp(u.segment);if(D>0)u=u.left;else if(D<0)u=u.right;else if(o.hasNext())o.next(),v=u.value||v,u=u.mid;else break}return u&&u.value||v}findSuperstr(t){const o=this._iter.reset(t);let u=this._root;for(;u;){const v=o.cmp(u.segment);if(v>0)u=u.left;else if(v<0)u=u.right;else if(o.hasNext())o.next(),u=u.mid;else return u.mid?this._entries(u.mid):void 0}}forEach(t){for(const[o,u]of this)t(u,o)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(t){!t||(t.left&&(yield*this._entries(t.left)),t.value&&(yield[t.key,t.value]),t.mid&&(yield*this._entries(t.mid)),t.right&&(yield*this._entries(t.right)))}_isBalanced(){const t=o=>{if(!o)return!0;const u=o.balanceFactor();return u<-1||u>1?!1:t(o.left)&&t(o.right)};return t(this._root)}}e.TernarySearchTree=S;class g{constructor(t,o){this.uri=t,this.value=o}}class c{constructor(t,o){this[y]="ResourceMap",t instanceof c?(this.map=new Map(t.map),this.toKey=o??c.defaultToKey):(this.map=new Map,this.toKey=t??c.defaultToKey)}set(t,o){return this.map.set(this.toKey(t),new g(t,o)),this}get(t){return this.map.get(this.toKey(t))?.value}has(t){return this.map.has(this.toKey(t))}get size(){return this.map.size}clear(){this.map.clear()}delete(t){return this.map.delete(this.toKey(t))}forEach(t,o){typeof o!="undefined"&&(t=t.bind(o));for(let[u,v]of this.map)t(v.value,v.uri,this)}*values(){for(let t of this.map.values())yield t.value}*keys(){for(let t of this.map.values())yield t.uri}*entries(){for(let t of this.map.values())yield[t.uri,t.value]}*[(y=Symbol.toStringTag,Symbol.iterator)](){for(let[,t]of this.map)yield[t.uri,t.value]}}e.ResourceMap=c,c.defaultToKey=r=>r.toString();var a;(function(r){r[r.None=0]="None",r[r.AsOld=1]="AsOld",r[r.AsNew=2]="AsNew"})(a=e.Touch||(e.Touch={}));class l{constructor(){this[C]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,o=0){const u=this._map.get(t);if(!!u)return o!==0&&this.touch(u,o),u.value}set(t,o,u=0){let v=this._map.get(t);if(v)v.value=o,u!==0&&this.touch(v,u);else{switch(v={key:t,value:o,next:void 0,previous:void 0},u){case 0:this.addItemLast(v);break;case 1:this.addItemFirst(v);break;case 2:this.addItemLast(v);break;default:this.addItemLast(v);break}this._map.set(t,v),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){const o=this._map.get(t);if(!!o)return this._map.delete(t),this.removeItem(o),this._size--,o.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,o){const u=this._state;let v=this._head;for(;v;){if(o?t.bind(o)(v.value,v.key,this):t(v.value,v.key,this),this._state!==u)throw new Error("LinkedMap got modified during iteration.");v=v.next}}keys(){const t=this,o=this._state;let u=this._head;const v={[Symbol.iterator](){return v},next(){if(t._state!==o)throw new Error("LinkedMap got modified during iteration.");if(u){const D={value:u.key,done:!1};return u=u.next,D}else return{value:void 0,done:!0}}};return v}values(){const t=this,o=this._state;let u=this._head;const v={[Symbol.iterator](){return v},next(){if(t._state!==o)throw new Error("LinkedMap got modified during iteration.");if(u){const D={value:u.value,done:!1};return u=u.next,D}else return{value:void 0,done:!0}}};return v}entries(){const t=this,o=this._state;let u=this._head;const v={[Symbol.iterator](){return v},next(){if(t._state!==o)throw new Error("LinkedMap got modified during iteration.");if(u){const D={value:[u.key,u.value],done:!1};return u=u.next,D}else return{value:void 0,done:!0}}};return v}[(C=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let o=this._head,u=this.size;for(;o&&u>t;)this._map.delete(o.key),o=o.next,u--;this._head=o,this._size=u,o&&(o.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{const o=t.next,u=t.previous;if(!o||!u)throw new Error("Invalid list");o.previous=u,u.next=o}t.next=void 0,t.previous=void 0,this._state++}touch(t,o){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(o!==1&&o!==2)){if(o===1){if(t===this._head)return;const u=t.next,v=t.previous;t===this._tail?(v.next=void 0,this._tail=v):(u.previous=v,v.next=u),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(o===2){if(t===this._tail)return;const u=t.next,v=t.previous;t===this._head?(u.previous=void 0,this._head=u):(u.previous=v,v.next=u),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){const t=[];return this.forEach((o,u)=>{t.push([u,o])}),t}fromJSON(t){this.clear();for(const[o,u]of t)this.set(o,u)}}e.LinkedMap=l;class n extends l{constructor(t,o=1){super();this._limit=t,this._ratio=Math.min(Math.max(0,o),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,o=2){return super.get(t,o)}peek(t){return super.get(t,0)}set(t,o){return super.set(t,o,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=n;class s{constructor(t){I.set(this,void 0),Pt(this,I,t,"f")}get size(){return ct(this,I,"f").size}forEach(t,o){ct(this,I,"f").forEach(t,o)}get(t){return ct(this,I,"f").get(t)}has(t){return ct(this,I,"f").has(t)}entries(){return ct(this,I,"f").entries()}keys(){return ct(this,I,"f").keys()}values(){return ct(this,I,"f").values()}[(I=new WeakMap,Symbol.iterator)](){return ct(this,I,"f").entries()}}e.ReadonlyMapView=s}),define(he[122],de([0,1,28,15]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGraceful=e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy2=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function y(...ge){return function(ve,Pe){for(let Le=0,Me=ge.length;Le<Me;Le++){const He=ge[Le](ve,Pe);if(He)return He}return null}}e.or=y,e.matchesStrictPrefix=C.bind(void 0,!1),e.matchesPrefix=C.bind(void 0,!0);function C(ge,ve,Pe){if(!Pe||Pe.length<ve.length)return null;let Le;return ge?Le=_.startsWithIgnoreCase(Pe,ve):Le=Pe.indexOf(ve)===0,Le?ve.length>0?[{start:0,end:ve.length}]:[]:null}function I(ge,ve){const Pe=ve.toLowerCase().indexOf(ge.toLowerCase());return Pe===-1?null:[{start:Pe,end:Pe+ge.length}]}e.matchesContiguousSubString=I;function k(ge,ve){return m(ge.toLowerCase(),ve.toLowerCase(),0,0)}e.matchesSubString=k;function m(ge,ve,Pe,Le){if(Pe===ge.length)return[];if(Le===ve.length)return null;if(ge[Pe]===ve[Le]){let Me=null;return(Me=m(ge,ve,Pe+1,Le+1))?S({start:Le,end:Le+1},Me):null}return m(ge,ve,Pe,Le+1)}function E(ge){return 97<=ge&&ge<=122}function i(ge){return 65<=ge&&ge<=90}e.isUpper=i;function T(ge){return 48<=ge&&ge<=57}function p(ge){return ge===32||ge===9||ge===10||ge===13}const b=new Set;"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(ge=>b.add(ge.charCodeAt(0)));function f(ge){return p(ge)||b.has(ge)}function w(ge,ve){return ge===ve||f(ge)&&f(ve)}function d(ge){return E(ge)||i(ge)||T(ge)}function S(ge,ve){return ve.length===0?ve=[ge]:ge.end===ve[0].start?ve[0].start=ge.start:ve.unshift(ge),ve}function g(ge,ve){for(let Pe=ve;Pe<ge.length;Pe++){const Le=ge.charCodeAt(Pe);if(i(Le)||T(Le)||Pe>0&&!d(ge.charCodeAt(Pe-1)))return Pe}return ge.length}function c(ge,ve,Pe,Le){if(Pe===ge.length)return[];if(Le===ve.length)return null;if(ge[Pe]!==ve[Le].toLowerCase())return null;{let Me=null,He=Le+1;for(Me=c(ge,ve,Pe+1,Le+1);!Me&&(He=g(ve,He))<ve.length;)Me=c(ge,ve,Pe+1,He),He++;return Me===null?null:S({start:Le,end:Le+1},Me)}}function a(ge){let ve=0,Pe=0,Le=0,Me=0,He=0;for(let be=0;be<ge.length;be++)He=ge.charCodeAt(be),i(He)&&ve++,E(He)&&Pe++,d(He)&&Le++,T(He)&&Me++;const Ye=ve/ge.length,Ze=Pe/ge.length,ot=Le/ge.length,ae=Me/ge.length;return{upperPercent:Ye,lowerPercent:Ze,alphaPercent:ot,numericPercent:ae}}function l(ge){const{upperPercent:ve,lowerPercent:Pe}=ge;return Pe===0&&ve>.6}function n(ge){const{upperPercent:ve,lowerPercent:Pe,alphaPercent:Le,numericPercent:Me}=ge;return Pe>.2&&ve<.8&&Le>.6&&Me<.2}function s(ge){let ve=0,Pe=0,Le=0,Me=0;for(let He=0;He<ge.length;He++)Le=ge.charCodeAt(He),i(Le)&&ve++,E(Le)&&Pe++,p(Le)&&Me++;return(ve===0||Pe===0)&&Me===0?ge.length<=30:ve<=5}function r(ge,ve){if(!ve||(ve=ve.trim(),ve.length===0)||!s(ge)||ve.length>60)return null;const Pe=a(ve);if(!n(Pe)){if(!l(Pe))return null;ve=ve.toLowerCase()}let Le=null,Me=0;for(ge=ge.toLowerCase();Me<ve.length&&(Le=c(ge,ve,0,Me))===null;)Me=g(ve,Me+1);return Le}e.matchesCamelCase=r;function t(ge,ve,Pe=!1){if(!ve||ve.length===0)return null;let Le=null,Me=0;for(ge=ge.toLowerCase(),ve=ve.toLowerCase();Me<ve.length&&(Le=o(ge,ve,0,Me,Pe))===null;)Me=u(ve,Me+1);return Le}e.matchesWords=t;function o(ge,ve,Pe,Le,Me){if(Pe===ge.length)return[];if(Le===ve.length)return null;if(w(ge.charCodeAt(Pe),ve.charCodeAt(Le))){let He=null,Ye=Le+1;if(He=o(ge,ve,Pe+1,Le+1,Me),!Me)for(;!He&&(Ye=u(ve,Ye))<ve.length;)He=o(ge,ve,Pe+1,Ye,Me),Ye++;return He===null?null:S({start:Le,end:Le+1},He)}else return null}function u(ge,ve){for(let Pe=ve;Pe<ge.length;Pe++)if(f(ge.charCodeAt(Pe))||Pe>0&&f(ge.charCodeAt(Pe-1)))return Pe;return ge.length}const v=y(e.matchesPrefix,r,I),D=y(e.matchesPrefix,r,k),h=new P.LRUCache(1e4);function A(ge,ve,Pe=!1){if(typeof ge!="string"||typeof ve!="string")return null;let Le=h.get(ge);Le||(Le=new RegExp(_.convertSimple2RegExpPattern(ge),"i"),h.set(ge,Le));const Me=Le.exec(ve);return Me?[{start:Me.index,end:Me.index+Me[0].length}]:Pe?D(ge,ve):v(ge,ve)}e.matchesFuzzy=A;function N(ge,ve){const Pe=Se(ge,ge.toLowerCase(),0,ve,ve.toLowerCase(),0,!0);return Pe?K(Pe):null}e.matchesFuzzy2=N;function $(ge,ve,Pe,Le,Me,He){const Ye=Math.min(13,ge.length);for(;Pe<Ye;Pe++){const Ze=Se(ge,ve,Pe,Le,Me,He,!1);if(Ze)return Ze}return[0,He]}e.anyScore=$;function K(ge){if(typeof ge=="undefined")return[];const ve=[],Pe=ge[1];for(let Le=ge.length-1;Le>1;Le--){const Me=ge[Le]+Pe,He=ve[ve.length-1];He&&He.end===Me?He.end=Me+1:ve.push({start:Me,end:Me+1})}return ve}e.createMatches=K;const j=128;function F(){const ge=[],ve=[];for(let Pe=0;Pe<=j;Pe++)ve[Pe]=0;for(let Pe=0;Pe<=j;Pe++)ge.push(ve.slice(0));return ge}function G(ge){const ve=[];for(let Pe=0;Pe<=ge;Pe++)ve[Pe]=0;return ve}const R=G(2*j),B=G(2*j),H=F(),q=F(),W=F(),U=!1;function x(ge,ve,Pe,Le,Me){function He(Ze,ot,ae=" "){for(;Ze.length<ot;)Ze=ae+Ze;return Ze}let Ye=` |   |${Le.split("").map(Ze=>He(Ze,3)).join("|")}
`;for(let Ze=0;Ze<=Pe;Ze++)Ze===0?Ye+=" |":Ye+=`${ve[Ze-1]}|`,Ye+=ge[Ze].slice(0,Me+1).map(ot=>He(ot.toString(),3)).join("|")+`
`;return Ye}function z(ge,ve,Pe,Le){ge=ge.substr(ve),Pe=Pe.substr(Le),console.log(x(q,ge,ge.length,Pe,Pe.length)),console.log(x(W,ge,ge.length,Pe,Pe.length)),console.log(x(H,ge,ge.length,Pe,Pe.length))}function te(ge,ve){if(ve<0||ve>=ge.length)return!1;const Pe=ge.codePointAt(ve);switch(Pe){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!_.isEmojiImprecise(Pe)}}function X(ge,ve){if(ve<0||ve>=ge.length)return!1;switch(ge.charCodeAt(ve)){case 32:case 9:return!0;default:return!1}}function me(ge,ve,Pe){return ve[ge]!==Pe[ge]}function pe(ge,ve,Pe,Le,Me,He,Ye=!1){for(;ve<Pe&&Me<He;)ge[ve]===Le[Me]&&(Ye&&(R[ve]=Me),ve+=1),Me+=1;return ve===Pe}e.isPatternInWord=pe;var se;(function(ge){ge[ge.Diag=1]="Diag",ge[ge.Left=2]="Left",ge[ge.LeftLeft=3]="LeftLeft"})(se||(se={}));var ne;(function(ge){ge.Default=[-100,0];function ve(Pe){return!Pe||Pe.length===2&&Pe[0]===-100&&Pe[1]===0}ge.isDefault=ve})(ne=e.FuzzyScore||(e.FuzzyScore={}));function Se(ge,ve,Pe,Le,Me,He,Ye){const Ze=ge.length>j?j:ge.length,ot=Le.length>j?j:Le.length;if(Pe>=Ze||He>=ot||Ze-Pe>ot-He||!pe(ve,Pe,Ze,Me,He,ot,!0))return;ye(Ze,ot,Pe,He,ve,Me);let ae=1,be=1,Ie=Pe,We=He;const Xe=[!1];for(ae=1,Ie=Pe;Ie<Ze;ae++,Ie++){const Te=R[Ie],$e=B[Ie],Ve=Ie+1<Ze?B[Ie+1]:ot;for(be=Te-He+1,We=Te;We<Ve;be++,We++){let et=Number.MIN_SAFE_INTEGER,Ue=!1;We<=$e&&(et=Ae(ge,ve,Ie,Pe,Le,Me,We,ot,He,H[ae-1][be-1]===0,Xe));let ke=0;et!==Number.MAX_SAFE_INTEGER&&(Ue=!0,ke=et+q[ae-1][be-1]);const re=We>Te,ie=re?q[ae][be-1]+(H[ae][be-1]>0?-5:0):0,fe=We>Te+1&&H[ae][be-1]>0,V=fe?q[ae][be-2]+(H[ae][be-2]>0?-5:0):0;if(fe&&(!re||V>=ie)&&(!Ue||V>=ke))q[ae][be]=V,W[ae][be]=3,H[ae][be]=0;else if(re&&(!Ue||ie>=ke))q[ae][be]=ie,W[ae][be]=2,H[ae][be]=0;else if(Ue)q[ae][be]=ke,W[ae][be]=1,H[ae][be]=H[ae-1][be-1]+1;else throw new Error("not possible")}}if(U&&z(ge,Pe,Le,He),!Xe[0]&&!Ye)return;ae--,be--;const at=[q[ae][be],He];let it=0,ee=0;for(;ae>=1;){let Te=be;do{const $e=W[ae][Te];if($e===3)Te=Te-2;else if($e===2)Te=Te-1;else break}while(Te>=1);it>1&&ve[Pe+ae-1]===Me[He+be-1]&&!me(Te+He-1,Le,Me)&&it+1>H[ae][Te]&&(Te=be),Te===be?it++:it=1,ee||(ee=Te),ae--,be=Te-1,at.push(be)}ot===Ze&&(at[0]+=2);const De=ee-Ze;return at[0]-=De,at}e.fuzzyScore=Se;function ye(ge,ve,Pe,Le,Me,He){let Ye=ge-1,Ze=ve-1;for(;Ye>=Pe&&Ze>=Le;)Me[Ye]===He[Ze]&&(B[Ye]=Ze,Ye--),Ze--}function Ae(ge,ve,Pe,Le,Me,He,Ye,Ze,ot,ae,be){if(ve[Pe]!==He[Ye])return Number.MIN_SAFE_INTEGER;let Ie=1,We=!1;return Ye===Pe-Le?Ie=ge[Pe]===Me[Ye]?7:5:me(Ye,Me,He)&&(Ye===0||!me(Ye-1,Me,He))?(Ie=ge[Pe]===Me[Ye]?7:5,We=!0):te(He,Ye)&&(Ye===0||!te(He,Ye-1))?Ie=5:(te(He,Ye-1)||X(He,Ye-1))&&(Ie=5,We=!0),Ie>1&&Pe===Le&&(be[0]=!0),We||(We=me(Ye,Me,He)||te(He,Ye-1)||X(He,Ye-1)),Pe===Le?Ye>ot&&(Ie-=We?3:5):ae?Ie+=We?2:0:Ie+=We?0:1,Ye+1===Ze&&(Ie-=We?3:5),Ie}function Fe(ge,ve,Pe,Le,Me,He,Ye){return Be(ge,ve,Pe,Le,Me,He,!0,Ye)}e.fuzzyScoreGracefulAggressive=Fe;function qe(ge,ve,Pe,Le,Me,He,Ye){return Be(ge,ve,Pe,Le,Me,He,!1,Ye)}e.fuzzyScoreGraceful=qe;function Be(ge,ve,Pe,Le,Me,He,Ye,Ze){let ot=Se(ge,ve,Pe,Le,Me,He,Ze);if(ot&&!Ye)return ot;if(ge.length>=3){const ae=Math.min(7,ge.length-1);for(let be=Pe+1;be<ae;be++){const Ie=nt(ge,be);if(Ie){const We=Se(Ie,Ie.toLowerCase(),Pe,Le,Me,He,Ze);We&&(We[0]-=3,(!ot||We[0]>ot[0])&&(ot=We))}}}return ot}function nt(ge,ve){if(ve+1>=ge.length)return;const Pe=ge[ve],Le=ge[ve+1];if(Pe!==Le)return ge.slice(0,ve)+Le+Pe+ge.slice(ve+2)}}),define(he[123],de([0,1,39,122,15]),function(Z,e,P,_,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=e.iconStartMarker=void 0,e.iconStartMarker="$(";const C=new RegExp(`\\$\\(${P.CSSIcon.iconNameExpression}(?:${P.CSSIcon.iconModifierExpression})?\\)`,"g"),I=new RegExp(`(\\\\)?${C.source}`,"g");function k(w){return w.replace(I,(d,S)=>S?d:`\\${d}`)}e.escapeIcons=k;const m=new RegExp(`\\\\${C.source}`,"g");function E(w){return w.replace(m,d=>`\\${d}`)}e.markdownEscapeEscapedIcons=E;const i=new RegExp(`(\\s)?(\\\\)?${C.source}(\\s)?`,"g");function T(w){return w.indexOf(e.iconStartMarker)===-1?w:w.replace(i,(d,S,g,c)=>g?d:S||c||"")}e.stripIcons=T;function p(w){const d=w.indexOf(e.iconStartMarker);return d===-1?{text:w}:b(w,d)}e.parseLabelWithIcons=p;function b(w,d){const S=[];let g="";function c(u){if(u){g+=u;for(const v of u)S.push(n)}}let a=-1,l="",n=0,s,r,t=d;const o=w.length;for(c(w.substr(0,d));t<o;)s=w[t],r=w[t+1],s===e.iconStartMarker[0]&&r===e.iconStartMarker[1]?(a=t,c(l),l=e.iconStartMarker,t++):s===")"&&a!==-1?(n+=t-a+1,a=-1,l=""):a!==-1?/^[a-z0-9\-]$/i.test(s)?l+=s:(c(l),a=-1,l=""):c(s),t++;return c(l),{text:g,iconOffsets:S}}function f(w,d,S=!1){const{text:g,iconOffsets:c}=d;if(!c||c.length===0)return(0,_.matchesFuzzy)(w,g,S);const a=(0,y.ltrim)(g," "),l=g.length-a.length,n=(0,_.matchesFuzzy)(w,a,S);if(n)for(const s of n){const r=c[s.start+l]+l;s.start+=r,s.end+=r}return n}e.matchesFuzzyIconAware=f}),define(he[77],de([0,1,11,123]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeMarkdownSyntaxTokens=e.markdownStringEqual=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=e.MarkdownStringTextNewlineStyle=void 0;var y;(function(p){p[p.Paragraph=0]="Paragraph",p[p.Break=1]="Break"})(y=e.MarkdownStringTextNewlineStyle||(e.MarkdownStringTextNewlineStyle={}));class C{constructor(b="",f=!1){if(this.value=b,typeof this.value!="string")throw(0,P.illegalArgument)("value");typeof f=="boolean"?(this.isTrusted=f,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=f.isTrusted??void 0,this.supportThemeIcons=f.supportThemeIcons??!1,this.supportHtml=f.supportHtml??!1)}appendText(b,f=0){return this.value+=E(this.supportThemeIcons?(0,_.escapeIcons)(b):b).replace(/([ \t]+)/g,(w,d)=>"&nbsp;".repeat(d.length)).replace(/\>/gm,"\\>").replace(/\n/g,f===1?`\\
`:`

`),this}appendMarkdown(b){return this.value+=b,this}appendCodeblock(b,f){return this.value+="\n```",this.value+=b,this.value+=`
`,this.value+=f,this.value+="\n```\n",this}}e.MarkdownString=C;function I(p){return k(p)?!p.value:Array.isArray(p)?p.every(I):!0}e.isEmptyMarkdownString=I;function k(p){return p instanceof C?!0:p&&typeof p=="object"?typeof p.value=="string"&&(typeof p.isTrusted=="boolean"||p.isTrusted===void 0)&&(typeof p.supportThemeIcons=="boolean"||p.supportThemeIcons===void 0):!1}e.isMarkdownString=k;function m(p,b){return p===b?!0:!p||!b?!1:p.value===b.value&&p.isTrusted===b.isTrusted&&p.supportThemeIcons===b.supportThemeIcons}e.markdownStringEqual=m;function E(p){return p.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=E;function i(p){return p&&p.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=i;function T(p){const b=[],f=p.split("|").map(d=>d.trim());p=f[0];const w=f[1];if(w){const d=/height=(\d+)/.exec(w),S=/width=(\d+)/.exec(w),g=d?d[1]:"",c=S?S[1]:"",a=isFinite(parseInt(c)),l=isFinite(parseInt(g));a&&b.push(`width="${c}"`),l&&b.push(`height="${g}"`)}return{href:p,dimensions:b}}e.parseHrefAndDimensions=T}),define(he[78],de([0,1,28]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeAccents=e.normalizeNFD=e.normalizeNFC=void 0;const _=new P.LRUCache(1e4);function y(E){return m(E,"NFC",_)}e.normalizeNFC=y;const C=new P.LRUCache(1e4);function I(E){return m(E,"NFD",C)}e.normalizeNFD=I;const k=/[^\u0000-\u0080]/;function m(E,i,T){if(!E)return E;const p=T.get(E);if(p)return p;let b;return k.test(E)?b=E.normalize(i):b=E,T.set(E,b),b}e.removeAccents=function(){const E=/[\u0300-\u036f]/g;return function(i){return I(i).replace(E,"")}}()}),define(he[79],de([0,1,15]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var _;(function(y){y[y.Ignore=0]="Ignore",y[y.Info=1]="Info",y[y.Warning=2]="Warning",y[y.Error=3]="Error"})(_||(_={})),function(y){const C="error",I="warning",k="warn",m="info",E="ignore";function i(p){return p?P.equalsIgnoreCase(C,p)?y.Error:P.equalsIgnoreCase(I,p)||P.equalsIgnoreCase(k,p)?y.Warning:P.equalsIgnoreCase(m,p)?y.Info:y.Ignore:y.Ignore}y.fromValue=i;function T(p){switch(p){case y.Error:return C;case y.Warning:return I;case y.Info:return m;default:return E}}y.toString=T}(_||(_={})),e.default=_}),define(he[12],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPromise=e.assertNever=e.NotImplementedProxy=e.withUndefinedAsNull=e.withNullAsUndefined=e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.validateConstraint=e.validateConstraints=e.areFunctions=e.isFunction=e.isEmptyObject=e.assertAllDefined=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isDefined=e.isUndefined=e.isBoolean=e.isIterable=e.isNumber=e.isObject=e.isStringArray=e.isString=e.isArray=void 0;function P(D){return Array.isArray(D)}e.isArray=P;function _(D){return typeof D=="string"}e.isString=_;function y(D){return Array.isArray(D)&&D.every(h=>_(h))}e.isStringArray=y;function C(D){return typeof D=="object"&&D!==null&&!Array.isArray(D)&&!(D instanceof RegExp)&&!(D instanceof Date)}e.isObject=C;function I(D){return typeof D=="number"&&!isNaN(D)}e.isNumber=I;function k(D){return!!D&&typeof D[Symbol.iterator]=="function"}e.isIterable=k;function m(D){return D===!0||D===!1}e.isBoolean=m;function E(D){return typeof D=="undefined"}e.isUndefined=E;function i(D){return!T(D)}e.isDefined=i;function T(D){return E(D)||D===null}e.isUndefinedOrNull=T;function p(D,h){if(!D)throw new Error(h?`Unexpected type, expected '${h}'`:"Unexpected type")}e.assertType=p;function b(D){if(T(D))throw new Error("Assertion Failed: argument is undefined or null");return D}e.assertIsDefined=b;function f(...D){const h=[];for(let A=0;A<D.length;A++){const N=D[A];if(T(N))throw new Error(`Assertion Failed: argument at index ${A} is undefined or null`);h.push(N)}return h}e.assertAllDefined=f;const w=Object.prototype.hasOwnProperty;function d(D){if(!C(D))return!1;for(let h in D)if(w.call(D,h))return!1;return!0}e.isEmptyObject=d;function S(D){return typeof D=="function"}e.isFunction=S;function g(...D){return D.length>0&&D.every(S)}e.areFunctions=g;function c(D,h){const A=Math.min(D.length,h.length);for(let N=0;N<A;N++)a(D[N],h[N])}e.validateConstraints=c;function a(D,h){if(_(h)){if(typeof D!==h)throw new Error(`argument does not match constraint: typeof ${h}`)}else if(S(h)){try{if(D instanceof h)return}catch{}if(!T(D)&&D.constructor===h||h.length===1&&h.call(void 0,D)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=a;function l(D){let h=[],A=Object.getPrototypeOf(D);for(;Object.prototype!==A;)h=h.concat(Object.getOwnPropertyNames(A)),A=Object.getPrototypeOf(A);return h}e.getAllPropertyNames=l;function n(D){const h=[];for(const A of l(D))typeof D[A]=="function"&&h.push(A);return h}e.getAllMethodNames=n;function s(D,h){const A=$=>function(){const K=Array.prototype.slice.call(arguments,0);return h($,K)};let N={};for(const $ of D)N[$]=A($);return N}e.createProxyObject=s;function r(D){return D===null?void 0:D}e.withNullAsUndefined=r;function t(D){return typeof D=="undefined"?null:D}e.withUndefinedAsNull=t;function o(D){return class{constructor(){return new Proxy({},{get(h,A){if(h[A])return h[A];throw new Error(`Not Implemented: ${D}->${String(A)}`)}})}}}e.NotImplementedProxy=o;function u(D,h="Unreachable"){throw new Error(h)}e.assertNever=u;function v(D){return!!D&&typeof D.then=="function"&&typeof D.catch=="function"}e.isPromise=v}),define(he[29],de([0,1,3,4,15,12]),function(Z,e,P,_,y,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseLineAndColumnAware=e.indexOfPath=e.getDriveLetter=e.hasDriveLetter=e.isRootOrDriveLetter=e.sanitizeFilePath=e.isWindowsDriveLetter=e.isEqualOrParent=e.isEqual=e.isValidBasename=e.isUNC=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function I(r){return r===47||r===92}e.isPathSeparator=I;function k(r){return r.replace(/[\\/]/g,P.posix.sep)}e.toSlashes=k;function m(r){return r.indexOf("/")===-1&&(r=k(r)),/^[a-zA-Z]:(\/|$)/.test(r)&&(r="/"+r),r}e.toPosixPath=m;function E(r,t=P.posix.sep){if(!r)return"";const o=r.length,u=r.charCodeAt(0);if(I(u)){if(I(r.charCodeAt(1))&&!I(r.charCodeAt(2))){let D=3;const h=D;for(;D<o&&!I(r.charCodeAt(D));D++);if(h!==D&&!I(r.charCodeAt(D+1))){for(D+=1;D<o;D++)if(I(r.charCodeAt(D)))return r.slice(0,D+1).replace(/[\\/]/g,t)}}return t}else if(S(u)&&r.charCodeAt(1)===58)return I(r.charCodeAt(2))?r.slice(0,2)+t:r.slice(0,2);let v=r.indexOf("://");if(v!==-1){for(v+=3;v<o;v++)if(I(r.charCodeAt(v)))return r.slice(0,v+1)}return""}e.getRoot=E;function i(r){if(!_.isWindows||!r||r.length<5)return!1;let t=r.charCodeAt(0);if(t!==92||(t=r.charCodeAt(1),t!==92))return!1;let o=2;const u=o;for(;o<r.length&&(t=r.charCodeAt(o),t!==92);o++);return!(u===o||(t=r.charCodeAt(o+1),isNaN(t)||t===92))}e.isUNC=i;const T=/[\\/:\*\?"<>\|]/g,p=/[\\/]/g,b=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function f(r,t=_.isWindows){const o=t?T:p;return!(!r||r.length===0||/^\s+$/.test(r)||(o.lastIndex=0,o.test(r))||t&&b.test(r)||r==="."||r===".."||t&&r[r.length-1]==="."||t&&r.length!==r.trim().length||r.length>255)}e.isValidBasename=f;function w(r,t,o){const u=r===t;return!o||u?u:!r||!t?!1:(0,y.equalsIgnoreCase)(r,t)}e.isEqual=w;function d(r,t,o,u=P.sep){if(r===t)return!0;if(!r||!t||t.length>r.length)return!1;if(o){if(!(0,y.startsWithIgnoreCase)(r,t))return!1;if(t.length===r.length)return!0;let D=t.length;return t.charAt(t.length-1)===u&&D--,r.charAt(D)===u}return t.charAt(t.length-1)!==u&&(t+=u),r.indexOf(t)===0}e.isEqualOrParent=d;function S(r){return r>=65&&r<=90||r>=97&&r<=122}e.isWindowsDriveLetter=S;function g(r,t){return _.isWindows&&r.endsWith(":")&&(r+=P.sep),(0,P.isAbsolute)(r)||(r=(0,P.join)(t,r)),r=(0,P.normalize)(r),_.isWindows?(r=(0,y.rtrim)(r,P.sep),r.endsWith(":")&&(r+=P.sep)):(r=(0,y.rtrim)(r,P.sep),r||(r=P.sep)),r}e.sanitizeFilePath=g;function c(r){const t=(0,P.normalize)(r);return _.isWindows?r.length>3?!1:a(t)&&(r.length===2||t.charCodeAt(2)===92):t===P.posix.sep}e.isRootOrDriveLetter=c;function a(r){return _.isWindows?S(r.charCodeAt(0))&&r.charCodeAt(1)===58:!1}e.hasDriveLetter=a;function l(r){return a(r)?r[0]:void 0}e.getDriveLetter=l;function n(r,t,o){return t.length>r.length?-1:r===t?0:(o&&(r=r.toLowerCase(),t=t.toLowerCase()),r.indexOf(t))}e.indexOfPath=n;function s(r){const t=r.split(":");let o,u,v;if(t.forEach(D=>{const h=Number(D);(0,C.isNumber)(h)?u===void 0?u=h:v===void 0&&(v=h):o=o?[o,D].join(":"):D}),!o)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:o,line:u!==void 0?u:void 0,column:v!==void 0?v:u!==void 0?1:void 0}}e.parseLineAndColumnAware=s}),define(he[20],de([0,1,12]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filter=e.getCaseInsensitive=e.distinct=e.getOrDefault=e.safeStringify=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function _(w){if(!w||typeof w!="object"||w instanceof RegExp)return w;const d=Array.isArray(w)?[]:{};return Object.keys(w).forEach(S=>{w[S]&&typeof w[S]=="object"?d[S]=_(w[S]):d[S]=w[S]}),d}e.deepClone=_;function y(w){if(!w||typeof w!="object")return w;const d=[w];for(;d.length>0;){const S=d.shift();Object.freeze(S);for(const g in S)if(C.call(S,g)){const c=S[g];typeof c=="object"&&!Object.isFrozen(c)&&d.push(c)}}return w}e.deepFreeze=y;const C=Object.prototype.hasOwnProperty;function I(w,d){return k(w,d,new Set)}e.cloneAndChange=I;function k(w,d,S){if((0,P.isUndefinedOrNull)(w))return w;const g=d(w);if(typeof g!="undefined")return g;if((0,P.isArray)(w)){const c=[];for(const a of w)c.push(k(a,d,S));return c}if((0,P.isObject)(w)){if(S.has(w))throw new Error("Cannot clone recursive data-structure");S.add(w);const c={};for(let a in w)C.call(w,a)&&(c[a]=k(w[a],d,S));return S.delete(w),c}return w}function m(w,d,S=!0){return(0,P.isObject)(w)?((0,P.isObject)(d)&&Object.keys(d).forEach(g=>{g in w?S&&((0,P.isObject)(w[g])&&(0,P.isObject)(d[g])?m(w[g],d[g],S):w[g]=d[g]):w[g]=d[g]}),w):d}e.mixin=m;function E(w,d){if(w===d)return!0;if(w==null||d===null||d===void 0||typeof w!=typeof d||typeof w!="object"||Array.isArray(w)!==Array.isArray(d))return!1;let S,g;if(Array.isArray(w)){if(w.length!==d.length)return!1;for(S=0;S<w.length;S++)if(!E(w[S],d[S]))return!1}else{const c=[];for(g in w)c.push(g);c.sort();const a=[];for(g in d)a.push(g);if(a.sort(),!E(c,a))return!1;for(S=0;S<c.length;S++)if(!E(w[c[S]],d[c[S]]))return!1}return!0}e.equals=E;function i(w){const d=new Set;return JSON.stringify(w,(S,g)=>{if((0,P.isObject)(g)||Array.isArray(g)){if(d.has(g))return"[Circular]";d.add(g)}return g})}e.safeStringify=i;function T(w,d,S){const g=d(w);return typeof g=="undefined"?S:g}e.getOrDefault=T;function p(w,d){const S=Object.create(null);return!w||!d||Object.keys(d).forEach(c=>{const a=w[c],l=d[c];E(a,l)||(S[c]=l)}),S}e.distinct=p;function b(w,d){const S=d.toLowerCase(),g=Object.keys(w).find(c=>c.toLowerCase()===S);return g?w[g]:w[d]}e.getCaseInsensitive=b;function f(w,d){const S=Object.create(null);for(const g of Object.keys(w))d(g,w[g])&&(S[g]=w[g]);return S}e.filter=f}),define(he[5],de([0,1,3,4]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const y=/^\w[\w\d+.-]*$/,C=/^\//,I=/^\/\//;function k(r,t){if(!r.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${r.authority}", path: "${r.path}", query: "${r.query}", fragment: "${r.fragment}"}`);if(r.scheme&&!y.test(r.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(r.path){if(r.authority){if(!C.test(r.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(I.test(r.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function m(r,t){return!r&&!t?"file":r}function E(r,t){switch(r){case"https":case"http":case"file":t?t[0]!==T&&(t=T+t):t=T;break}return t}const i="",T="/",p=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class b{constructor(t,o,u,v,D,h=!1){typeof t=="object"?(this.scheme=t.scheme||i,this.authority=t.authority||i,this.path=t.path||i,this.query=t.query||i,this.fragment=t.fragment||i):(this.scheme=m(t,h),this.authority=o||i,this.path=E(this.scheme,u||i),this.query=v||i,this.fragment=D||i,k(this,h))}static isUri(t){return t instanceof b?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}get fsPath(){return c(this,!1)}with(t){if(!t)return this;let{scheme:o,authority:u,path:v,query:D,fragment:h}=t;return o===void 0?o=this.scheme:o===null&&(o=i),u===void 0?u=this.authority:u===null&&(u=i),v===void 0?v=this.path:v===null&&(v=i),D===void 0?D=this.query:D===null&&(D=i),h===void 0?h=this.fragment:h===null&&(h=i),o===this.scheme&&u===this.authority&&v===this.path&&D===this.query&&h===this.fragment?this:new w(o,u,v,D,h)}static parse(t,o=!1){const u=p.exec(t);return u?new w(u[2]||i,s(u[4]||i),s(u[5]||i),s(u[7]||i),s(u[9]||i),o):new w(i,i,i,i,i)}static file(t){let o=i;if(_.isWindows&&(t=t.replace(/\\/g,T)),t[0]===T&&t[1]===T){const u=t.indexOf(T,2);u===-1?(o=t.substring(2),t=T):(o=t.substring(2,u),t=t.substring(u)||T)}return new w("file",o,t,i,i)}static from(t){const o=new w(t.scheme,t.authority,t.path,t.query,t.fragment);return k(o,!0),o}static joinPath(t,...o){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let u;return _.isWindows&&t.scheme==="file"?u=b.file(P.win32.join(c(t,!0),...o)).path:u=P.posix.join(t.path,...o),t.with({path:u})}toString(t=!1){return a(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof b)return t;{const o=new w(t);return o._formatted=t.external,o._fsPath=t._sep===f?t.fsPath:null,o}}else return t}}e.URI=b;const f=_.isWindows?1:void 0;class w extends b{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=c(this,!1)),this._fsPath}toString(t=!1){return t?a(this,!0):(this._formatted||(this._formatted=a(this,!1)),this._formatted)}toJSON(){const t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=f),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t}}const d={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function S(r,t){let o,u=-1;for(let v=0;v<r.length;v++){const D=r.charCodeAt(v);if(D>=97&&D<=122||D>=65&&D<=90||D>=48&&D<=57||D===45||D===46||D===95||D===126||t&&D===47)u!==-1&&(o+=encodeURIComponent(r.substring(u,v)),u=-1),o!==void 0&&(o+=r.charAt(v));else{o===void 0&&(o=r.substr(0,v));const h=d[D];h!==void 0?(u!==-1&&(o+=encodeURIComponent(r.substring(u,v)),u=-1),o+=h):u===-1&&(u=v)}}return u!==-1&&(o+=encodeURIComponent(r.substring(u))),o!==void 0?o:r}function g(r){let t;for(let o=0;o<r.length;o++){const u=r.charCodeAt(o);u===35||u===63?(t===void 0&&(t=r.substr(0,o)),t+=d[u]):t!==void 0&&(t+=r[o])}return t!==void 0?t:r}function c(r,t){let o;return r.authority&&r.path.length>1&&r.scheme==="file"?o=`//${r.authority}${r.path}`:r.path.charCodeAt(0)===47&&(r.path.charCodeAt(1)>=65&&r.path.charCodeAt(1)<=90||r.path.charCodeAt(1)>=97&&r.path.charCodeAt(1)<=122)&&r.path.charCodeAt(2)===58?t?o=r.path.substr(1):o=r.path[1].toLowerCase()+r.path.substr(2):o=r.path,_.isWindows&&(o=o.replace(/\//g,"\\")),o}e.uriToFsPath=c;function a(r,t){const o=t?g:S;let u="",{scheme:v,authority:D,path:h,query:A,fragment:N}=r;if(v&&(u+=v,u+=":"),(D||v==="file")&&(u+=T,u+=T),D){let $=D.indexOf("@");if($!==-1){const K=D.substr(0,$);D=D.substr($+1),$=K.indexOf(":"),$===-1?u+=o(K,!1):(u+=o(K.substr(0,$),!1),u+=":",u+=o(K.substr($+1),!1)),u+="@"}D=D.toLowerCase(),$=D.indexOf(":"),$===-1?u+=o(D,!1):(u+=o(D.substr(0,$),!1),u+=D.substr($))}if(h){if(h.length>=3&&h.charCodeAt(0)===47&&h.charCodeAt(2)===58){const $=h.charCodeAt(1);$>=65&&$<=90&&(h=`/${String.fromCharCode($+32)}:${h.substr(3)}`)}else if(h.length>=2&&h.charCodeAt(1)===58){const $=h.charCodeAt(0);$>=65&&$<=90&&(h=`${String.fromCharCode($+32)}:${h.substr(2)}`)}u+=o(h,!0)}return A&&(u+="?",u+=o(A,!1)),N&&(u+="#",u+=t?N:S(N,!1)),u}function l(r){try{return decodeURIComponent(r)}catch{return r.length>3?r.substr(0,3)+l(r.substr(3)):r}}const n=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function s(r){return r.match(n)?r.replace(n,t=>l(t)):r}}),define(he[80],de([0,1,5]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.log=e.getFirstFrame=e.parse=e.isRemoteConsoleLog=void 0;function _(E){const i=E;return i&&typeof i.type=="string"&&typeof i.severity=="string"}e.isRemoteConsoleLog=_;function y(E){const i=[];let T;try{const p=JSON.parse(E.arguments),b=p[p.length-1];b&&b.__$stack&&(p.pop(),T=b.__$stack),i.push(...p)}catch(p){i.push("Unable to log remote console arguments",E.arguments)}return{args:i,stack:T}}e.parse=y;function C(E){if(typeof E!="string")return C(y(E).stack);const i=E;if(i){const T=I(i),p=/at [^\/]*((?:(?:[a-zA-Z]+:)|(?:[\/])|(?:\\\\))(?:.+)):(\d+):(\d+)/.exec(T||"");if(p&&p.length===4)return{uri:P.URI.file(p[1]),line:Number(p[2]),column:Number(p[3])}}}e.getFirstFrame=C;function I(E){if(!E)return E;const i=E.indexOf(`
`);return i===-1?E:E.substring(0,i)}function k(E,i){const{args:T,stack:p}=y(E),b=typeof T[0]=="string"&&T.length===1;let f=I(p);f&&(f=`(${f.trim()})`);let w=[];if(typeof T[0]=="string"?f&&b?w=[`%c[${i}] %c${T[0]} %c${f}`,m("blue"),m(""),m("grey")]:w=[`%c[${i}] %c${T[0]}`,m("blue"),m(""),...T.slice(1)]:w=[`%c[${i}]%`,m("blue"),...T],f&&!b&&w.push(f),typeof console[E.severity]!="function")throw new Error("Unknown console method");console[E.severity].apply(console,w)}e.log=k;function m(E){return`color: ${E}`}}),define(he[50],de([0,1,17,15,5]),function(Z,e,P,_,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.MarshalledId=e.parse=e.stringify=void 0;function C(i){return JSON.stringify(i,m)}e.stringify=C;function I(i){let T=JSON.parse(i);return T=E(T),T}e.parse=I;var k;(function(i){i[i.Uri=1]="Uri",i[i.Regexp=2]="Regexp",i[i.ScmResource=3]="ScmResource",i[i.ScmResourceGroup=4]="ScmResourceGroup",i[i.ScmProvider=5]="ScmProvider",i[i.CommentController=6]="CommentController",i[i.CommentThread=7]="CommentThread",i[i.CommentThreadReply=8]="CommentThreadReply",i[i.CommentNode=9]="CommentNode",i[i.CommentThreadNode=10]="CommentThreadNode",i[i.TimelineActionContext=11]="TimelineActionContext",i[i.NotebookCellActionContext=12]="NotebookCellActionContext",i[i.TestItemContext=13]="TestItemContext"})(k=e.MarshalledId||(e.MarshalledId={}));function m(i,T){return T instanceof RegExp?{$mid:2,source:T.source,flags:(0,_.regExpFlags)(T)}:T}function E(i,T=0){if(!i||T>200)return i;if(typeof i=="object"){switch(i.$mid){case 1:return y.URI.revive(i);case 2:return new RegExp(i.source,i.flags)}if(i instanceof P.VSBuffer||i instanceof Uint8Array)return i;if(Array.isArray(i))for(let p=0;p<i.length;++p)i[p]=E(i[p],T+1);else for(const p in i)Object.hasOwnProperty.call(i,p)&&(i[p]=E(i[p],T+1))}return i}e.revive=E}),define(he[8],de([0,1,4,5]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.Schemas=void 0;var y;(function(k){k.inMemory="inmemory",k.vscode="vscode",k.internal="private",k.walkThrough="walkThrough",k.walkThroughSnippet="walkThroughSnippet",k.http="http",k.https="https",k.file="file",k.mailto="mailto",k.untitled="untitled",k.data="data",k.command="command",k.vscodeRemote="vscode-remote",k.vscodeRemoteResource="vscode-remote-resource",k.userData="vscode-userdata",k.vscodeCustomEditor="vscode-custom-editor",k.vscodeNotebook="vscode-notebook",k.vscodeNotebookCell="vscode-notebook-cell",k.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",k.vscodeNotebookCellOutput="vscode-notebook-cell-output",k.vscodeInteractive="vscode-interactive",k.vscodeInteractiveInput="vscode-interactive-input",k.vscodeSettings="vscode-settings",k.vscodeWorkspaceTrust="vscode-workspace-trust",k.vscodeTerminal="vscode-terminal",k.webviewPanel="webview-panel",k.vscodeWebview="vscode-webview",k.extension="extension",k.vscodeFileResource="vscode-file",k.tmp="tmp"})(y=e.Schemas||(e.Schemas={}));class C{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(m){this._preferredWebSchema=m}setDelegate(m){this._delegate=m}set(m,E,i){this._hosts[m]=E,this._ports[m]=i}setConnectionToken(m,E){this._connectionTokens[m]=E}rewrite(m){if(this._delegate)return this._delegate(m);const E=m.authority;let i=this._hosts[E];i&&i.indexOf(":")!==-1&&(i=`[${i}]`);const T=this._ports[E],p=this._connectionTokens[E];let b=`path=${encodeURIComponent(m.path)}`;return typeof p=="string"&&(b+=`&tkn=${encodeURIComponent(p)}`),_.URI.from({scheme:P.isWeb?this._preferredWebSchema:y.vscodeRemoteResource,authority:`${i}:${T}`,path:"/vscode-remote-resource",query:b})}}e.RemoteAuthorities=new C;class I{asBrowserUri(m,E){const i=this.toUri(m,E);return i.scheme===y.vscodeRemote?e.RemoteAuthorities.rewrite(i):i.scheme===y.file&&(P.isNative||typeof P.globals.importScripts=="function"&&P.globals.origin===`${y.vscodeFileResource}://${I.FALLBACK_AUTHORITY}`)?i.with({scheme:y.vscodeFileResource,authority:i.authority||I.FALLBACK_AUTHORITY,query:null,fragment:null}):i}asFileUri(m,E){const i=this.toUri(m,E);return i.scheme===y.vscodeFileResource?i.with({scheme:y.file,authority:i.authority!==I.FALLBACK_AUTHORITY?i.authority:null,query:null,fragment:null}):i}toUri(m,E){return _.URI.isUri(m)?m:_.URI.parse(E.toUrl(m))}}I.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new I}),define(he[21],de([0,1,29,8,3,4,15,5]),function(Z,e,P,_,y,C,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toLocalResource=e.DataUri=e.distinctParents=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function m(b){return(0,k.uriToFsPath)(b,!0)}e.originalFSPath=m;class E{constructor(f){this._ignorePathCasing=f}compare(f,w,d=!1){return f===w?0:(0,I.compare)(this.getComparisonKey(f,d),this.getComparisonKey(w,d))}isEqual(f,w,d=!1){return f===w?!0:!f||!w?!1:this.getComparisonKey(f,d)===this.getComparisonKey(w,d)}getComparisonKey(f,w=!1){return f.with({path:this._ignorePathCasing(f)?f.path.toLowerCase():void 0,fragment:w?null:void 0}).toString()}ignorePathCasing(f){return this._ignorePathCasing(f)}isEqualOrParent(f,w,d=!1){if(f.scheme===w.scheme){if(f.scheme===_.Schemas.file)return P.isEqualOrParent(m(f),m(w),this._ignorePathCasing(f))&&f.query===w.query&&(d||f.fragment===w.fragment);if((0,e.isEqualAuthority)(f.authority,w.authority))return P.isEqualOrParent(f.path,w.path,this._ignorePathCasing(f),"/")&&f.query===w.query&&(d||f.fragment===w.fragment)}return!1}joinPath(f,...w){return k.URI.joinPath(f,...w)}basenameOrAuthority(f){return(0,e.basename)(f)||f.authority}basename(f){return y.posix.basename(f.path)}extname(f){return y.posix.extname(f.path)}dirname(f){if(f.path.length===0)return f;let w;return f.scheme===_.Schemas.file?w=k.URI.file(y.dirname(m(f))).path:(w=y.posix.dirname(f.path),f.authority&&w.length&&w.charCodeAt(0)!==47&&(console.error(`dirname("${f.toString})) resulted in a relative path`),w="/")),f.with({path:w})}normalizePath(f){if(!f.path.length)return f;let w;return f.scheme===_.Schemas.file?w=k.URI.file(y.normalize(m(f))).path:w=y.posix.normalize(f.path),f.with({path:w})}relativePath(f,w){if(f.scheme!==w.scheme||!(0,e.isEqualAuthority)(f.authority,w.authority))return;if(f.scheme===_.Schemas.file){const g=y.relative(m(f),m(w));return C.isWindows?P.toSlashes(g):g}let d=f.path||"/",S=w.path||"/";if(this._ignorePathCasing(f)){let g=0;for(const c=Math.min(d.length,S.length);g<c&&!(d.charCodeAt(g)!==S.charCodeAt(g)&&d.charAt(g).toLowerCase()!==S.charAt(g).toLowerCase());g++);d=S.substr(0,g)+d.substr(g)}return y.posix.relative(d,S)}resolvePath(f,w){if(f.scheme===_.Schemas.file){const d=k.URI.file(y.resolve(m(f),w));return f.with({authority:d.authority,path:d.path})}return w=P.toPosixPath(w),f.with({path:y.posix.resolve(f.path,w)})}isAbsolutePath(f){return!!f.path&&f.path[0]==="/"}isEqualAuthority(f,w){return f===w||(0,I.equalsIgnoreCase)(f,w)}hasTrailingPathSeparator(f,w=y.sep){if(f.scheme===_.Schemas.file){const d=m(f);return d.length>P.getRoot(d).length&&d[d.length-1]===w}else{const d=f.path;return d.length>1&&d.charCodeAt(d.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(f.fsPath)}}removeTrailingPathSeparator(f,w=y.sep){return(0,e.hasTrailingPathSeparator)(f,w)?f.with({path:f.path.substr(0,f.path.length-1)}):f}addTrailingPathSeparator(f,w=y.sep){let d=!1;if(f.scheme===_.Schemas.file){const S=m(f);d=S!==void 0&&S.length===P.getRoot(S).length&&S[S.length-1]===w}else{w="/";const S=f.path;d=S.length===1&&S.charCodeAt(S.length-1)===47}return!d&&!(0,e.hasTrailingPathSeparator)(f,w)?f.with({path:f.path+"/"}):f}}e.ExtUri=E,e.extUri=new E(()=>!1),e.extUriBiasedIgnorePathCase=new E(b=>b.scheme===_.Schemas.file?!C.isLinux:!0),e.extUriIgnorePathCase=new E(b=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);function i(b,f){const w=[];for(let d=0;d<b.length;d++){const S=f(b[d]);b.some((g,c)=>c===d?!1:(0,e.isEqualOrParent)(S,f(g)))||w.push(b[d])}return w}e.distinctParents=i;var T;(function(b){b.META_DATA_LABEL="label",b.META_DATA_DESCRIPTION="description",b.META_DATA_SIZE="size",b.META_DATA_MIME="mime";function f(w){const d=new Map;w.path.substring(w.path.indexOf(";")+1,w.path.lastIndexOf(";")).split(";").forEach(c=>{const[a,l]=c.split(":");a&&l&&d.set(a,l)});const g=w.path.substring(0,w.path.indexOf(";"));return g&&d.set(b.META_DATA_MIME,g),d}b.parseMetaData=f})(T=e.DataUri||(e.DataUri={}));function p(b,f,w){if(f){let d=b.path;return d&&d[0]!==y.posix.sep&&(d=y.posix.sep+d),b.with({scheme:w,authority:f,path:d})}return b.with({scheme:w})}e.toLocalResource=p}),define(he[13],de([0,1,23,11,6,2,21]),function(Z,e,P,_,y,C,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Promises=e.DeferredPromise=e.IntervalCounter=e.TaskSequentializer=e.retry=e.IdleValue=e.runWhenIdle=e.ThrottledWorker=e.RunOnceWorker=e.ProcessTimeRunOnceScheduler=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.ResourceQueue=e.Queue=e.Limiter=e.firstParallel=e.first=e.sequence=e.disposableTimeout=e.timeout=e.AutoOpenBarrier=e.Barrier=e.ThrottledDelayer=e.Delayer=e.SequencerByKey=e.Sequencer=e.Throttler=e.asPromise=e.raceTimeout=e.raceCancellablePromises=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function k(H){return!!H&&typeof H.then=="function"}e.isThenable=k;function m(H){const q=new P.CancellationTokenSource,W=H(q.token),U=new Promise((x,z)=>{const te=q.token.onCancellationRequested(()=>{te.dispose(),q.dispose(),z((0,_.canceled)())});Promise.resolve(W).then(X=>{te.dispose(),q.dispose(),x(X)},X=>{te.dispose(),q.dispose(),z(X)})});return new class{cancel(){q.cancel()}then(x,z){return U.then(x,z)}catch(x){return this.then(void 0,x)}finally(x){return U.finally(x)}}}e.createCancelablePromise=m;function E(H,q,W){return Promise.race([H,new Promise(U=>q.onCancellationRequested(()=>U(W)))])}e.raceCancellation=E;async function i(H){let q=-1;const W=H.map((x,z)=>x.then(te=>(q=z,te))),U=await Promise.race(W);return H.forEach((x,z)=>{z!==q&&x.cancel()}),U}e.raceCancellablePromises=i;function T(H,q,W){let U;const x=setTimeout(()=>{U?.(void 0),W?.()},q);return Promise.race([H.finally(()=>clearTimeout(x)),new Promise(z=>U=z)])}e.raceTimeout=T;function p(H){return new Promise((q,W)=>{const U=H();k(U)?U.then(q,W):q(U)})}e.asPromise=p;class b{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(q){if(this.activePromise){if(this.queuedPromiseFactory=q,!this.queuedPromise){const W=()=>{this.queuedPromise=null;const U=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,U};this.queuedPromise=new Promise(U=>{this.activePromise.then(W,W).then(U)})}return new Promise((W,U)=>{this.queuedPromise.then(W,U)})}return this.activePromise=q(),new Promise((W,U)=>{this.activePromise.then(x=>{this.activePromise=null,W(x)},x=>{this.activePromise=null,U(x)})})}}e.Throttler=b;class f{constructor(){this.current=Promise.resolve(null)}queue(q){return this.current=this.current.then(()=>q(),()=>q())}}e.Sequencer=f;class w{constructor(){this.promiseMap=new Map}queue(q,W){const x=(this.promiseMap.get(q)??Promise.resolve()).catch(()=>{}).then(W).finally(()=>{this.promiseMap.get(q)===x&&this.promiseMap.delete(q)});return this.promiseMap.set(q,x),x}}e.SequencerByKey=w;class d{constructor(q){this.defaultDelay=q,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(q,W=this.defaultDelay){return this.task=q,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((U,x)=>{this.doResolve=U,this.doReject=x}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const U=this.task;return this.task=null,U()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},W),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject((0,_.canceled)()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}e.Delayer=d;class S{constructor(q){this.delayer=new d(q),this.throttler=new b}trigger(q,W){return this.delayer.trigger(()=>this.throttler.queue(q),W)}isTriggered(){return this.delayer.isTriggered()}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=S;class g{constructor(){this._isOpen=!1,this._promise=new Promise((q,W)=>{this._completePromise=q})}isOpen(){return this._isOpen}open(){this._isOpen=!0,this._completePromise(!0)}wait(){return this._promise}}e.Barrier=g;class c extends g{constructor(q){super();this._timeout=setTimeout(()=>this.open(),q)}open(){clearTimeout(this._timeout),super.open()}}e.AutoOpenBarrier=c;function a(H,q){return q?new Promise((W,U)=>{const x=setTimeout(()=>{z.dispose(),W()},H),z=q.onCancellationRequested(()=>{clearTimeout(x),z.dispose(),U((0,_.canceled)())})}):m(W=>a(H,W))}e.timeout=a;function l(H,q=0){const W=setTimeout(H,q);return(0,C.toDisposable)(()=>clearTimeout(W))}e.disposableTimeout=l;function n(H){const q=[];let W=0;const U=H.length;function x(){return W<U?H[W++]():null}function z(te){te!=null&&q.push(te);const X=x();return X?X.then(z):Promise.resolve(q)}return Promise.resolve(null).then(z)}e.sequence=n;function s(H,q=U=>!!U,W=null){let U=0;const x=H.length,z=()=>{if(U>=x)return Promise.resolve(W);const te=H[U++];return Promise.resolve(te()).then(me=>q(me)?Promise.resolve(me):z())};return z()}e.first=s;function r(H,q=U=>!!U,W=null){if(H.length===0)return Promise.resolve(W);let U=H.length;const x=()=>{U=-1;for(const z of H)z.cancel?.()};return new Promise((z,te)=>{for(const X of H)X.then(me=>{--U>=0&&q(me)?(x(),z(me)):U===0&&z(W)}).catch(me=>{--U>=0&&(x(),te(me))})})}e.firstParallel=r;class t{constructor(q){this._size=0,this.maxDegreeOfParalellism=q,this.outstandingPromises=[],this.runningPromises=0,this._onFinished=new y.Emitter}get onFinished(){return this._onFinished.event}get size(){return this._size}queue(q){return this._size++,new Promise((W,U)=>{this.outstandingPromises.push({factory:q,c:W,e:U}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){const q=this.outstandingPromises.shift();this.runningPromises++;const W=q.factory();W.then(q.c,q.e),W.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this._size--,this.runningPromises--,this.outstandingPromises.length>0?this.consume():this._onFinished.fire()}dispose(){this._onFinished.dispose()}}e.Limiter=t;class o extends t{constructor(){super(1)}}e.Queue=o;class u{constructor(){this.queues=new Map}queueFor(q,W=I.extUri){const U=W.getComparisonKey(q);let x=this.queues.get(U);return x||(x=new o,y.Event.once(x.onFinished)(()=>{x?.dispose(),this.queues.delete(U)}),this.queues.set(U,x)),x}dispose(){this.queues.forEach(q=>q.dispose()),this.queues.clear()}}e.ResourceQueue=u;class v{constructor(q,W){this._token=-1,typeof q=="function"&&typeof W=="number"&&this.setIfNotSet(q,W)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(q,W){this.cancel(),this._token=setTimeout(()=>{this._token=-1,q()},W)}setIfNotSet(q,W){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,q()},W))}}e.TimeoutTimer=v;class D{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(q,W){this.cancel(),this._token=setInterval(()=>{q()},W)}}e.IntervalTimer=D;class h{constructor(q,W){this.timeoutToken=-1,this.runner=q,this.timeout=W,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(q=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,q)}get delay(){return this.timeout}set delay(q){this.timeout=q}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=h;class A{constructor(q,W){W%1e3!=0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${W}ms is not a multiple of 1000ms.`),this.runner=q,this.timeout=W,this.counter=0,this.intervalToken=-1,this.intervalHandler=this.onInterval.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearInterval(this.intervalToken),this.intervalToken=-1)}schedule(q=this.timeout){q%1e3!=0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${q}ms is not a multiple of 1000ms.`),this.cancel(),this.counter=Math.ceil(q/1e3),this.intervalToken=setInterval(this.intervalHandler,1e3)}isScheduled(){return this.intervalToken!==-1}onInterval(){this.counter--,!(this.counter>0)&&(clearInterval(this.intervalToken),this.intervalToken=-1,this.runner&&this.runner())}}e.ProcessTimeRunOnceScheduler=A;class N extends h{constructor(q,W){super(q,W);this.units=[]}work(q){this.units.push(q),this.isScheduled()||this.schedule()}doRun(){const q=this.units;this.units=[],this.runner&&this.runner(q)}dispose(){this.units=[],super.dispose()}}e.RunOnceWorker=N;class $ extends C.Disposable{constructor(q,W,U,x){super();this.maxWorkChunkSize=q,this.maxPendingWork=W,this.throttleDelay=U,this.handler=x,this.pendingWork=[],this.throttler=this._register(new C.MutableDisposable),this.disposed=!1}get pending(){return this.pendingWork.length}work(q){if(this.disposed)return!1;if(typeof this.maxPendingWork=="number"){if(this.throttler.value){if(this.pending+q.length>this.maxPendingWork)return!1}else if(this.pending+q.length-this.maxWorkChunkSize>this.maxPendingWork)return!1}return this.pendingWork.push(...q),this.throttler.value||this.doWork(),!0}doWork(){this.handler(this.pendingWork.splice(0,this.maxWorkChunkSize)),this.pendingWork.length>0&&(this.throttler.value=new h(()=>{this.throttler.clear(),this.doWork()},this.throttleDelay),this.throttler.value.schedule())}dispose(){super.dispose(),this.disposed=!0}}e.ThrottledWorker=$,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=H=>{const q=setTimeout(()=>{const U=Date.now()+15;H(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,U-Date.now())}}))});let W=!1;return{dispose(){W||(W=!0,clearTimeout(q))}}}:e.runWhenIdle=(H,q)=>{const W=requestIdleCallback(H,typeof q=="number"?{timeout:q}:void 0);let U=!1;return{dispose(){U||(U=!0,cancelIdleCallback(W))}}}}();class K{constructor(q){this._didRun=!1,this._executor=()=>{try{this._value=q()}catch(W){this._error=W}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=K;async function j(H,q,W){let U;for(let x=0;x<W;x++)try{return await H()}catch(z){U=z,await a(q)}throw U}e.retry=j;class F{hasPending(q){return this._pending?typeof q=="number"?this._pending.taskId===q:!!this._pending:!1}get pending(){return this._pending?this._pending.promise:void 0}cancelPending(){this._pending?.cancel()}setPending(q,W,U){return this._pending={taskId:q,cancel:()=>U?.(),promise:W},W.then(()=>this.donePending(q),()=>this.donePending(q)),W}donePending(q){this._pending&&q===this._pending.taskId&&(this._pending=void 0,this.triggerNext())}triggerNext(){if(this._next){const q=this._next;this._next=void 0,q.run().then(q.promiseResolve,q.promiseReject)}}setNext(q){if(this._next)this._next.run=q;else{let W,U;const x=new Promise((z,te)=>{W=z,U=te});this._next={run:q,promise:x,promiseResolve:W,promiseReject:U}}return this._next.promise}}e.TaskSequentializer=F;class G{constructor(q){this.interval=q,this.lastIncrementTime=0,this.value=0}increment(){const q=Date.now();return q-this.lastIncrementTime>this.interval&&(this.lastIncrementTime=q,this.value=0),this.value++,this.value}}e.IntervalCounter=G;class R{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((q,W)=>{this.completeCallback=q,this.errorCallback=W})}get isRejected(){return this.rejected}get isResolved(){return this.resolved}get isSettled(){return this.rejected||this.resolved}complete(q){return new Promise(W=>{this.completeCallback(q),this.resolved=!0,W()})}error(q){return new Promise(W=>{this.errorCallback(q),this.rejected=!0,W()})}cancel(){new Promise(q=>{this.errorCallback((0,_.canceled)()),this.rejected=!0,q()})}}e.DeferredPromise=R;var B;(function(H){async function q(U){let x;const z=await Promise.all(U.map(te=>te.then(X=>X,X=>{x||(x=X)})));if(typeof x!="undefined")throw x;return z}H.settled=q;function W(U){return new Promise(async(x,z)=>{try{await U(x,z)}catch(te){z(te)}})}H.withAsyncBody=W})(B=e.Promises||(e.Promises={}))}),define(he[55],de([0,1,13,29,28,3,15]),function(Z,e,P,_,y,C,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPathTerms=e.getBasenameTerms=e.isRelativePattern=e.hasSiblingFn=e.hasSiblingPromiseFn=e.parse=e.match=e.splitGlobAware=e.getEmptyExpression=void 0;function k(){return Object.create(null)}e.getEmptyExpression=k;const m="**",E="/",i="[/\\\\]",T="[^/\\\\]",p=/\//g;function b(U){switch(U){case 0:return"";case 1:return`${T}*?`;default:return`(?:${i}|${T}+${i}|${i}${T}+)*?`}}function f(U,x){if(!U)return[];const z=[];let te=!1,X=!1,me="";for(const pe of U){switch(pe){case x:if(!te&&!X){z.push(me),me="";continue}break;case"{":te=!0;break;case"}":te=!1;break;case"[":X=!0;break;case"]":X=!1;break}me+=pe}return me&&z.push(me),z}e.splitGlobAware=f;function w(U){if(!U)return"";let x="";const z=f(U,E);if(z.every(te=>te===m))x=".*";else{let te=!1;z.forEach((X,me)=>{if(X===m){te||(x+=b(2),te=!0);return}let pe=!1,se="",ne=!1,Se="";for(const ye of X){if(ye!=="}"&&pe){se+=ye;continue}if(ne&&(ye!=="]"||!Se)){let Ae;ye==="-"?Ae=ye:(ye==="^"||ye==="!")&&!Se?Ae="^":ye===E?Ae="":Ae=I.escapeRegExpCharacters(ye),Se+=Ae;continue}switch(ye){case"{":pe=!0;continue;case"[":ne=!0;continue;case"}":x+=`(?:${f(se,",").map(qe=>w(qe)).join("|")})`,pe=!1,se="";break;case"]":x+="["+Se+"]",ne=!1,Se="";break;case"?":x+=T;continue;case"*":x+=b(1);continue;default:x+=I.escapeRegExpCharacters(ye)}}me<z.length-1&&(z[me+1]!==m||me+2<z.length)&&(x+=i),te=!1})}return x}const d=/^\*\*\/\*\.[\w\.-]+$/,S=/^\*\*\/([\w\.-]+)\/?$/,g=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,c=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,a=/^\*\*((\/[\w\.-]+)+)\/?$/,l=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,n=new y.LRUCache(1e4),s=function(){return!1},r=function(){return null};function t(U,x){if(!U)return r;let z;typeof U!="string"?z=U.pattern:z=U,z=z.trim();const te=`${z}_${!!x.trimForExclusions}`;let X=n.get(te);if(X)return o(X,U);let me;if(d.test(z)){const pe=z.substr(4);X=function(se,ne){return typeof se=="string"&&se.endsWith(pe)?z:null}}else(me=S.exec(u(z,x)))?X=v(me[1],z):(x.trimForExclusions?c:g).test(z)?X=D(z,x):(me=a.exec(u(z,x)))?X=h(me[1].substr(1),z,!0):(me=l.exec(u(z,x)))?X=h(me[1],z,!1):X=A(z);return n.set(te,X),o(X,U)}function o(U,x){return typeof x=="string"?U:function(z,te){return _.isEqualOrParent(z,x.base)?U(C.relative(x.base,z),te):null}}function u(U,x){return x.trimForExclusions&&U.endsWith("/**")?U.substr(0,U.length-2):U}function v(U,x){const z=`/${U}`,te=`\\${U}`,X=function(pe,se){return typeof pe!="string"?null:se?se===U?x:null:pe===U||pe.endsWith(z)||pe.endsWith(te)?x:null},me=[U];return X.basenames=me,X.patterns=[x],X.allBasenames=me,X}function D(U,x){const z=W(U.slice(1,-1).split(",").map(se=>t(se,x)).filter(se=>se!==r),U),te=z.length;if(!te)return r;if(te===1)return z[0];const X=function(se,ne){for(let Se=0,ye=z.length;Se<ye;Se++)if(z[Se](se,ne))return U;return null},me=z.find(se=>!!se.allBasenames);me&&(X.allBasenames=me.allBasenames);const pe=z.reduce((se,ne)=>ne.allPaths?se.concat(ne.allPaths):se,[]);return pe.length&&(X.allPaths=pe),X}function h(U,x,z){const te=C.sep===C.posix.sep,X=te?U:U.replace(p,C.sep),me=C.sep+X,pe=C.posix.sep+U,se=z?function(ne,Se){return typeof ne=="string"&&(ne===X||ne.endsWith(me)||!te&&(ne===U||ne.endsWith(pe)))?x:null}:function(ne,Se){return typeof ne=="string"&&(ne===X||!te&&ne===U)?x:null};return se.allPaths=[(z?"*/":"./")+U],se}function A(U){try{const x=new RegExp(`^${w(U)}$`);return function(z){return x.lastIndex=0,typeof z=="string"&&x.test(z)?U:null}}catch(x){return r}}function N(U,x,z){return!U||typeof x!="string"?!1:$(U)(x,void 0,z)}e.match=N;function $(U,x={}){if(!U)return s;if(typeof U=="string"||G(U)){const z=t(U,x);if(z===r)return s;const te=function(X,me){return!!z(X,me)};return z.allBasenames&&(te.allBasenames=z.allBasenames),z.allPaths&&(te.allPaths=z.allPaths),te}return H(U,x)}e.parse=$;function K(U){if(!U)return;let x;return z=>(x||(x=(U()||Promise.resolve([])).then(te=>te?F(te):{})),x.then(te=>!!te[z]))}e.hasSiblingPromiseFn=K;function j(U){if(!U)return;let x;return z=>{if(!x){const te=U();x=te?F(te):{}}return!!x[z]}}e.hasSiblingFn=j;function F(U){const x={};for(const z of U)x[z]=!0;return x}function G(U){const x=U;return x&&typeof x.base=="string"&&typeof x.pattern=="string"}e.isRelativePattern=G;function R(U){return U.allBasenames||[]}e.getBasenameTerms=R;function B(U){return U.allPaths||[]}e.getPathTerms=B;function H(U,x){const z=W(Object.getOwnPropertyNames(U).map(se=>q(se,U[se],x)).filter(se=>se!==r)),te=z.length;if(!te)return r;if(!z.some(se=>!!se.requiresSiblings)){if(te===1)return z[0];const se=function(ye,Ae){for(let Fe=0,qe=z.length;Fe<qe;Fe++){const Be=z[Fe](ye,Ae);if(Be)return Be}return null},ne=z.find(ye=>!!ye.allBasenames);ne&&(se.allBasenames=ne.allBasenames);const Se=z.reduce((ye,Ae)=>Ae.allPaths?ye.concat(Ae.allPaths):ye,[]);return Se.length&&(se.allPaths=Se),se}const X=function(se,ne,Se){let ye;for(let Ae=0,Fe=z.length;Ae<Fe;Ae++){const qe=z[Ae];qe.requiresSiblings&&Se&&(ne||(ne=C.basename(se)),ye||(ye=ne.substr(0,ne.length-C.extname(se).length)));const Be=qe(se,ne,ye,Se);if(Be)return Be}return null},me=z.find(se=>!!se.allBasenames);me&&(X.allBasenames=me.allBasenames);const pe=z.reduce((se,ne)=>ne.allPaths?se.concat(ne.allPaths):se,[]);return pe.length&&(X.allPaths=pe),X}function q(U,x,z){if(x===!1)return r;const te=t(U,z);if(te===r)return r;if(typeof x=="boolean")return te;if(x){const X=x.when;if(typeof X=="string"){const me=(pe,se,ne,Se)=>{if(!Se||!te(pe,se))return null;const ye=X.replace("$(basename)",ne),Ae=Se(ye);return(0,P.isThenable)(Ae)?Ae.then(Fe=>Fe?U:null):Ae?U:null};return me.requiresSiblings=!0,me}}return te}function W(U,x){const z=U.filter(se=>!!se.basenames);if(z.length<2)return U;const te=z.reduce((se,ne)=>{const Se=ne.basenames;return Se?se.concat(Se):se},[]);let X;if(x){X=[];for(let se=0,ne=te.length;se<ne;se++)X.push(x)}else X=z.reduce((se,ne)=>{const Se=ne.patterns;return Se?se.concat(Se):se},[]);const me=function(se,ne){if(typeof se!="string")return null;if(!ne){let ye;for(ye=se.length;ye>0;ye--){const Ae=se.charCodeAt(ye-1);if(Ae===47||Ae===92)break}ne=se.substr(ye)}const Se=te.indexOf(ne);return Se!==-1?X[Se]:null};me.basenames=te,me.patterns=X,me.allBasenames=te;const pe=U.filter(se=>!se.basenames);return pe.push(me),pe}}),define(he[56],de([0,1,29,8,3,4,21,15,5]),function(Z,e,P,_,y,C,I,k,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.splitName=e.unmnemonicLabel=e.mnemonicButtonLabel=e.mnemonicMenuLabel=e.template=e.shorten=e.untildify=e.tildify=e.normalizeDriveLetter=e.getBaseLabel=e.getPathLabel=void 0;function E(t,o,u){if(typeof t=="string"&&(t=m.URI.file(t)),u){const D=u.getWorkspaceFolder(t);if(D){const h=u.getWorkspace().folders.length>1;let A;if((0,I.isEqual)(D.uri,t)?A="":A=(0,I.relativePath)(D.uri,t),h){const N=D.name?D.name:(0,I.basename)(D.uri);A=A?N+" \u2022 "+A:N}return A}}if(t.scheme!==_.Schemas.file&&t.scheme!==_.Schemas.untitled)return t.with({query:null,fragment:null}).toString(!0);if((0,P.hasDriveLetter)(t.fsPath))return(0,y.normalize)(T(t.fsPath));let v=(0,y.normalize)(t.fsPath);return!C.isWindows&&o?.userHome&&(v=b(v,o.userHome.fsPath)),v}e.getPathLabel=E;function i(t){if(!t)return;typeof t=="string"&&(t=m.URI.file(t));const o=(0,I.basename)(t)||(t.scheme===_.Schemas.file?t.fsPath:t.path);return C.isWindows&&(0,P.isRootOrDriveLetter)(o)?T(o):o}e.getBaseLabel=i;function T(t){return(0,P.hasDriveLetter)(t)?t.charAt(0).toUpperCase()+t.slice(1):t}e.normalizeDriveLetter=T;let p=Object.create(null);function b(t,o){if(C.isWindows||!t||!o)return t;let u=p.original===o?p.normalized:void 0;return u||(u=`${(0,k.rtrim)(o,y.posix.sep)}${y.posix.sep}`,p={original:o,normalized:u}),(C.isLinux?t.startsWith(u):(0,k.startsWithIgnoreCase)(t,u))&&(t=`~/${t.substr(u.length)}`),t}e.tildify=b;function f(t,o){return t.replace(/^~($|\/|\\)/,`${o}$1`)}e.untildify=f;const w="\u2026",d="\\\\",S="~";function g(t,o=y.sep){const u=new Array(t.length);let v=!1;for(let D=0;D<t.length;D++){let h=t[D];if(h===""){u[D]=`.${o}`;continue}if(!h){u[D]=h;continue}v=!0;let A="";h.indexOf(d)===0?(A=h.substr(0,h.indexOf(d)+d.length),h=h.substr(h.indexOf(d)+d.length)):h.indexOf(o)===0?(A=h.substr(0,h.indexOf(o)+o.length),h=h.substr(h.indexOf(o)+o.length)):h.indexOf(S)===0&&(A=h.substr(0,h.indexOf(S)+S.length),h=h.substr(h.indexOf(S)+S.length));const N=h.split(o);for(let $=1;v&&$<=N.length;$++)for(let K=N.length-$;v&&K>=0;K--){v=!1;let j=N.slice(K,K+$).join(o);for(let F=0;!v&&F<t.length;F++)if(F!==D&&t[F]&&t[F].indexOf(j)>-1){const G=K+$===N.length,R=K>0&&t[F].indexOf(o)>-1?o+j:j,B=t[F].endsWith(R);v=!G||B}if(!v){let F="";(N[0].endsWith(":")||A!=="")&&(K===1&&(K=0,$++,j=N[0]+o+j),K>0&&(F=N[0]+o),F=A+F),K>0&&(F=F+w+o),F=F+j,K+$<N.length&&(F=F+o+w),u[D]=F}}v&&(u[D]=h)}return u}e.shorten=g;var c;(function(t){t[t.TEXT=0]="TEXT",t[t.VARIABLE=1]="VARIABLE",t[t.SEPARATOR=2]="SEPARATOR"})(c||(c={}));function a(t,o=Object.create(null)){const u=[];let v=!1,D="";for(const h of t)if(h==="$"||v&&h==="{")D&&u.push({value:D,type:c.TEXT}),D="",v=!0;else if(h==="}"&&v){const A=o[D];if(typeof A=="string")A.length&&u.push({value:A,type:c.VARIABLE});else if(A){const N=u[u.length-1];(!N||N.type!==c.SEPARATOR)&&u.push({value:A.label,type:c.SEPARATOR})}D="",v=!1}else D+=h;return D&&!v&&u.push({value:D,type:c.TEXT}),u.filter((h,A)=>{if(h.type===c.SEPARATOR){const N=u[A-1],$=u[A+1];return[N,$].every(K=>K&&(K.type===c.VARIABLE||K.type===c.TEXT)&&K.value.length>0)}return!0}).map(h=>h.value).join("")}e.template=a;function l(t,o){return C.isMacintosh||o?t.replace(/\(&&\w\)|&&/g,"").replace(/&/g,C.isMacintosh?"&":"&&"):t.replace(/&&|&/g,u=>u==="&"?"&&":"&")}e.mnemonicMenuLabel=l;function n(t,o){return C.isMacintosh||o?t.replace(/\(&&\w\)|&&/g,""):C.isWindows?t.replace(/&&|&/g,u=>u==="&"?"&&":"&"):t.replace(/&&/g,"_")}e.mnemonicButtonLabel=n;function s(t){return t.replace(/&/g,"&&")}e.unmnemonicLabel=s;function r(t){const o=t.indexOf("/")!==-1?y.posix:y.win32,u=o.basename(t),v=o.dirname(t);return u.length?{name:u,parentPath:v}:{name:v,parentPath:""}}e.splitName=r}),define(he[57],de([0,1,55,8,3,21,15]),function(Z,e,P,_,y,C,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeMimeType=e.getExtensionForMimeType=e.getMediaMime=e.getMediaOrTextMime=e.isUnspecific=e.guessMimeTypes=e.clearTextMimes=e.registerTextMime=e.Mimes=void 0;var k;(function(t){t.text="text/plain",t.binary="application/octet-stream",t.unknown="application/unknown",t.markdown="text/markdown",t.latex="text/latex"})(k=e.Mimes||(e.Mimes={}));let m=[],E=[],i=[];function T(t,o=!1){const u=p(t);m.push(u),u.userConfigured?i.push(u):E.push(u),o&&!u.userConfigured&&m.forEach(v=>{v.mime===u.mime||v.userConfigured||(u.extension&&v.extension===u.extension&&console.warn(`Overwriting extension <<${u.extension}>> to now point to mime <<${u.mime}>>`),u.filename&&v.filename===u.filename&&console.warn(`Overwriting filename <<${u.filename}>> to now point to mime <<${u.mime}>>`),u.filepattern&&v.filepattern===u.filepattern&&console.warn(`Overwriting filepattern <<${u.filepattern}>> to now point to mime <<${u.mime}>>`),u.firstline&&v.firstline===u.firstline&&console.warn(`Overwriting firstline <<${u.firstline}>> to now point to mime <<${u.mime}>>`))})}e.registerTextMime=T;function p(t){return{id:t.id,mime:t.mime,filename:t.filename,extension:t.extension,filepattern:t.filepattern,firstline:t.firstline,userConfigured:t.userConfigured,filenameLowercase:t.filename?t.filename.toLowerCase():void 0,extensionLowercase:t.extension?t.extension.toLowerCase():void 0,filepatternLowercase:t.filepattern?(0,P.parse)(t.filepattern.toLowerCase()):void 0,filepatternOnPath:t.filepattern?t.filepattern.indexOf(y.posix.sep)>=0:!1}}function b(t){t?(m=m.filter(o=>!o.userConfigured),i=[]):(m=[],E=[],i=[])}e.clearTextMimes=b;function f(t,o){let u;if(t)switch(t.scheme){case _.Schemas.file:u=t.fsPath;break;case _.Schemas.data:u=C.DataUri.parseMetaData(t).get(C.DataUri.META_DATA_LABEL);break;default:u=t.path}if(!u)return[k.unknown];u=u.toLowerCase();const v=(0,y.basename)(u),D=w(u,v,i);if(D)return[D,k.text];const h=w(u,v,E);if(h)return[h,k.text];if(o){const A=d(o);if(A)return[A,k.text]}return[k.unknown]}e.guessMimeTypes=f;function w(t,o,u){let v=null,D=null,h=null;for(let A=u.length-1;A>=0;A--){const N=u[A];if(o===N.filenameLowercase){v=N;break}if(N.filepattern&&(!D||N.filepattern.length>D.filepattern.length)){const $=N.filepatternOnPath?t:o;N.filepatternLowercase?.($)&&(D=N)}N.extension&&(!h||N.extension.length>h.extension.length)&&o.endsWith(N.extensionLowercase)&&(h=N)}return v?v.mime:D?D.mime:h?h.mime:null}function d(t){if((0,I.startsWithUTF8BOM)(t)&&(t=t.substr(1)),t.length>0)for(let o=m.length-1;o>=0;o--){const u=m[o];if(!u.firstline)continue;const v=t.match(u.firstline);if(v&&v.length>0)return u.mime}return null}function S(t){return t?typeof t=="string"?t===k.binary||t===k.text||t===k.unknown:t.length===1&&S(t[0]):!0}e.isUnspecific=S;const g={".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".ics":"text/calendar",".js":"text/javascript",".mjs":"text/javascript",".txt":"text/plain",".xml":"text/xml"},c={".aac":"audio/x-aac",".avi":"video/x-msvideo",".bmp":"image/bmp",".flv":"video/x-flv",".gif":"image/gif",".ico":"image/x-icon",".jpe":"image/jpg",".jpeg":"image/jpg",".jpg":"image/jpg",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".mid":"audio/midi",".midi":"audio/midi",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".ogv":"video/ogg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".spx":"audio/ogg",".svg":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".wav":"audio/x-wav",".webm":"video/webm",".webp":"image/webp",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".woff":"application/font-woff"};function a(t){const o=(0,y.extname)(t),u=g[o.toLowerCase()];return u!==void 0?u:l(t)}e.getMediaOrTextMime=a;function l(t){const o=(0,y.extname)(t);return c[o.toLowerCase()]}e.getMediaMime=l;function n(t){for(const o in c)if(c[o]===t)return o}e.getExtensionForMimeType=n;const s=/^(.+)\/(.+?)(;.+)?$/;function r(t,o){const u=s.exec(t);return u?`${u[1].toLowerCase()}/${u[2].toLowerCase()}${u[3]??""}`:o?void 0:t}e.normalizeMimeType=r}),define(he[58],de([0,1,5]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformAndReviveIncomingURIs=e.transformIncomingURIs=e.transformOutgoingURIs=e.DefaultURITransformer=e.URITransformer=void 0;function _(i){return i.toJSON()}class y{constructor(T){this._uriTransformer=T}transformIncoming(T){const p=this._uriTransformer.transformIncoming(T);return p===T?T:_(P.URI.from(p))}transformOutgoing(T){const p=this._uriTransformer.transformOutgoing(T);return p===T?T:_(P.URI.from(p))}transformOutgoingURI(T){const p=this._uriTransformer.transformOutgoing(T);return p===T?T:P.URI.from(p)}transformOutgoingScheme(T){return this._uriTransformer.transformOutgoingScheme(T)}}e.URITransformer=y,e.DefaultURITransformer=new class{transformIncoming(i){return i}transformOutgoing(i){return i}transformOutgoingURI(i){return i}transformOutgoingScheme(i){return i}};function C(i,T,p){if(!i||p>200)return null;if(typeof i=="object"){if(i instanceof P.URI)return T.transformOutgoing(i);for(let b in i)if(Object.hasOwnProperty.call(i,b)){const f=C(i[b],T,p+1);f!==null&&(i[b]=f)}}return null}function I(i,T){const p=C(i,T,0);return p===null?i:p}e.transformOutgoingURIs=I;function k(i,T,p,b){if(!i||b>200)return null;if(typeof i=="object"){if(i.$mid===1)return p?P.URI.revive(T.transformIncoming(i)):T.transformIncoming(i);for(let f in i)if(Object.hasOwnProperty.call(i,f)){const w=k(i[f],T,p,b+1);w!==null&&(i[f]=w)}}return null}function m(i,T){const p=k(i,T,!1,0);return p===null?i:p}e.transformIncomingURIs=m;function E(i,T){const p=k(i,T,!0,0);return p===null?i:p}e.transformAndReviveIncomingURIs=E}),define(he[24],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=e.isUUID=void 0;const P=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function _(m){return P.test(m)}e.isUUID=_;const y=new Uint8Array(16),C=[];for(let m=0;m<256;m++)C.push(m.toString(16).padStart(2,"0"));let I;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?I=crypto.getRandomValues.bind(crypto):I=function(m){for(let E=0;E<m.length;E++)m[E]=Math.floor(Math.random()*256);return m};function k(){I(y),y[6]=y[6]&15|64,y[8]=y[8]&63|128;let m=0,E="";return E+=C[y[m++]],E+=C[y[m++]],E+=C[y[m++]],E+=C[y[m++]],E+="-",E+=C[y[m++]],E+=C[y[m++]],E+="-",E+=C[y[m++]],E+=C[y[m++]],E+="-",E+=C[y[m++]],E+=C[y[m++]],E+="-",E+=C[y[m++]],E+=C[y[m++]],E+=C[y[m++]],E+=C[y[m++]],E+=C[y[m++]],E+=C[y[m++]],E}e.generateUuid=k}),define(he[124],de([0,1,247]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecoder=void 0;class _{constructor(C="utf8"){this.stringDecoder=new P.StringDecoder(C),this.remaining=null}write(C){const I=[],k=this.remaining?this.remaining+this.stringDecoder.write(C):this.stringDecoder.write(C);if(k.length<1)return I;let m=0,E,i=m;for(;i<k.length;)if(E=k.charCodeAt(i),E===13||E===10){if(I.push(k.substring(m,i)),i++,i<k.length){const T=E;E=k.charCodeAt(i),(T===13&&E===10||T===10&&E===13)&&i++}m=i}else i++;return this.remaining=m<k.length?k.substr(m):null,I}end(){return this.remaining}}e.LineDecoder=_}),function(){"use strict";function Z(e,P,_,y){function C(f){return new Promise(w=>_.exists(f,w))}function I(f){return new Promise((w,d)=>{const S=new Date;_.utimes(f,S,S,g=>g?d(g):w())})}function k(f){return new Promise((w,d)=>_.mkdir(f,{recursive:!0},S=>S&&S.code!=="EEXIST"?d(S):w(f)))}function m(f){return new Promise((w,d)=>_.rmdir(f,{recursive:!0},S=>S&&S.code!=="ENOENT"?d(S):w()))}function E(f){return new Promise((w,d)=>_.readFile(f,"utf8",(S,g)=>S?d(S):w(g)))}function i(f,w){return new Promise((d,S)=>_.writeFile(f,w,"utf8",g=>g?S(g):d()))}function T(f){const w=P.join(f,"languagepacks.json");try{return e(w)}catch(d){}}function p(f,w){try{for(;w;){if(f[w])return w;{const d=w.lastIndexOf("-");if(d>0)w=w.substring(0,d);else return}}}catch(d){console.error("Resolving language pack configuration failed.",d)}}function b(f,w,d,S){if(S==="pseudo")return Promise.resolve({locale:S,availableLanguages:{},pseudo:!0});if(process.env.VSCODE_DEV)return Promise.resolve({locale:S,availableLanguages:{}});if(S&&(S==="en"||S==="en-us"))return Promise.resolve({locale:S,availableLanguages:{}});const g=S;y.mark("code/willGenerateNls");const c=function(a){return y.mark("code/didGenerateNls"),Promise.resolve({locale:a,availableLanguages:{}})};try{if(!f)return c(g);const a=T(w);if(!a||(S=p(a,S),!S))return c(g);const l=a[S];let n;return!l||typeof l.hash!="string"||!l.translations||typeof(n=l.translations.vscode)!="string"?c(g):C(n).then(s=>{if(!s)return c(g);const r=l.hash+"."+S,t=P.join(w,"clp",r),o=P.join(t,f),u=P.join(t,"tcf.json"),v=P.join(t,"corrupted.info"),D={locale:g,availableLanguages:{"*":S},_languagePackId:r,_translationsConfigFile:u,_cacheRoot:t,_resolvedLanguagePackCoreLocation:o,_corruptedFile:v};return C(v).then(h=>{let A;return h?A=m(t):A=Promise.resolve(void 0),A.then(()=>C(o).then(N=>N?(I(o).catch(()=>{}),y.mark("code/didGenerateNls"),D):k(o).then(()=>Promise.all([E(d),E(n)])).then($=>{const K=JSON.parse($[0]),j=JSON.parse($[1]).contents,F=Object.keys(K.bundles),G=[];for(const R of F){const B=K.bundles[R],H=Object.create(null);for(const q of B){const W=K.keys[q],U=K.messages[q],x=j[q];let z;if(x){z=[];for(let te=0;te<W.length;te++){const X=W[te],me=typeof X=="string"?X:X.key;let pe=x[me];pe===void 0&&(pe=U[te]),z.push(pe)}}else z=U;H[q]=z}G.push(i(P.join(o,R.replace(/\//g,"!")+".nls.json"),JSON.stringify(H)))}return G.push(i(u,JSON.stringify(l.translations))),Promise.all(G)}).then(()=>(y.mark("code/didGenerateNls"),D)).catch($=>(console.error("Generating translation files failed.",$),c(S)))))})})}catch(a){return console.error("Generating translation files failed.",a),c(S)}}return{getNLSConfiguration:b}}if(typeof define=="function")define(he[125],de([0,126,30,45]),function(e,P,_,y){return Z(e.__$__nodeRequire,P,_,y)});else if(typeof module=="object"&&typeof module.exports=="object"){const e=require("path"),P=require("fs"),_=require("../common/performance");module.exports=Z(require,e,P,_)}else throw new Error("Unknown context")}(),define(he[127],de([0,1,25]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMac=void 0;const _=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function y(k){const m=k.replace(/\-/g,":").toLowerCase();return!_.has(m)}function C(){return new Promise(async(k,m)=>{const E=setTimeout(()=>m("Unable to retrieve mac address (timeout after 10s)"),1e4);try{k(await I())}catch(i){m(i)}finally{clearTimeout(E)}})}e.getMac=C;function I(){return new Promise((k,m)=>{try{const E=(0,P.networkInterfaces)();for(let i in E){const T=E[i];if(T){for(const{mac:p}of T)if(y(p))return k(p)}}m("Unable to retrieve mac address (unexpected format)")}catch(E){m(E)}})}}),define(he[81],de([0,1,25,11,28,24,127]),function(Z,e,P,_,y,C,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMachineId=e.virtualMachineHint=void 0,e.virtualMachineHint=new class{_isVirtualMachineMacAddress(i){return this._virtualMachineOUIs||(this._virtualMachineOUIs=y.TernarySearchTree.forStrings(),this._virtualMachineOUIs.set("00-50-56",!0),this._virtualMachineOUIs.set("00-0C-29",!0),this._virtualMachineOUIs.set("00-05-69",!0),this._virtualMachineOUIs.set("00-03-FF",!0),this._virtualMachineOUIs.set("00-1C-42",!0),this._virtualMachineOUIs.set("00-16-3E",!0),this._virtualMachineOUIs.set("08-00-27",!0),this._virtualMachineOUIs.set("00:50:56",!0),this._virtualMachineOUIs.set("00:0C:29",!0),this._virtualMachineOUIs.set("00:05:69",!0),this._virtualMachineOUIs.set("00:03:FF",!0),this._virtualMachineOUIs.set("00:1C:42",!0),this._virtualMachineOUIs.set("00:16:3E",!0),this._virtualMachineOUIs.set("08:00:27",!0)),!!this._virtualMachineOUIs.findSubstr(i)}value(){if(this._value===void 0){let i=0,T=0;const p=(0,P.networkInterfaces)();for(let b in p){const f=p[b];if(f)for(const{mac:w,internal:d}of f)d||(T+=1,this._isVirtualMachineMacAddress(w.toUpperCase())&&(i+=1))}this._value=T>0?i/T:0}return this._value}};let k;async function m(){return k||(k=(async()=>await E()||C.generateUuid())()),k}e.getMachineId=m;async function E(){try{const i=await new Promise((p,b)=>{Z(["crypto"],p,b)}),T=await(0,I.getMac)();return i.createHash("sha256").update(T,"utf8").digest("hex")}catch(i){_.onUnexpectedError(i);return}}}),define(he[16],de([0,1,30,25,128,13,29,78,3,4,21,5,24]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Promises=e.writeFileSync=e.SymlinkSupport=e.whenDeleted=e.readdirSync=e.rimrafSync=e.RimRafMode=void 0;var b;(function(R){R[R.UNLINK=0]="UNLINK",R[R.MOVE=1]="MOVE"})(b=e.RimRafMode||(e.RimRafMode={}));async function f(R,B=b.UNLINK){if((0,I.isRootOrDriveLetter)(R))throw new Error("rimraf - will refuse to recursively delete root");return B===b.UNLINK?d(R):w(R)}async function w(R){try{const B=(0,m.join)((0,_.tmpdir)(),(0,p.generateUuid)());try{await e.Promises.rename(R,B)}catch(H){return d(R)}d(B).catch(H=>{})}catch(B){if(B.code!=="ENOENT")throw B}}async function d(R){return e.Promises.rmdir(R,{recursive:!0,maxRetries:3})}function S(R){if((0,I.isRootOrDriveLetter)(R))throw new Error("rimraf - will refuse to recursively delete root");P.rmdirSync(R,{recursive:!0})}e.rimrafSync=S;async function g(R,B){return l(await(B?c(R):(0,y.promisify)(P.readdir)(R)))}async function c(R){try{return await(0,y.promisify)(P.readdir)(R,{withFileTypes:!0})}catch(q){console.warn("[node.js fs] readdir with filetypes failed with error: ",q)}const B=[],H=await g(R);for(const q of H){let W=!1,U=!1,x=!1;try{const z=await e.Promises.lstat((0,m.join)(R,q));W=z.isFile(),U=z.isDirectory(),x=z.isSymbolicLink()}catch(z){console.warn("[node.js fs] unexpected error from lstat after readdir: ",z)}B.push({name:q,isFile:()=>W,isDirectory:()=>U,isSymbolicLink:()=>x})}return B}function a(R){return l(P.readdirSync(R))}e.readdirSync=a;function l(R){return R.map(B=>typeof B=="string"?E.isMacintosh?(0,k.normalizeNFC)(B):B:(B.name=E.isMacintosh?(0,k.normalizeNFC)(B.name):B.name,B))}async function n(R){const B=await g(R),H=[];for(const q of B)await r.existsDirectory((0,m.join)(R,q))&&H.push(q);return H}function s(R,B=1e3){return new Promise(H=>{let q=!1;const W=setInterval(()=>{q||(q=!0,P.access(R,U=>{q=!1,U&&(clearInterval(W),H(void 0))}))},B)})}e.whenDeleted=s;var r;(function(R){async function B(W){let U;try{if(U=await e.Promises.lstat(W),!U.isSymbolicLink())return{stat:U}}catch(x){}try{return{stat:await e.Promises.stat(W),symbolicLink:U?.isSymbolicLink()?{dangling:!1}:void 0}}catch(x){if(x.code==="ENOENT"&&U)return{stat:U,symbolicLink:{dangling:!0}};if(E.isWindows&&x.code==="EACCES")try{return{stat:await e.Promises.stat(await e.Promises.readlink(W)),symbolicLink:{dangling:!1}}}catch(z){if(z.code==="ENOENT"&&U)return{stat:U,symbolicLink:{dangling:!0}};throw z}throw x}}R.stat=B;async function H(W){try{const{stat:U,symbolicLink:x}=await R.stat(W);return U.isFile()&&x?.dangling!==!0}catch(U){}return!1}R.existsFile=H;async function q(W){try{const{stat:U,symbolicLink:x}=await R.stat(W);return U.isDirectory()&&x?.dangling!==!0}catch(U){}return!1}R.existsDirectory=q})(r=e.SymlinkSupport||(e.SymlinkSupport={}));const t=new C.ResourceQueue;function o(R,B,H){return t.queueFor(T.URI.file(R),i.extUriBiasedIgnorePathCase).queue(()=>{const q=h(H);return new Promise((W,U)=>v(R,B,q,x=>x?U(x):W()))})}let u=!0;function v(R,B,H,q){if(!u)return P.writeFile(R,B,{mode:H.mode,flag:H.flag},q);P.open(R,H.flag,H.mode,(W,U)=>{if(W)return q(W);P.writeFile(U,B,x=>{if(x)return P.close(U,()=>q(x));P.fdatasync(U,z=>(z&&(console.warn("[node.js fs] fdatasync is now disabled for this session because it failed: ",z),u=!1),P.close(U,te=>q(te))))})})}function D(R,B,H){const q=h(H);if(!u)return P.writeFileSync(R,B,{mode:q.mode,flag:q.flag});const W=P.openSync(R,q.flag,q.mode);try{P.writeFileSync(W,B);try{P.fdatasyncSync(W)}catch(U){console.warn("[node.js fs] fdatasyncSync is now disabled for this session because it failed: ",U),u=!1}}finally{P.closeSync(W)}}e.writeFileSync=D;function h(R){return R?{mode:typeof R.mode=="number"?R.mode:438,flag:typeof R.flag=="string"?R.flag:"w"}:{mode:438,flag:"w"}}async function A(R,B){if(R===B)return;async function H(q){try{const W=await e.Promises.lstat(q);if(W.isDirectory()||W.isSymbolicLink())return;await e.Promises.utimes(q,W.atime,new Date)}catch(W){}}try{await e.Promises.rename(R,B),await H(B)}catch(q){if(R.toLowerCase()!==B.toLowerCase()&&q.code==="EXDEV"||R.endsWith("."))await N(R,B,{preserveSymlinks:!1}),await f(R,b.MOVE),await H(B);else throw q}}async function N(R,B,H){return K(R,B,{root:{source:R,target:B},options:H,handledSourcePaths:new Set})}const $=511;async function K(R,B,H){if(H.handledSourcePaths.has(R))return;H.handledSourcePaths.add(R);const{stat:q,symbolicLink:W}=await r.stat(R);if(W){if(H.options.preserveSymlinks)try{return await G(R,B,H)}catch(U){console.warn("[node.js fs] copy of symlink failed: ",U)}if(W.dangling)return}return q.isDirectory()?j(R,B,q.mode&$,H):F(R,B,q.mode&$)}async function j(R,B,H,q){await e.Promises.mkdir(B,{recursive:!0,mode:H});const W=await g(R);for(const U of W)await K((0,m.join)(R,U),(0,m.join)(B,U),q)}async function F(R,B,H){await e.Promises.copyFile(R,B),await e.Promises.chmod(B,H)}async function G(R,B,H){let q=await e.Promises.readlink(R);(0,I.isEqualOrParent)(q,H.root.source,!E.isLinux)&&(q=(0,m.join)(H.root.target,q.substr(H.root.source.length+1))),await e.Promises.symlink(q,B)}e.Promises=new class{get access(){return(0,y.promisify)(P.access)}get stat(){return(0,y.promisify)(P.stat)}get lstat(){return(0,y.promisify)(P.lstat)}get utimes(){return(0,y.promisify)(P.utimes)}get read(){return(0,y.promisify)(P.read)}get readFile(){return(0,y.promisify)(P.readFile)}get write(){return(0,y.promisify)(P.write)}get appendFile(){return(0,y.promisify)(P.appendFile)}get fdatasync(){return(0,y.promisify)(P.fdatasync)}get truncate(){return(0,y.promisify)(P.truncate)}get rename(){return(0,y.promisify)(P.rename)}get copyFile(){return(0,y.promisify)(P.copyFile)}get open(){return(0,y.promisify)(P.open)}get close(){return(0,y.promisify)(P.close)}get symlink(){return(0,y.promisify)(P.symlink)}get readlink(){return(0,y.promisify)(P.readlink)}get chmod(){return(0,y.promisify)(P.chmod)}get mkdir(){return(0,y.promisify)(P.mkdir)}get unlink(){return(0,y.promisify)(P.unlink)}get rmdir(){return(0,y.promisify)(P.rmdir)}get realpath(){return(0,y.promisify)(P.realpath)}async exists(R){try{return await e.Promises.access(R),!0}catch{return!1}}get readdir(){return g}get readDirsInDir(){return n}get writeFile(){return o}get rm(){return f}get move(){return A}get copy(){return N}}}),define(he[129],de([0,1,30,3,15,16]),function(Z,e,P,_,y,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.realpathSync=e.realpath=e.realcaseSync=void 0;function I(i){const T=(0,_.dirname)(i);if(i===T)return i;const p=((0,_.basename)(i)||i).toLowerCase();try{const f=(0,C.readdirSync)(T).filter(w=>w.toLowerCase()===p);if(f.length===1){const w=I(T);if(w)return(0,_.join)(w,f[0])}else if(f.length>1){const w=f.indexOf(p);if(w>=0){const d=I(T);if(d)return(0,_.join)(d,f[w])}}}catch(b){}return null}e.realcaseSync=I;async function k(i){try{return await C.Promises.realpath(i)}catch(T){const p=E(i);return await C.Promises.access(p,P.constants.R_OK),p}}e.realpath=k;function m(i){try{return P.realpathSync(i)}catch(T){const p=E(i);return P.accessSync(p,P.constants.R_OK),p}}e.realpathSync=m;function E(i){return(0,y.rtrim)((0,_.normalize)(i),_.sep)}}),define(he[130],de([0,1,82]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findFreePortFaster=e.findFreePort=void 0;function _(k,m,E,i=1){let T=!1;return new Promise(p=>{const b=setTimeout(()=>{if(!T)return T=!0,p(0)},E);y(k,m,i,f=>{if(!T)return T=!0,clearTimeout(b),p(f)})})}e.findFreePort=_;function y(k,m,E,i){if(m===0)return i(0);const T=new P.Socket;T.once("connect",()=>(I(T),y(k+E,m-1,E,i))),T.once("data",()=>{}),T.once("error",p=>(I(T),p.code!=="ECONNREFUSED"?y(k+E,m-1,E,i):i(k))),T.connect(k,"127.0.0.1")}function C(k,m,E){let i=!1,T,p=1;const b=P.createServer({pauseOnConnect:!0});function f(w,d){i||(i=!0,b.removeAllListeners(),b.close(),T&&clearTimeout(T),d(w))}return new Promise(w=>{T=setTimeout(()=>{f(0,w)},E),b.on("listening",()=>{f(k,w)}),b.on("error",d=>{d&&(d.code==="EADDRINUSE"||d.code==="EACCES")&&p<m?(k++,p++,b.listen(k,"127.0.0.1")):f(0,w)}),b.on("close",()=>{f(0,w)}),b.listen(k,"127.0.0.1")})}e.findFreePortFaster=C;function I(k){try{k.removeAllListeners("connect"),k.removeAllListeners("error"),k.end(),k.destroy(),k.unref()}catch(m){console.error(m)}}}),define(he[83],de([0,1,25,3,16]),function(Z,e,P,_,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFirstAvailablePowerShellInstallation=e.enumeratePowerShellInstallations=void 0;const C=/^\d+$/,I=/^Microsoft.PowerShell_.*/,k=/^Microsoft.PowerShellPreview_.*/;var m;(function(a){a[a.x64=0]="x64",a[a.x86=1]="x86",a[a.ARM=2]="ARM"})(m||(m={}));let E;switch(process.arch){case"ia32":case"x32":E=1;break;case"arm":case"arm64":E=2;break;default:E=0;break}let i;process.env.PROCESSOR_ARCHITEW6432?i=process.env.PROCESSOR_ARCHITEW6432==="ARM64"?2:0:process.env.PROCESSOR_ARCHITECTURE==="ARM64"?i=2:process.env.PROCESSOR_ARCHITECTURE==="X86"?i=1:i=0;class T{constructor(l,n,s){this.exePath=l,this.displayName=n,this.knownToExist=s}async exists(){return this.knownToExist===void 0&&(this.knownToExist=await y.SymlinkSupport.existsFile(this.exePath)),this.knownToExist}}function p({useAlternateBitness:a=!1}={}){return a?E===0?process.env["ProgramFiles(x86)"]||null:i===0&&process.env.ProgramW6432||null:process.env.ProgramFiles||null}async function b({useAlternateBitness:a=!1,findPreview:l=!1}={}){const n=p({useAlternateBitness:a});if(!n)return null;const s=_.join(n,"PowerShell");if(!await y.SymlinkSupport.existsDirectory(s))return null;let r=-1,t=null;for(const v of await y.Promises.readdir(s)){let D=-1;if(l){const A=v.indexOf("-");if(A<0)continue;const N=v.substring(0,A);if(!C.test(N)||v.substring(A+1)!=="preview")continue;D=parseInt(N,10)}else{if(!C.test(v))continue;D=parseInt(v,10)}if(D<=r)continue;const h=_.join(s,v,"pwsh.exe");!await y.SymlinkSupport.existsFile(h)||(t=h,r=D)}if(!t)return null;const o=n.includes("x86")?" (x86)":"",u=l?" Preview":"";return new T(t,`PowerShell${u}${o}`,!0)}async function f({findPreview:a}={}){if(!process.env.LOCALAPPDATA)return null;const l=_.join(process.env.LOCALAPPDATA,"Microsoft","WindowsApps");if(!await y.SymlinkSupport.existsDirectory(l))return null;const{pwshMsixDirRegex:n,pwshMsixName:s}=a?{pwshMsixDirRegex:k,pwshMsixName:"PowerShell Preview (Store)"}:{pwshMsixDirRegex:I,pwshMsixName:"PowerShell (Store)"};for(const r of await y.Promises.readdir(l))if(n.test(r)){const t=_.join(l,r,"pwsh.exe");return new T(t,s)}return null}function w(){const a=_.join(P.homedir(),".dotnet","tools","pwsh.exe");return new T(a,".NET Core PowerShell Global Tool")}function d(){const a=_.join(process.env.windir,E===1&&i!==1?"SysNative":"System32","WindowsPowerShell","v1.0","powershell.exe");return new T(a,"Windows PowerShell",!0)}async function*S(){let a=await b();a&&(yield a),a=await b({useAlternateBitness:!0}),a&&(yield a),a=await f(),a&&(yield a),a=w(),a&&(yield a),a=await b({findPreview:!0}),a&&(yield a),a=await f({findPreview:!0}),a&&(yield a),a=await b({useAlternateBitness:!0,findPreview:!0}),a&&(yield a),a=d(),a&&(yield a)}async function*g(){for await(const a of S())await a.exists()&&(yield a)}e.enumeratePowerShellInstallations=g;async function c(){for await(const a of g())return a;return null}e.getFirstAvailablePowerShellInstallation=c}),define(he[84],de([0,1,40,8]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.listProcesses=void 0;function y(I){return new Promise((k,m)=>{let E;const i=new Map;function T(b,f,w,d,S){const g=i.get(f);if(b===I||g){const c={name:p(w),cmd:w,pid:b,ppid:f,load:d,mem:S};i.set(b,c),b===I&&(E=c),g&&(g.children||(g.children=[]),g.children.push(c),g.children.length>1&&(g.children=g.children.sort((a,l)=>a.pid-l.pid)))}}function p(b){const f=/--disable-blink-features=Auxclick/,w=/\\watcher\\win32\\CodeHelper\.exe/,d=/--crashes-directory/,S=/\\pipe\\winpty-control/,g=/conhost\.exe/,c=/--type=([a-zA-Z-]+)/;if(w.exec(b))return"watcherService ";if(d.exec(b))return"electron-crash-reporter";if(S.exec(b))return"winpty-process";if(g.exec(b))return"console-window-host (Windows internal process)";let a=c.exec(b);if(a&&a.length===2)return a[1]==="renderer"?f.exec(b)?"shared-process":"window":a[1];const l=/[a-zA-Z-]+\.js/g;let n="";do a=l.exec(b),a&&(n+=a+" ");while(a);return n&&b.indexOf("node ")<0&&b.indexOf("node.exe")<0?`electron_node ${n}`:b}if(process.platform==="win32"){const b=f=>f.indexOf("\\\\?\\")===0||f.indexOf("\\??\\")===0?f.substr(4):f.indexOf('"\\\\?\\')===0||f.indexOf('"\\??\\')===0?'"'+f.substr(5):f;new Promise((f,w)=>{Z(["windows-process-tree"],f,w)}).then(f=>{f.getProcessList(I,w=>{f.getProcessCpuUsage(w,d=>{const S=new Map;d.forEach(g=>{const c=b(g.commandLine||"");S.set(g.pid,{name:p(c),cmd:c,pid:g.pid,ppid:g.ppid,load:g.cpu||0,mem:g.memory||0})}),E=S.get(I),E?(S.forEach(g=>{const c=S.get(g.ppid);c&&(c.children||(c.children=[]),c.children.push(g))}),S.forEach(g=>{g.children&&(g.children=g.children.sort((c,a)=>c.pid-a.pid))}),k(E)):m(new Error(`Root process ${I} not found`))})},f.ProcessDataFlag.CommandLine|f.ProcessDataFlag.Memory)})}else{let b=function(){let f=[E];const w=[];for(;f.length;){const S=f.shift();S&&(w.push(S.pid),S.children&&(f=f.concat(S.children)))}let d=JSON.stringify(_.FileAccess.asFileUri("vs/base/node/cpuUsage.sh",Z).fsPath);d+=" "+w.join(" "),(0,P.exec)(d,{},(S,g,c)=>{if(S||c)m(S||new Error(c.toString()));else{const a=g.toString().split(`
`);for(let l=0;l<w.length;l++){const n=i.get(w[l]);n.load=parseFloat(a[l])}if(!E){m(new Error(`Root process ${I} not found`));return}k(E)}})};(0,P.exec)("which ps",{},(f,w,d)=>{if(f||d)if(process.platform!=="linux")m(f||new Error(d.toString()));else{const S=JSON.stringify(_.FileAccess.asFileUri("vs/base/node/ps.sh",Z).fsPath);(0,P.exec)(S,{},(g,c,a)=>{g||a?m(g||new Error(a.toString())):(C(c,T),b())})}else{const S=w.toString().trim(),g="-ax -o pid=,ppid=,pcpu=,pmem=,command=";(0,P.exec)(`${S} ${g}`,{maxBuffer:1e3*1024,env:{LC_NUMERIC:"en_US.UTF-8"}},(c,a,l)=>{c||l&&!l.includes("screen size is bogus")?m(c||new Error(l.toString())):(C(a,T),process.platform==="linux"?b():E?k(E):m(new Error(`Root process ${I} not found`)))})}})}})}e.listProcesses=y;function C(I,k){const m=/^\s*([0-9]+)\s+([0-9]+)\s+([0-9]+\.[0-9]+)\s+([0-9]+\.[0-9]+)\s+(.+)$/,E=I.toString().split(`
`);for(const i of E){const T=m.exec(i.trim());T&&T.length===6&&k(parseInt(T[1]),parseInt(T[2]),T[5],parseFloat(T[3]),parseFloat(T[4]))}}}),define(he[131],de([0,1,30,23,29,2,78,3,4,16]),function(Z,e,P,_,y,C,I,k,m,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.watchFileContents=e.CHANGE_BUFFER_DELAY=e.watchFolder=e.watchFile=void 0;function i(f,w,d){return p({path:f,isDirectory:!1},w,d)}e.watchFile=i;function T(f,w,d){return p({path:f,isDirectory:!0},w,d)}e.watchFolder=T,e.CHANGE_BUFFER_DELAY=100;function p(f,w,d){if(m.isMacintosh&&(0,y.isEqualOrParent)(f.path,"/Volumes/"))return d(`Refusing to watch ${f.path} for changes using fs.watch() for possibly being a network share where watching is unreliable and unstable.`),C.Disposable.None;const S=(0,k.basename)(f.path),g=new Map;let c=!1,a=[(0,C.toDisposable)(()=>{g.forEach(l=>(0,C.dispose)(l)),g.clear()})];try{const l=(0,P.watch)(f.path);a.push((0,C.toDisposable)(()=>{l.removeAllListeners(),l.close()}));const n=new Set;f.isDirectory&&E.Promises.readdir(f.path).then(s=>s.forEach(r=>n.add(r))),l.on("error",(s,r)=>{c||d(`Failed to watch ${f.path} for changes using fs.watch() (${s}, ${r})`)}),l.on("change",(s,r)=>{if(c)return;let t="";if(r&&(t=r.toString(),m.isMacintosh&&(t=(0,I.normalizeNFC)(t))),!t||s!=="change"&&s!=="rename")return;const o=f.isDirectory?(0,k.join)(f.path,t):f.path;if(f.isDirectory)if(s==="rename"){const u=g.get(o);u&&(0,C.dispose)(u);const v=setTimeout(async()=>{g.delete(o);const D=await E.Promises.exists(o);if(c)return;let h;D?n.has(t)?h="changed":(h="added",n.add(t)):(n.delete(t),h="deleted"),w(h,o)},e.CHANGE_BUFFER_DELAY);g.set(o,(0,C.toDisposable)(()=>clearTimeout(v)))}else{let u;n.has(t)?u="changed":(u="added",n.add(t)),w(u,o)}else if(s==="rename"||t!==S){const u=setTimeout(async()=>{const v=await E.Promises.exists(o);c||(v?(w("changed",o),a=[p(f,w,d)]):w("deleted",o))},e.CHANGE_BUFFER_DELAY);(0,C.dispose)(a),a=[(0,C.toDisposable)(()=>clearTimeout(u))]}else w("changed",o)})}catch(l){E.Promises.exists(f.path).then(n=>{n&&!c&&d(`Failed to watch ${f.path} for changes using fs.watch() (${l.toString()})`)})}return(0,C.toDisposable)(()=>{c=!0,a=(0,C.dispose)(a)})}async function b(f,w,d,S=512){const g=await E.Promises.open(f,"r"),c=Buffer.allocUnsafe(S),a=new _.CancellationTokenSource(d);let l,n=!1;const s=i(f,async r=>{if(r==="changed"){if(n)return;n=!0;try{for(;!a.token.isCancellationRequested;){const{bytesRead:t}=await E.Promises.read(g,c,0,S,null);if(!t||a.token.isCancellationRequested)break;w(c.slice(0,t))}}catch(t){l=new Error(t),a.dispose(!0)}finally{n=!1}}},r=>{l=new Error(r),a.dispose(!0)});return new Promise((r,t)=>{a.token.onCancellationRequested(async()=>{s.dispose(),await E.Promises.close(g),l?t(l):r()})})}e.watchFileContents=b});var Ne=this&&this.__decorate||function(Z,e,P,_){var y=arguments.length,C=y<3?e:_===null?_=Object.getOwnPropertyDescriptor(e,P):_,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(Z,e,P,_);else for(var k=Z.length-1;k>=0;k--)(I=Z[k])&&(C=(y<3?I(C):y>3?I(e,P,C):I(e,P))||C);return y>3&&C&&Object.defineProperty(e,P,C),C};define(he[35],de([0,1,18,13,17,23,74,11,6,2,50,15,12]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPCLogger=e.logWithColors=e.ProxyChannel=e.StaticRouter=e.getNextTickChannel=e.getDelayedChannel=e.IPCClient=e.IPCServer=e.ChannelClient=e.RequestInitiator=e.ChannelServer=e.ResponseType=e.RequestType=void 0;var b;(function(W){W[W.Promise=100]="Promise",W[W.PromiseCancel=101]="PromiseCancel",W[W.EventListen=102]="EventListen",W[W.EventDispose=103]="EventDispose"})(b=e.RequestType||(e.RequestType={}));function f(W){switch(W){case 100:return"req";case 101:return"cancel";case 102:return"subscribe";case 103:return"unsubscribe"}}var w;(function(W){W[W.Initialize=200]="Initialize",W[W.PromiseSuccess=201]="PromiseSuccess",W[W.PromiseError=202]="PromiseError",W[W.PromiseErrorObj=203]="PromiseErrorObj",W[W.EventFire=204]="EventFire"})(w=e.ResponseType||(e.ResponseType={}));function d(W){switch(W){case 200:return"init";case 201:return"reply:";case 202:case 203:return"replyErr:";case 204:return"event:"}}var S;(function(W){W[W.Uninitialized=0]="Uninitialized",W[W.Idle=1]="Idle"})(S||(S={}));class g{constructor(U){this.buffer=U,this.pos=0}read(U){const x=this.buffer.slice(this.pos,this.pos+U);return this.pos+=x.byteLength,x}}class c{constructor(){this.buffers=[]}get buffer(){return y.VSBuffer.concat(this.buffers)}write(U){this.buffers.push(U)}}var a;(function(W){W[W.Undefined=0]="Undefined",W[W.String=1]="String",W[W.Buffer=2]="Buffer",W[W.VSBuffer=3]="VSBuffer",W[W.Array=4]="Array",W[W.Object=5]="Object"})(a||(a={}));function l(W){const U=y.VSBuffer.alloc(4);return U.writeUInt32BE(W,0),U}function n(W){return W.read(4).readUInt32BE(0)}function s(W){const U=y.VSBuffer.alloc(1);return U.writeUInt8(W,0),U}const r={Undefined:s(a.Undefined),String:s(a.String),Buffer:s(a.Buffer),VSBuffer:s(a.VSBuffer),Array:s(a.Array),Object:s(a.Object)},t=typeof Buffer!="undefined";function o(W,U){if(typeof U=="undefined")W.write(r.Undefined);else if(typeof U=="string"){const x=y.VSBuffer.fromString(U);W.write(r.String),W.write(l(x.byteLength)),W.write(x)}else if(t&&Buffer.isBuffer(U)){const x=y.VSBuffer.wrap(U);W.write(r.Buffer),W.write(l(x.byteLength)),W.write(x)}else if(U instanceof y.VSBuffer)W.write(r.VSBuffer),W.write(l(U.byteLength)),W.write(U);else if(Array.isArray(U)){W.write(r.Array),W.write(l(U.length));for(const x of U)o(W,x)}else{const x=y.VSBuffer.fromString(JSON.stringify(U));W.write(r.Object),W.write(l(x.byteLength)),W.write(x)}}function u(W){switch(W.read(1).readUInt8(0)){case a.Undefined:return;case a.String:return W.read(n(W)).toString();case a.Buffer:return W.read(n(W)).buffer;case a.VSBuffer:return W.read(n(W));case a.Array:{const x=n(W),z=[];for(let te=0;te<x;te++)z.push(u(W));return z}case a.Object:return JSON.parse(W.read(n(W)).toString())}}class v{constructor(U,x,z=null,te=1e3){this.protocol=U,this.ctx=x,this.logger=z,this.timeoutDelay=te,this.channels=new Map,this.activeRequests=new Map,this.pendingRequests=new Map,this.protocolListener=this.protocol.onMessage(X=>this.onRawMessage(X)),this.sendResponse({type:200})}registerChannel(U,x){this.channels.set(U,x),setTimeout(()=>this.flushPendingRequests(U),0)}sendResponse(U){switch(U.type){case 200:{const x=this.send([U.type]);this.logger&&this.logger.logOutgoing(x,0,1,d(U.type));return}case 201:case 202:case 204:case 203:{const x=this.send([U.type,U.id],U.data);this.logger&&this.logger.logOutgoing(x,U.id,1,d(U.type),U.data);return}}}send(U,x=void 0){const z=new c;return o(z,U),o(z,x),this.sendBuffer(z.buffer)}sendBuffer(U){try{return this.protocol.send(U),U.byteLength}catch(x){return 0}}onRawMessage(U){const x=new g(U),z=u(x),te=u(x),X=z[0];switch(X){case 100:return this.logger&&this.logger.logIncoming(U.byteLength,z[1],1,`${f(X)}: ${z[2]}.${z[3]}`,te),this.onPromise({type:X,id:z[1],channelName:z[2],name:z[3],arg:te});case 102:return this.logger&&this.logger.logIncoming(U.byteLength,z[1],1,`${f(X)}: ${z[2]}.${z[3]}`,te),this.onEventListen({type:X,id:z[1],channelName:z[2],name:z[3],arg:te});case 101:return this.logger&&this.logger.logIncoming(U.byteLength,z[1],1,`${f(X)}`),this.disposeActiveRequest({type:X,id:z[1]});case 103:return this.logger&&this.logger.logIncoming(U.byteLength,z[1],1,`${f(X)}`),this.disposeActiveRequest({type:X,id:z[1]})}}onPromise(U){const x=this.channels.get(U.channelName);if(!x){this.collectPendingRequest(U);return}const z=new C.CancellationTokenSource;let te;try{te=x.call(this.ctx,U.name,U.arg,z.token)}catch(pe){te=Promise.reject(pe)}const X=U.id;te.then(pe=>{this.sendResponse({id:X,data:pe,type:201}),this.activeRequests.delete(U.id)},pe=>{pe instanceof Error?this.sendResponse({id:X,data:{message:pe.message,name:pe.name,stack:pe.stack?pe.stack.split?pe.stack.split(`
`):pe.stack:void 0},type:202}):this.sendResponse({id:X,data:pe,type:203}),this.activeRequests.delete(U.id)});const me=(0,E.toDisposable)(()=>z.cancel());this.activeRequests.set(U.id,me)}onEventListen(U){const x=this.channels.get(U.channelName);if(!x){this.collectPendingRequest(U);return}const z=U.id,X=x.listen(this.ctx,U.name,U.arg)(me=>this.sendResponse({id:z,data:me,type:204}));this.activeRequests.set(U.id,X)}disposeActiveRequest(U){const x=this.activeRequests.get(U.id);x&&(x.dispose(),this.activeRequests.delete(U.id))}collectPendingRequest(U){let x=this.pendingRequests.get(U.channelName);x||(x=[],this.pendingRequests.set(U.channelName,x));const z=setTimeout(()=>{console.error(`Unknown channel: ${U.channelName}`),U.type===100&&this.sendResponse({id:U.id,data:{name:"Unknown channel",message:`Channel name '${U.channelName}' timed out after ${this.timeoutDelay}ms`,stack:void 0},type:202})},this.timeoutDelay);x.push({request:U,timeoutTimer:z})}flushPendingRequests(U){const x=this.pendingRequests.get(U);if(x){for(const z of x)switch(clearTimeout(z.timeoutTimer),z.request.type){case 100:this.onPromise(z.request);break;case 102:this.onEventListen(z.request);break}this.pendingRequests.delete(U)}}dispose(){this.protocolListener&&(this.protocolListener.dispose(),this.protocolListener=null),this.activeRequests.forEach(U=>U.dispose()),this.activeRequests.clear()}}e.ChannelServer=v;var D;(function(W){W[W.LocalSide=0]="LocalSide",W[W.OtherSide=1]="OtherSide"})(D=e.RequestInitiator||(e.RequestInitiator={}));class h{constructor(U,x=null){this.protocol=U,this.isDisposed=!1,this.state=S.Uninitialized,this.activeRequests=new Set,this.handlers=new Map,this.lastRequestId=0,this._onDidInitialize=new m.Emitter,this.onDidInitialize=this._onDidInitialize.event,this.protocolListener=this.protocol.onMessage(z=>this.onBuffer(z)),this.logger=x}getChannel(U){const x=this;return{call(z,te,X){return x.isDisposed?Promise.reject(k.canceled()):x.requestPromise(U,z,te,X)},listen(z,te){return x.isDisposed?Promise.reject(k.canceled()):x.requestEvent(U,z,te)}}}requestPromise(U,x,z,te=C.CancellationToken.None){const X=this.lastRequestId++,pe={id:X,type:100,channelName:U,name:x,arg:z};if(te.isCancellationRequested)return Promise.reject(k.canceled());let se;return new Promise((Se,ye)=>{if(te.isCancellationRequested)return ye(k.canceled());const Ae=()=>{const nt=ge=>{switch(ge.type){case 201:this.handlers.delete(X),Se(ge.data);break;case 202:this.handlers.delete(X);const ve=new Error(ge.data.message);ve.stack=ge.data.stack,ve.name=ge.data.name,ye(ve);break;case 203:this.handlers.delete(X),ye(ge.data);break}};this.handlers.set(X,nt),this.sendRequest(pe)};let Fe=null;this.state===S.Idle?Ae():(Fe=(0,_.createCancelablePromise)(nt=>this.whenInitialized()),Fe.then(()=>{Fe=null,Ae()}));const qe=()=>{Fe?(Fe.cancel(),Fe=null):this.sendRequest({id:X,type:101}),ye(k.canceled())},Be=te.onCancellationRequested(qe);se=(0,E.combinedDisposable)((0,E.toDisposable)(qe),Be),this.activeRequests.add(se)}).finally(()=>{this.activeRequests.delete(se)})}requestEvent(U,x,z){const te=this.lastRequestId++,me={id:te,type:102,channelName:U,name:x,arg:z};let pe=null;const se=new m.Emitter({onFirstListenerAdd:()=>{pe=(0,_.createCancelablePromise)(Se=>this.whenInitialized()),pe.then(()=>{pe=null,this.activeRequests.add(se),this.sendRequest(me)})},onLastListenerRemove:()=>{pe?(pe.cancel(),pe=null):(this.activeRequests.delete(se),this.sendRequest({id:te,type:103}))}}),ne=Se=>se.fire(Se.data);return this.handlers.set(te,ne),se.event}sendRequest(U){switch(U.type){case 100:case 102:{const x=this.send([U.type,U.id,U.channelName,U.name],U.arg);this.logger&&this.logger.logOutgoing(x,U.id,0,`${f(U.type)}: ${U.channelName}.${U.name}`,U.arg);return}case 101:case 103:{const x=this.send([U.type,U.id]);this.logger&&this.logger.logOutgoing(x,U.id,0,f(U.type));return}}}send(U,x=void 0){const z=new c;return o(z,U),o(z,x),this.sendBuffer(z.buffer)}sendBuffer(U){try{return this.protocol.send(U),U.byteLength}catch(x){return 0}}onBuffer(U){const x=new g(U),z=u(x),te=u(x),X=z[0];switch(X){case 200:return this.logger&&this.logger.logIncoming(U.byteLength,0,0,d(X)),this.onResponse({type:z[0]});case 201:case 202:case 204:case 203:return this.logger&&this.logger.logIncoming(U.byteLength,z[1],0,d(X),te),this.onResponse({type:z[0],id:z[1],data:te})}}onResponse(U){if(U.type===200){this.state=S.Idle,this._onDidInitialize.fire();return}const x=this.handlers.get(U.id);x&&x(U)}get onDidInitializePromise(){return m.Event.toPromise(this.onDidInitialize)}whenInitialized(){return this.state===S.Idle?Promise.resolve():this.onDidInitializePromise}dispose(){this.isDisposed=!0,this.protocolListener&&(this.protocolListener.dispose(),this.protocolListener=null),this.activeRequests.forEach(U=>U.dispose()),this.activeRequests.clear()}}Ne([I.memoize],h.prototype,"onDidInitializePromise",null),e.ChannelClient=h;class A{constructor(U){this.channels=new Map,this._connections=new Set,this._onDidAddConnection=new m.Emitter,this.onDidAddConnection=this._onDidAddConnection.event,this._onDidRemoveConnection=new m.Emitter,this.onDidRemoveConnection=this._onDidRemoveConnection.event,U(({protocol:x,onDidClientDisconnect:z})=>{m.Event.once(x.onMessage)(X=>{const me=new g(X),pe=u(me),se=new v(x,pe),ne=new h(x);this.channels.forEach((ye,Ae)=>se.registerChannel(Ae,ye));const Se={channelServer:se,channelClient:ne,ctx:pe};this._connections.add(Se),this._onDidAddConnection.fire(Se),z(()=>{se.dispose(),ne.dispose(),this._connections.delete(Se),this._onDidRemoveConnection.fire(Se)})})})}get connections(){const U=[];return this._connections.forEach(x=>U.push(x)),U}getChannel(U,x){const z=this;return{call(te,X,me){let pe;if((0,p.isFunction)(x)){let ne=(0,P.getRandomElement)(z.connections.filter(x));pe=ne?Promise.resolve(ne):m.Event.toPromise(m.Event.filter(z.onDidAddConnection,x))}else pe=x.routeCall(z,te,X);const se=pe.then(ne=>ne.channelClient.getChannel(U));return $(se).call(te,X,me)},listen(te,X){if((0,p.isFunction)(x))return z.getMulticastEvent(U,x,te,X);const me=x.routeEvent(z,te,X).then(pe=>pe.channelClient.getChannel(U));return $(me).listen(te,X)}}}getMulticastEvent(U,x,z,te){const X=this;let me=new E.DisposableStore;const pe=new m.Emitter({onFirstListenerAdd:()=>{me=new E.DisposableStore;const se=new m.EventMultiplexer,ne=new Map,Se=Ae=>{const qe=Ae.channelClient.getChannel(U).listen(z,te),Be=se.add(qe);ne.set(Ae,Be)},ye=Ae=>{const Fe=ne.get(Ae);!Fe||(Fe.dispose(),ne.delete(Ae))};X.connections.filter(x).forEach(Se),m.Event.filter(X.onDidAddConnection,x)(Se,void 0,me),X.onDidRemoveConnection(ye,void 0,me),se.event(pe.fire,pe,me),me.add(se)},onLastListenerRemove:()=>{me.dispose()}});return pe.event}registerChannel(U,x){this.channels.set(U,x),this._connections.forEach(z=>{z.channelServer.registerChannel(U,x)})}dispose(){this.channels.clear(),this._connections.clear(),this._onDidAddConnection.dispose(),this._onDidRemoveConnection.dispose()}}e.IPCServer=A;class N{constructor(U,x,z=null){const te=new c;o(te,x),U.send(te.buffer),this.channelClient=new h(U,z),this.channelServer=new v(U,x,z)}getChannel(U){return this.channelClient.getChannel(U)}registerChannel(U,x){this.channelServer.registerChannel(U,x)}dispose(){this.channelClient.dispose(),this.channelServer.dispose()}}e.IPCClient=N;function $(W){return{call(U,x,z){return W.then(te=>te.call(U,x,z))},listen(U,x){const z=new m.Relay;return W.then(te=>z.input=te.listen(U,x)),z.event}}}e.getDelayedChannel=$;function K(W){let U=!1;return{call(x,z,te){return U?W.call(x,z,te):(0,_.timeout)(0).then(()=>U=!0).then(()=>W.call(x,z,te))},listen(x,z){if(U)return W.listen(x,z);const te=new m.Relay;return(0,_.timeout)(0).then(()=>U=!0).then(()=>te.input=W.listen(x,z)),te.event}}}e.getNextTickChannel=K;class j{constructor(U){this.fn=U}routeCall(U){return this.route(U)}routeEvent(U){return this.route(U)}async route(U){for(const x of U.connections)if(await Promise.resolve(this.fn(x.ctx)))return Promise.resolve(x);return await m.Event.toPromise(U.onDidAddConnection),await this.route(U)}}e.StaticRouter=j;var F;(function(W){function U(X,me){const pe=X,se=me&&me.disableMarshalling,ne=new Map;for(const Se in pe)z(Se)&&ne.set(Se,m.Event.buffer(pe[Se],!0));return new class{listen(Se,ye,Ae){const Fe=ne.get(ye);if(Fe)return Fe;if(te(ye)){const qe=pe[ye];if(typeof qe=="function")return qe.call(pe,Ae)}throw new Error(`Event not found: ${ye}`)}call(Se,ye,Ae){const Fe=pe[ye];if(typeof Fe=="function"){if(!se&&Array.isArray(Ae))for(let qe=0;qe<Ae.length;qe++)Ae[qe]=(0,i.revive)(Ae[qe]);return Fe.apply(pe,Ae)}throw new Error(`Method not found: ${ye}`)}}}W.fromService=U;function x(X,me){const pe=me&&me.disableMarshalling;return new Proxy({},{get(se,ne){if(typeof ne=="string")return me?.properties?.has(ne)?me.properties.get(ne):te(ne)?function(Se){return X.listen(ne,Se)}:z(ne)?X.listen(ne):async function(...Se){let ye;me&&!(0,p.isUndefinedOrNull)(me.context)?ye=[me.context,...Se]:ye=Se;const Ae=await X.call(ne,ye);return pe?Ae:(0,i.revive)(Ae)};throw new Error(`Property not found: ${String(ne)}`)}})}W.toService=x;function z(X){return X[0]==="o"&&X[1]==="n"&&T.isUpperAsciiLetter(X.charCodeAt(2))}function te(X){return/^onDynamic/.test(X)&&T.isUpperAsciiLetter(X.charCodeAt(9))}})(F=e.ProxyChannel||(e.ProxyChannel={}));const G=[["#2977B1","#FC802D","#34A13A","#D3282F","#9366BA"],["#8B564C","#E177C0","#7F7F7F","#BBBE3D","#2EBECD"]];function R(W){if(Array.isArray(W))return W;if(W&&typeof W=="object"&&typeof W.toString=="function"){let U=W.toString();if(U!=="[object Object]")return U}return W}function B(W){return Array.isArray(W)?W.map(R):R(W)}function H(W,U,x,z,te,X,me){me=B(me);const pe=G[te],se=pe[z%pe.length];let ne=[`%c[${W}]%c[${String(U).padStart(7," ")}]%c[len: ${String(x).padStart(5," ")}]%c${String(z).padStart(5," ")} - ${X}`,"color: darkgreen","color: grey","color: grey",`color: ${se}`];/\($/.test(X)?(ne=ne.concat(me),ne.push(")")):ne.push(me),console.log.apply(console,ne)}e.logWithColors=H;class q{constructor(U,x){this._outgoingPrefix=U,this._incomingPrefix=x,this._totalIncoming=0,this._totalOutgoing=0}logOutgoing(U,x,z,te,X){this._totalOutgoing+=U,H(this._outgoingPrefix,this._totalOutgoing,U,x,z,te,X)}logIncoming(U,x,z,te,X){this._totalIncoming+=U,H(this._incomingPrefix,this._totalIncoming,U,x,z,te,X)}}e.IPCLogger=q}),define(he[85],de([0,1,17,6,2,4,22,35]),function(Z,e,P,_,y,C,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PersistentProtocol=e.BufferedEmitter=e.Client=e.Protocol=e.ProtocolConstants=e.ChunkStream=e.SocketCloseEventType=void 0;var m;(function(r){r[r.NodeSocketCloseEvent=0]="NodeSocketCloseEvent",r[r.WebSocketCloseEvent=1]="WebSocketCloseEvent"})(m=e.SocketCloseEventType||(e.SocketCloseEventType={}));let E=null;function i(){return E||(E=P.VSBuffer.alloc(0)),E}class T{constructor(){this._chunks=[],this._totalLength=0}get byteLength(){return this._totalLength}acceptChunk(t){this._chunks.push(t),this._totalLength+=t.byteLength}read(t){return this._read(t,!0)}peek(t){return this._read(t,!1)}_read(t,o){if(t===0)return i();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){const h=this._chunks[0];return o&&(this._chunks.shift(),this._totalLength-=t),h}if(this._chunks[0].byteLength>t){const h=this._chunks[0].slice(0,t);return o&&(this._chunks[0]=this._chunks[0].slice(t),this._totalLength-=t),h}let u=P.VSBuffer.alloc(t),v=0,D=0;for(;t>0;){const h=this._chunks[D];if(h.byteLength>t){const A=h.slice(0,t);u.set(A,v),v+=t,o&&(this._chunks[D]=h.slice(t),this._totalLength-=t),t-=t}else u.set(h,v),v+=h.byteLength,o?(this._chunks.shift(),this._totalLength-=h.byteLength):D++,t-=h.byteLength}return u}}e.ChunkStream=T;var p;(function(r){r[r.None=0]="None",r[r.Regular=1]="Regular",r[r.Control=2]="Control",r[r.Ack=3]="Ack",r[r.KeepAlive=4]="KeepAlive",r[r.Disconnect=5]="Disconnect",r[r.ReplayRequest=6]="ReplayRequest"})(p||(p={}));var b;(function(r){r[r.HeaderLength=13]="HeaderLength",r[r.AcknowledgeTime=2e3]="AcknowledgeTime",r[r.AcknowledgeTimeoutTime=2e4]="AcknowledgeTimeoutTime",r[r.KeepAliveTime=5e3]="KeepAliveTime",r[r.KeepAliveTimeoutTime=2e4]="KeepAliveTimeoutTime",r[r.ReconnectionGraceTime=108e5]="ReconnectionGraceTime",r[r.ReconnectionShortGraceTime=3e5]="ReconnectionShortGraceTime"})(b=e.ProtocolConstants||(e.ProtocolConstants={}));class f{constructor(t,o,u,v){this.type=t,this.id=o,this.ack=u,this.data=v,this.writtenTime=0}get size(){return this.data.byteLength}}class w extends y.Disposable{constructor(t){super();this._onMessage=this._register(new _.Emitter),this.onMessage=this._onMessage.event,this._state={readHead:!0,readLen:13,messageType:0,id:0,ack:0},this._socket=t,this._isDisposed=!1,this._incomingData=new T,this._register(this._socket.onData(o=>this.acceptChunk(o))),this.lastReadTime=Date.now()}acceptChunk(t){if(!(!t||t.byteLength===0))for(this.lastReadTime=Date.now(),this._incomingData.acceptChunk(t);this._incomingData.byteLength>=this._state.readLen;){const o=this._incomingData.read(this._state.readLen);if(this._state.readHead)this._state.readHead=!1,this._state.readLen=o.readUInt32BE(9),this._state.messageType=o.readUInt8(0),this._state.id=o.readUInt32BE(1),this._state.ack=o.readUInt32BE(5);else{const u=this._state.messageType,v=this._state.id,D=this._state.ack;if(this._state.readHead=!0,this._state.readLen=13,this._state.messageType=0,this._state.id=0,this._state.ack=0,this._onMessage.fire(new f(u,v,D,o)),this._isDisposed)break}}}readEntireBuffer(){return this._incomingData.read(this._incomingData.byteLength)}dispose(){this._isDisposed=!0,super.dispose()}}class d{constructor(t){this._isDisposed=!1,this._socket=t,this._data=[],this._totalLength=0,this.lastWriteTime=0}dispose(){try{this.flush()}catch(t){}this._isDisposed=!0}drain(){return this.flush(),this._socket.drain()}flush(){this._writeNow()}write(t){if(this._isDisposed)return;t.writtenTime=Date.now(),this.lastWriteTime=Date.now();const o=P.VSBuffer.alloc(13);o.writeUInt8(t.type,0),o.writeUInt32BE(t.id,1),o.writeUInt32BE(t.ack,5),o.writeUInt32BE(t.data.byteLength,9),this._writeSoon(o,t.data)}_bufferAdd(t,o){const u=this._totalLength===0;return this._data.push(t,o),this._totalLength+=t.byteLength+o.byteLength,u}_bufferTake(){const t=P.VSBuffer.concat(this._data,this._totalLength);return this._data.length=0,this._totalLength=0,t}_writeSoon(t,o){this._bufferAdd(t,o)&&C.setImmediate(()=>{this._writeNow()})}_writeNow(){this._totalLength!==0&&this._socket.write(this._bufferTake())}}class S extends y.Disposable{constructor(t){super();this._onMessage=new _.Emitter,this.onMessage=this._onMessage.event,this._onDidDispose=new _.Emitter,this.onDidDispose=this._onDidDispose.event,this._socket=t,this._socketWriter=this._register(new d(this._socket)),this._socketReader=this._register(new w(this._socket)),this._register(this._socketReader.onMessage(o=>{o.type===1&&this._onMessage.fire(o.data)})),this._register(this._socket.onClose(()=>this._onDidDispose.fire()))}drain(){return this._socketWriter.drain()}getSocket(){return this._socket}sendDisconnect(){}send(t){this._socketWriter.write(new f(1,0,0,t))}}e.Protocol=S;class g extends k.IPCClient{constructor(t,o,u=null){super(t,o,u);this.protocol=t}static fromSocket(t,o){return new g(new S(t),o)}get onDidDispose(){return this.protocol.onDidDispose}dispose(){super.dispose();const t=this.protocol.getSocket();this.protocol.sendDisconnect(),this.protocol.dispose(),t.end()}}e.Client=g;class c{constructor(){this._hasListeners=!1,this._isDeliveringMessages=!1,this._bufferedMessages=[],this._emitter=new _.Emitter({onFirstListenerAdd:()=>{this._hasListeners=!0,I.nextTick(()=>this._deliverMessages())},onLastListenerRemove:()=>{this._hasListeners=!1}}),this.event=this._emitter.event}_deliverMessages(){if(!this._isDeliveringMessages){for(this._isDeliveringMessages=!0;this._hasListeners&&this._bufferedMessages.length>0;)this._emitter.fire(this._bufferedMessages.shift());this._isDeliveringMessages=!1}}fire(t){this._hasListeners?this._bufferedMessages.length>0?this._bufferedMessages.push(t):this._emitter.fire(t):this._bufferedMessages.push(t)}flushBuffer(){this._bufferedMessages=[]}}e.BufferedEmitter=c;class a{constructor(t){this.data=t,this.next=null}}class l{constructor(){this._first=null,this._last=null}peek(){return this._first?this._first.data:null}toArray(){let t=[],o=0,u=this._first;for(;u;)t[o++]=u.data,u=u.next;return t}pop(){if(!!this._first){if(this._first===this._last){this._first=null,this._last=null;return}this._first=this._first.next}}push(t){const o=new a(t);if(!this._first){this._first=o,this._last=o;return}this._last.next=o,this._last=o}}class n{constructor(){this.lastRuns=[];const t=Date.now();for(let o=0;o<n._HISTORY_LENGTH;o++)this.lastRuns[o]=t-1e3*o;setInterval(()=>{for(let o=n._HISTORY_LENGTH;o>=1;o--)this.lastRuns[o]=this.lastRuns[o-1];this.lastRuns[0]=Date.now()},1e3)}static getInstance(){return n._INSTANCE||(n._INSTANCE=new n),n._INSTANCE}load(){const t=Date.now(),o=(1+n._HISTORY_LENGTH)*1e3;let u=0;for(let v=0;v<n._HISTORY_LENGTH;v++)t-this.lastRuns[v]<=o&&u++;return 1-u/n._HISTORY_LENGTH}hasHighLoad(){return this.load()>=.5}}n._HISTORY_LENGTH=10,n._INSTANCE=null;class s{constructor(t,o=null,u=n.getInstance()){this._onControlMessage=new c,this.onControlMessage=this._onControlMessage.event,this._onMessage=new c,this.onMessage=this._onMessage.event,this._onDidDispose=new c,this.onDidDispose=this._onDidDispose.event,this._onSocketClose=new c,this.onSocketClose=this._onSocketClose.event,this._onSocketTimeout=new c,this.onSocketTimeout=this._onSocketTimeout.event,this._loadEstimator=u,this._isReconnecting=!1,this._outgoingUnackMsg=new l,this._outgoingMsgId=0,this._outgoingAckId=0,this._outgoingAckTimeout=null,this._incomingMsgId=0,this._incomingAckId=0,this._incomingMsgLastTime=0,this._incomingAckTimeout=null,this._outgoingKeepAliveTimeout=null,this._incomingKeepAliveTimeout=null,this._lastReplayRequestTime=0,this._socketDisposables=[],this._socket=t,this._socketWriter=new d(this._socket),this._socketDisposables.push(this._socketWriter),this._socketReader=new w(this._socket),this._socketDisposables.push(this._socketReader),this._socketDisposables.push(this._socketReader.onMessage(v=>this._receiveMessage(v))),this._socketDisposables.push(this._socket.onClose(v=>this._onSocketClose.fire(v))),o&&this._socketReader.acceptChunk(o),this._sendKeepAliveCheck(),this._recvKeepAliveCheck()}get unacknowledgedCount(){return this._outgoingMsgId-this._outgoingAckId}dispose(){this._outgoingAckTimeout&&(clearTimeout(this._outgoingAckTimeout),this._outgoingAckTimeout=null),this._incomingAckTimeout&&(clearTimeout(this._incomingAckTimeout),this._incomingAckTimeout=null),this._outgoingKeepAliveTimeout&&(clearTimeout(this._outgoingKeepAliveTimeout),this._outgoingKeepAliveTimeout=null),this._incomingKeepAliveTimeout&&(clearTimeout(this._incomingKeepAliveTimeout),this._incomingKeepAliveTimeout=null),this._socketDisposables=(0,y.dispose)(this._socketDisposables)}drain(){return this._socketWriter.drain()}sendDisconnect(){const t=new f(5,0,0,i());this._socketWriter.write(t),this._socketWriter.flush()}_sendKeepAliveCheck(){if(this._outgoingKeepAliveTimeout)return;const t=Date.now()-this._socketWriter.lastWriteTime;if(t>=5e3){const o=new f(4,0,0,i());this._socketWriter.write(o),this._sendKeepAliveCheck();return}this._outgoingKeepAliveTimeout=setTimeout(()=>{this._outgoingKeepAliveTimeout=null,this._sendKeepAliveCheck()},5e3-t+5)}_recvKeepAliveCheck(){if(this._incomingKeepAliveTimeout)return;const t=Date.now()-this._socketReader.lastReadTime;if(t>=2e4&&!this._loadEstimator.hasHighLoad()){this._onSocketTimeout.fire(void 0);return}this._incomingKeepAliveTimeout=setTimeout(()=>{this._incomingKeepAliveTimeout=null,this._recvKeepAliveCheck()},Math.max(2e4-t,0)+5)}getSocket(){return this._socket}getMillisSinceLastIncomingData(){return Date.now()-this._socketReader.lastReadTime}beginAcceptReconnection(t,o){this._isReconnecting=!0,this._socketDisposables=(0,y.dispose)(this._socketDisposables),this._onControlMessage.flushBuffer(),this._onSocketClose.flushBuffer(),this._onSocketTimeout.flushBuffer(),this._socket.dispose(),this._lastReplayRequestTime=0,this._socket=t,this._socketWriter=new d(this._socket),this._socketDisposables.push(this._socketWriter),this._socketReader=new w(this._socket),this._socketDisposables.push(this._socketReader),this._socketDisposables.push(this._socketReader.onMessage(u=>this._receiveMessage(u))),this._socketDisposables.push(this._socket.onClose(u=>this._onSocketClose.fire(u))),this._socketReader.acceptChunk(o)}endAcceptReconnection(){this._isReconnecting=!1;const t=this._outgoingUnackMsg.toArray();for(let o=0,u=t.length;o<u;o++)this._socketWriter.write(t[o]);this._recvAckCheck(),this._sendKeepAliveCheck(),this._recvKeepAliveCheck()}acceptDisconnect(){this._onDidDispose.fire()}_receiveMessage(t){if(t.ack>this._outgoingAckId){this._outgoingAckId=t.ack;do{const o=this._outgoingUnackMsg.peek();if(o&&o.id<=t.ack)this._outgoingUnackMsg.pop();else break}while(!0)}if(t.type===1){if(t.id>this._incomingMsgId)if(t.id!==this._incomingMsgId+1){const o=Date.now();o-this._lastReplayRequestTime>1e4&&(this._lastReplayRequestTime=o,this._socketWriter.write(new f(6,0,0,i())))}else this._incomingMsgId=t.id,this._incomingMsgLastTime=Date.now(),this._sendAckCheck(),this._onMessage.fire(t.data)}else if(t.type===2)this._onControlMessage.fire(t.data);else if(t.type===5)this._onDidDispose.fire();else if(t.type===6){const o=this._outgoingUnackMsg.toArray();for(let u=0,v=o.length;u<v;u++)this._socketWriter.write(o[u]);this._recvAckCheck()}}readEntireBuffer(){return this._socketReader.readEntireBuffer()}flush(){this._socketWriter.flush()}send(t){const o=++this._outgoingMsgId;this._incomingAckId=this._incomingMsgId;const u=new f(1,o,this._incomingAckId,t);this._outgoingUnackMsg.push(u),this._isReconnecting||(this._socketWriter.write(u),this._recvAckCheck())}sendControl(t){const o=new f(2,0,0,t);this._socketWriter.write(o)}_sendAckCheck(){if(this._incomingMsgId<=this._incomingAckId||this._incomingAckTimeout)return;const t=Date.now()-this._incomingMsgLastTime;if(t>=2e3){this._sendAck();return}this._incomingAckTimeout=setTimeout(()=>{this._incomingAckTimeout=null,this._sendAckCheck()},2e3-t+5)}_recvAckCheck(){if(this._outgoingMsgId<=this._outgoingAckId||this._outgoingAckTimeout||this._isReconnecting)return;const t=this._outgoingUnackMsg.peek(),o=Date.now()-t.writtenTime;if(o>=2e4&&!this._loadEstimator.hasHighLoad()){this._onSocketTimeout.fire(void 0);return}this._outgoingAckTimeout=setTimeout(()=>{this._outgoingAckTimeout=null,this._recvAckCheck()},Math.max(2e4-o,0)+5)}_sendAck(){if(this._incomingMsgId<=this._incomingAckId)return;this._incomingAckId=this._incomingMsgId;const t=new f(3,0,this._incomingAckId,i());this._socketWriter.write(t)}}e.PersistentProtocol=s}),define(he[132],de([0,1,13,6,2,12]),function(Z,e,P,_,y,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=e.isStorageItemsChangeEvent=e.StorageHint=void 0;var I;(function(T){T[T.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST"})(I=e.StorageHint||(e.StorageHint={}));function k(T){const p=T;return p?.changed instanceof Map||p?.deleted instanceof Set}e.isStorageItemsChangeEvent=k;var m;(function(T){T[T.None=0]="None",T[T.Initialized=1]="Initialized",T[T.Closed=2]="Closed"})(m||(m={}));class E extends y.Disposable{constructor(p,b=Object.create(null)){super();this.database=p,this.options=b,this._onDidChangeStorage=this._register(new _.Emitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=m.None,this.cache=new Map,this.flushDelayer=new P.ThrottledDelayer(E.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.pendingClose=void 0,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(p=>this.onDidChangeItemsExternal(p)))}onDidChangeItemsExternal(p){p.changed?.forEach((b,f)=>this.accept(f,b)),p.deleted?.forEach(b=>this.accept(b,void 0))}accept(p,b){if(this.state===m.Closed)return;let f=!1;(0,C.isUndefinedOrNull)(b)?f=this.cache.delete(p):this.cache.get(p)!==b&&(this.cache.set(p,b),f=!0),f&&this._onDidChangeStorage.fire(p)}get items(){return this.cache}get size(){return this.cache.size}async init(){this.state===m.None&&(this.state=m.Initialized,this.options.hint!==I.STORAGE_DOES_NOT_EXIST&&(this.cache=await this.database.getItems()))}get(p,b){const f=this.cache.get(p);return(0,C.isUndefinedOrNull)(f)?b:f}getBoolean(p,b){const f=this.get(p);return(0,C.isUndefinedOrNull)(f)?b:f==="true"}getNumber(p,b){const f=this.get(p);return(0,C.isUndefinedOrNull)(f)?b:parseInt(f,10)}async set(p,b){if(this.state===m.Closed)return;if((0,C.isUndefinedOrNull)(b))return this.delete(p);const f=String(b);if(this.cache.get(p)!==f)return this.cache.set(p,f),this.pendingInserts.set(p,f),this.pendingDeletes.delete(p),this._onDidChangeStorage.fire(p),this.flushDelayer.trigger(()=>this.flushPending())}async delete(p){if(!(this.state===m.Closed||!this.cache.delete(p)))return this.pendingDeletes.has(p)||this.pendingDeletes.add(p),this.pendingInserts.delete(p),this._onDidChangeStorage.fire(p),this.flushDelayer.trigger(()=>this.flushPending())}async close(){return this.pendingClose||(this.pendingClose=this.doClose()),this.pendingClose}async doClose(){this.state=m.Closed;try{await this.flushDelayer.trigger(()=>this.flushPending(),0)}catch(p){}await this.database.close(()=>this.cache)}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;const p={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(p).finally(()=>{if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)this.whenFlushedCallbacks.pop()?.()})}async whenFlushed(){if(!!this.hasPending)return new Promise(p=>this.whenFlushedCallbacks.push(p))}dispose(){this.flushDelayer.dispose(),super.dispose()}}e.Storage=E,E.DEFAULT_FLUSH_DELAY=100;class i{constructor(){this.onDidChangeItemsExternal=_.Event.None,this.items=new Map}async getItems(){return this.items}async updateItems(p){p.insert&&p.insert.forEach((b,f)=>this.items.set(f,b)),p.delete&&p.delete.forEach(b=>this.items.delete(b))}async close(){}}e.InMemoryStorageDatabase=i}),define(he[86],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class P{constructor(y,C){this.lineNumber=y,this.column=C}with(y=this.lineNumber,C=this.column){return y===this.lineNumber&&C===this.column?this:new P(y,C)}delta(y=0,C=0){return this.with(this.lineNumber+y,this.column+C)}equals(y){return P.equals(this,y)}static equals(y,C){return!y&&!C?!0:!!y&&!!C&&y.lineNumber===C.lineNumber&&y.column===C.column}isBefore(y){return P.isBefore(this,y)}static isBefore(y,C){return y.lineNumber<C.lineNumber?!0:C.lineNumber<y.lineNumber?!1:y.column<C.column}isBeforeOrEqual(y){return P.isBeforeOrEqual(this,y)}static isBeforeOrEqual(y,C){return y.lineNumber<C.lineNumber?!0:C.lineNumber<y.lineNumber?!1:y.column<=C.column}static compare(y,C){let I=y.lineNumber|0,k=C.lineNumber|0;if(I===k){let m=y.column|0,E=C.column|0;return m-E}return I-k}clone(){return new P(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(y){return new P(y.lineNumber,y.column)}static isIPosition(y){return y&&typeof y.lineNumber=="number"&&typeof y.column=="number"}}e.Position=P}),define(he[59],de([0,1,86]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class _{constructor(C,I,k,m){C>k||C===k&&I>m?(this.startLineNumber=k,this.startColumn=m,this.endLineNumber=C,this.endColumn=I):(this.startLineNumber=C,this.startColumn=I,this.endLineNumber=k,this.endColumn=m)}isEmpty(){return _.isEmpty(this)}static isEmpty(C){return C.startLineNumber===C.endLineNumber&&C.startColumn===C.endColumn}containsPosition(C){return _.containsPosition(this,C)}static containsPosition(C,I){return!(I.lineNumber<C.startLineNumber||I.lineNumber>C.endLineNumber||I.lineNumber===C.startLineNumber&&I.column<C.startColumn||I.lineNumber===C.endLineNumber&&I.column>C.endColumn)}containsRange(C){return _.containsRange(this,C)}static containsRange(C,I){return!(I.startLineNumber<C.startLineNumber||I.endLineNumber<C.startLineNumber||I.startLineNumber>C.endLineNumber||I.endLineNumber>C.endLineNumber||I.startLineNumber===C.startLineNumber&&I.startColumn<C.startColumn||I.endLineNumber===C.endLineNumber&&I.endColumn>C.endColumn)}strictContainsRange(C){return _.strictContainsRange(this,C)}static strictContainsRange(C,I){return!(I.startLineNumber<C.startLineNumber||I.endLineNumber<C.startLineNumber||I.startLineNumber>C.endLineNumber||I.endLineNumber>C.endLineNumber||I.startLineNumber===C.startLineNumber&&I.startColumn<=C.startColumn||I.endLineNumber===C.endLineNumber&&I.endColumn>=C.endColumn)}plusRange(C){return _.plusRange(this,C)}static plusRange(C,I){let k,m,E,i;return I.startLineNumber<C.startLineNumber?(k=I.startLineNumber,m=I.startColumn):I.startLineNumber===C.startLineNumber?(k=I.startLineNumber,m=Math.min(I.startColumn,C.startColumn)):(k=C.startLineNumber,m=C.startColumn),I.endLineNumber>C.endLineNumber?(E=I.endLineNumber,i=I.endColumn):I.endLineNumber===C.endLineNumber?(E=I.endLineNumber,i=Math.max(I.endColumn,C.endColumn)):(E=C.endLineNumber,i=C.endColumn),new _(k,m,E,i)}intersectRanges(C){return _.intersectRanges(this,C)}static intersectRanges(C,I){let k=C.startLineNumber,m=C.startColumn,E=C.endLineNumber,i=C.endColumn,T=I.startLineNumber,p=I.startColumn,b=I.endLineNumber,f=I.endColumn;return k<T?(k=T,m=p):k===T&&(m=Math.max(m,p)),E>b?(E=b,i=f):E===b&&(i=Math.min(i,f)),k>E||k===E&&m>i?null:new _(k,m,E,i)}equalsRange(C){return _.equalsRange(this,C)}static equalsRange(C,I){return!!C&&!!I&&C.startLineNumber===I.startLineNumber&&C.startColumn===I.startColumn&&C.endLineNumber===I.endLineNumber&&C.endColumn===I.endColumn}getEndPosition(){return _.getEndPosition(this)}static getEndPosition(C){return new P.Position(C.endLineNumber,C.endColumn)}getStartPosition(){return _.getStartPosition(this)}static getStartPosition(C){return new P.Position(C.startLineNumber,C.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(C,I){return new _(this.startLineNumber,this.startColumn,C,I)}setStartPosition(C,I){return new _(C,I,this.endLineNumber,this.endColumn)}collapseToStart(){return _.collapseToStart(this)}static collapseToStart(C){return new _(C.startLineNumber,C.startColumn,C.startLineNumber,C.startColumn)}static fromPositions(C,I=C){return new _(C.lineNumber,C.column,I.lineNumber,I.column)}static lift(C){return C?new _(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn):null}static isIRange(C){return C&&typeof C.startLineNumber=="number"&&typeof C.startColumn=="number"&&typeof C.endLineNumber=="number"&&typeof C.endColumn=="number"}static areIntersectingOrTouching(C,I){return!(C.endLineNumber<I.startLineNumber||C.endLineNumber===I.startLineNumber&&C.endColumn<I.startColumn||I.endLineNumber<C.startLineNumber||I.endLineNumber===C.startLineNumber&&I.endColumn<C.startColumn)}static areIntersecting(C,I){return!(C.endLineNumber<I.startLineNumber||C.endLineNumber===I.startLineNumber&&C.endColumn<=I.startColumn||I.endLineNumber<C.startLineNumber||I.endLineNumber===C.startLineNumber&&I.endColumn<=C.startColumn)}static compareRangesUsingStarts(C,I){if(C&&I){const E=C.startLineNumber|0,i=I.startLineNumber|0;if(E===i){const T=C.startColumn|0,p=I.startColumn|0;if(T===p){const b=C.endLineNumber|0,f=I.endLineNumber|0;if(b===f){const w=C.endColumn|0,d=I.endColumn|0;return w-d}return b-f}return T-p}return E-i}return(C?1:0)-(I?1:0)}static compareRangesUsingEnds(C,I){return C.endLineNumber===I.endLineNumber?C.endColumn===I.endColumn?C.startLineNumber===I.startLineNumber?C.startColumn-I.startColumn:C.startLineNumber-I.startLineNumber:C.endColumn-I.endColumn:C.endLineNumber-I.endLineNumber}static spansMultipleLines(C){return C.endLineNumber>C.startLineNumber}}e.Range=_}),define(he[133],de([0,1,55,3]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function y(C,I,k,m){if(Array.isArray(C)){let E=0;for(const i of C){const T=y(i,I,k,m);if(T===10)return T;T>E&&(E=T)}return E}else{if(typeof C=="string")return m?C==="*"?5:C===k?10:0:0;if(C){const{language:E,pattern:i,scheme:T,hasAccessToAllModels:p}=C;if(!m&&!p)return 0;let b=0;if(T)if(T===I.scheme)b=10;else if(T==="*")b=5;else return 0;if(E)if(E===k)b=10;else if(E==="*")b=Math.max(b,5);else return 0;if(i){let f;if(typeof i=="string"?f=i:f={...i,base:(0,_.normalize)(i.base)},f===I.fsPath||(0,P.match)(f,I.fsPath))b=10;else return 0}return b}else return 0}}e.score=y}),define(he[134],de([0,1,6,2]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistryImpl=void 0;class y{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new P.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(I){this._onDidChange.fire({changedLanguages:I,changedColorMap:!1})}register(I,k){return this._map.set(I,k),this.fire([I]),(0,_.toDisposable)(()=>{this._map.get(I)===k&&(this._map.delete(I),this.fire([I]))})}registerPromise(I,k){let m=null,E=!1;return this._promises.set(I,k.then(i=>{this._promises.delete(I),!(E||!i)&&(m=this.register(I,i))})),(0,_.toDisposable)(()=>{E=!0,m&&m.dispose()})}getPromise(I){const k=this.get(I);if(k)return Promise.resolve(k);const m=this._promises.get(I);return m?m.then(E=>this.get(I)):null}get(I){return this._map.get(I)||null}setColorMap(I){this._colorMap=I,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistryImpl=y}),define(he[135],de([9,10]),function(Z,e){return Z.create("vs/base/common/date",e)}),define(he[136],de([0,1,135]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toLocalISOString=e.fromNow=void 0;const _=60,y=_*60,C=y*24,I=C*7,k=C*30,m=C*365;function E(T,p){typeof T!="number"&&(T=T.getTime());const b=Math.round((new Date().getTime()-T)/1e3);if(b<-30)return(0,P.localize)(0,null,E(new Date().getTime()+b*1e3,!1));if(b<30)return(0,P.localize)(1,null);let f;return b<_?(f=b,p?f===1?(0,P.localize)(2,null,f):(0,P.localize)(3,null,f):f===1?(0,P.localize)(4,null,f):(0,P.localize)(5,null,f)):b<y?(f=Math.floor(b/_),p?f===1?(0,P.localize)(6,null,f):(0,P.localize)(7,null,f):f===1?(0,P.localize)(8,null,f):(0,P.localize)(9,null,f)):b<C?(f=Math.floor(b/y),p?f===1?(0,P.localize)(10,null,f):(0,P.localize)(11,null,f):f===1?(0,P.localize)(12,null,f):(0,P.localize)(13,null,f)):b<I?(f=Math.floor(b/C),p?f===1?(0,P.localize)(14,null,f):(0,P.localize)(15,null,f):f===1?(0,P.localize)(16,null,f):(0,P.localize)(17,null,f)):b<k?(f=Math.floor(b/I),p?f===1?(0,P.localize)(18,null,f):(0,P.localize)(19,null,f):f===1?(0,P.localize)(20,null,f):(0,P.localize)(21,null,f)):b<m?(f=Math.floor(b/k),p?f===1?(0,P.localize)(22,null,f):(0,P.localize)(23,null,f):f===1?(0,P.localize)(24,null,f):(0,P.localize)(25,null,f)):(f=Math.floor(b/m),p?f===1?(0,P.localize)(26,null,f):(0,P.localize)(27,null,f):f===1?(0,P.localize)(28,null,f):(0,P.localize)(29,null,f))}e.fromNow=E;function i(T){return T.getFullYear()+"-"+String(T.getMonth()+1).padStart(2,"0")+"-"+String(T.getDate()).padStart(2,"0")+"T"+String(T.getHours()).padStart(2,"0")+":"+String(T.getMinutes()).padStart(2,"0")+":"+String(T.getSeconds()).padStart(2,"0")+"."+(T.getMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}e.toLocalISOString=i}),define(he[137],de([9,10]),function(Z,e){return Z.create("vs/base/common/errorMessage",e)}),define(he[36],de([0,1,18,12,137]),function(Z,e,P,_,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function C(E,i){return i&&(E.stack||E.stacktrace)?y.localize(0,null,k(E),I(E.stack)||I(E.stacktrace)):k(E)}function I(E){return Array.isArray(E)?E.join(`
`):E}function k(E){return typeof E.code=="string"&&typeof E.errno=="number"&&typeof E.syscall=="string"?y.localize(1,null,E.message):E.message||y.localize(2,null)}function m(E=null,i=!1){if(!E)return y.localize(3,null);if(Array.isArray(E)){const T=P.coalesce(E),p=m(T[0],i);return T.length>1?y.localize(4,null,p,T.length):p}if(_.isString(E))return E;if(E.detail){const T=E.detail;if(T.error)return C(T.error,i);if(T.exception)return C(T.exception,i)}return E.stack?C(E,i):E.message?E.message:y.localize(5,null)}e.toErrorMessage=m}),define(he[138],de([9,10]),function(Z,e){return Z.create("vs/base/common/jsonErrorMessages",e)}),define(he[139],de([0,1,138]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getParseErrorMessage=void 0;function _(y){switch(y){case 1:return(0,P.localize)(0,null);case 2:return(0,P.localize)(1,null);case 3:return(0,P.localize)(2,null);case 4:return(0,P.localize)(3,null);case 5:return(0,P.localize)(4,null);case 6:return(0,P.localize)(5,null);case 7:return(0,P.localize)(6,null);case 8:return(0,P.localize)(7,null);case 9:return(0,P.localize)(8,null);default:return""}}e.getParseErrorMessage=_}),define(he[140],de([9,10]),function(Z,e){return Z.create("vs/base/node/processes",e)}),define(he[60],de([0,1,40,29,8,20,3,4,22,76,12,124,16,140]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.removeDangerousEnvVariables=e.TerminateResponseCode=e.Source=void 0,Object.defineProperty(e,"Source",{enumerable:!0,get:function(){return E.Source}}),Object.defineProperty(e,"TerminateResponseCode",{enumerable:!0,get:function(){return E.TerminateResponseCode}});function f(n){switch(n){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function w(n,s){if(k.isWindows)try{const r={stdio:["pipe","pipe","ignore"]};s&&(r.cwd=s);const t=P.execFile("taskkill",["/T","/F","/PID",n.pid.toString()],r);return new Promise(o=>{t.once("error",u=>{o({success:!1,error:u})}),t.once("exit",(u,v)=>{o(u===0?{success:!0}:{success:!1,code:u!==null?u:1})})})}catch(r){return Promise.resolve({success:!1,error:r,code:r.status?f(r.status):1})}else if(k.isLinux||k.isMacintosh)try{const r=y.FileAccess.asFileUri("vs/base/node/terminateProcess.sh",Z).fsPath;return new Promise(t=>{P.execFile(r,[n.pid.toString()],{encoding:"utf8",shell:!0},(o,u,v)=>{t(o?{success:!1,error:o}:{success:!0})})})}catch(r){return Promise.resolve({success:!1,error:r})}else n.kill("SIGKILL");return Promise.resolve({success:!0})}function d(n){!n||(delete n.DEBUG,k.isMacintosh&&delete n.DYLD_LIBRARY_PATH,k.isLinux&&delete n.LD_PRELOAD)}e.removeDangerousEnvVariables=d;function S(n=m.env){return n.comspec||"cmd.exe"}e.getWindowsShell=S;class g{constructor(s,r,t,o){if(r!==void 0&&t!==void 0&&o!==void 0)this.cmd=s,this.args=r,this.shell=t,this.options=o;else{const u=s;this.cmd=u.command,this.shell=u.isShellCommand,this.args=u.args.slice(0),this.options=u.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const u=Object.create(null);Object.keys(m.env).forEach(v=>{u[v]=m.env[v]}),Object.keys(this.options.env).forEach(v=>{u[v]=this.options.env[v]}),this.options.env=u}}getSanitizedCommand(){let s=this.cmd.toLowerCase();const r=s.lastIndexOf(I.sep);return r!==-1&&(s=s.substring(r+1)),g.WellKnowCommands[s]?s:"other"}start(s){return k.isWindows&&(this.options&&this.options.cwd&&_.isUNC(this.options.cwd)||!this.options&&_.isUNC(m.cwd()))?Promise.reject(new Error(b.localize(0,null))):this.useExec().then(r=>{let t,o;const u=new Promise((v,D)=>{t=v,o=D});if(r){let v=this.cmd;this.args&&(v=v+" "+this.args.join(" ")),this.childProcess=P.exec(v,this.options,(D,h,A)=>{this.childProcess=null;const N=D;N&&N.killed?o({killed:this.terminateRequested,stdout:h.toString(),stderr:A.toString()}):this.handleExec(t,s,D,h,A)})}else{let v=null;const D=h=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(h,t,s,o);const A={terminated:this.terminateRequested};i.isNumber(h)&&(A.cmdCode=h),t(A)};if(this.shell&&k.isWindows){const h=C.deepClone(this.options);h.windowsVerbatimArguments=!0,h.detached=!1;let A=!1,N=!1;const $=[];let K=this.ensureQuotes(this.cmd);$.push(K.value),A=K.quoted,this.args&&this.args.forEach(F=>{K=this.ensureQuotes(F),$.push(K.value),N=N&&K.quoted});const j=["/s","/c"];A?N?j.push('"'+$.join(" ")+'"'):$.length>1?j.push('"'+$[0]+'" '+$.slice(1).join(" ")):j.push('"'+$[0]+'"'):j.push($.join(" ")),v=P.spawn(S(),j,h)}else this.cmd&&(v=P.spawn(this.cmd,this.args,this.options));v&&(this.childProcess=v,this.childProcessPromise=Promise.resolve(v),this.pidResolve&&(this.pidResolve(i.isNumber(v.pid)?v.pid:-1),this.pidResolve=void 0),v.on("error",h=>{this.childProcess=null,o({terminated:this.terminateRequested,error:h})}),v.pid&&(this.childProcess.on("close",D),this.handleSpawn(v,t,s,o,!0)))}return u})}handleClose(s,r,t,o){}ensureQuotes(s){return g.regexp.test(s)?{value:'"'+s+'"',quoted:!0}:{value:s,quoted:s.length>0&&s[0]==='"'&&s[s.length-1]==='"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(s=>s.pid,s=>-1):new Promise(s=>{this.pidResolve=s})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(s=>(this.terminateRequested=!0,w(s,this.options.cwd).then(r=>(r.success&&(this.childProcess=null),r))),s=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(s=>{if(!this.shell||!k.isWindows)return s(!1);const r=P.spawn(S(),["/s","/c"]);r.on("error",t=>s(!0)),r.on("exit",t=>s(!1))})}}e.AbstractProcess=g,g.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},g.regexp=/^[^"].* .*[^"]/;class c extends g{constructor(s,r,t,o){super(s,r,t,o);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(s,r,t,o,u){[o,u].forEach((v,D)=>{const h=new T.LineDecoder;h.write(v).forEach($=>{r({line:$,source:D===0?0:1})});const N=h.end();N&&r({line:N,source:D===0?0:1})}),s({terminated:this.terminateRequested,error:t})}handleSpawn(s,r,t,o,u){const v=new T.LineDecoder,D=new T.LineDecoder;s.stdout.on("data",h=>{v.write(h).forEach(N=>t({line:N,source:0}))}),s.stderr.on("data",h=>{D.write(h).forEach(N=>t({line:N,source:1}))}),this.stdoutLineDecoder=v,this.stderrLineDecoder=D}handleClose(s,r,t,o){const u=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;u&&t({line:u,source:0});const v=this.stderrLineDecoder?this.stderrLineDecoder.end():null;v&&t({line:v,source:1})}}e.LineProcess=c;function a(n){let s=[],r=!1;const t=function(o){if(r){s.push(o);return}(!n.send(o,v=>{if(v&&console.error(v),r=!1,s.length>0){const D=s.slice(0);s=[],D.forEach(h=>t(h))}})||k.isWindows)&&(r=!0)};return{send:t}}e.createQueuedSender=a;var l;(function(n){async function s(r,t,o){if(I.isAbsolute(r))return r;if(t===void 0&&(t=m.cwd()),I.dirname(r)!=="."||(o===void 0&&i.isString(m.env.PATH)&&(o=m.env.PATH.split(I.delimiter)),o===void 0||o.length===0))return I.join(t,r);async function v(D){if(await p.Promises.exists(D)){let h;try{h=await p.Promises.stat(D)}catch(A){A.message.startsWith("EACCES")&&(h=await p.Promises.lstat(D))}return h?!h.isDirectory():!1}return!1}for(let D of o){let h;if(I.isAbsolute(D)?h=I.join(D,r):h=I.join(t,D,r),await v(h))return h;let A=h+".com";if(await v(A)||(A=h+".exe",await v(A)))return A}return I.join(t,r)}n.findExecutable=s})(l=e.win32||(e.win32={}))}),define(he[141],de([0,1,25,4,83,60]),function(Z,e,P,_,y,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSystemShellSync=e.getSystemShell=void 0;async function I(b,f){return b===1?_.isWindows?T():C.getWindowsShell(f):E(b,f)}e.getSystemShell=I;function k(b,f){return b===1?_.isWindows?p(f):C.getWindowsShell(f):E(b,f)}e.getSystemShellSync=k;let m=null;function E(b,f){if(_.isLinux&&b===2||_.isMacintosh&&b===3)return"/bin/bash";if(!m){let w;if(_.isWindows)w="/bin/bash";else{if(w=f.SHELL,!w)try{w=(0,P.userInfo)().shell}catch(d){}w||(w="sh"),w==="/bin/false"&&(w="/bin/bash")}m=w}return m}let i=null;async function T(){return i||(i=(await(0,y.getFirstAvailablePowerShellInstallation)()).exePath),i}function p(b){if(i)return i;const f=_.isWindows&&parseFloat((0,P.release)())>=10,w=b.hasOwnProperty("PROCESSOR_ARCHITEW6432"),d=`${b.windir}\\${w?"Sysnative":"System32"}\\WindowsPowerShell\\v1.0\\powershell.exe`;return f?d:C.getWindowsShell(b)}}),define(he[51],de([0,1,40,13,17,23,80,11,6,2,20,60,35]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Client=e.Server=void 0;class b extends p.ChannelServer{constructor(d){super({send:S=>{try{process.send&&process.send(S.buffer.toString("base64"))}catch(g){}},onMessage:m.Event.fromNodeEventEmitter(process,"message",S=>y.VSBuffer.wrap(Buffer.from(S,"base64")))},d);process.once("disconnect",()=>this.dispose())}}e.Server=b;class f{constructor(d,S){this.modulePath=d,this.options=S,this.activeRequests=new Set,this.channels=new Map,this._onDidProcessExit=new m.Emitter,this.onDidProcessExit=this._onDidProcessExit.event;const g=S&&S.timeout?S.timeout:6e4;this.disposeDelayer=new _.Delayer(g),this.child=null,this._client=null}getChannel(d){const S=this;return{call(g,c,a){return S.requestPromise(d,g,c,a)},listen(g,c){return S.requestEvent(d,g,c)}}}requestPromise(d,S,g,c=C.CancellationToken.None){if(!this.disposeDelayer)return Promise.reject(new Error("disposed"));if(c.isCancellationRequested)return Promise.reject(k.canceled());this.disposeDelayer.cancel();const a=this.getCachedChannel(d),l=(0,_.createCancelablePromise)(r=>a.call(S,g,r)),n=c.onCancellationRequested(()=>l.cancel()),s=(0,E.toDisposable)(()=>l.cancel());return this.activeRequests.add(s),l.finally(()=>{n.dispose(),this.activeRequests.delete(s),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}),l}requestEvent(d,S,g){if(!this.disposeDelayer)return m.Event.None;this.disposeDelayer.cancel();let c;const a=new m.Emitter({onFirstListenerAdd:()=>{c=this.getCachedChannel(d).listen(S,g)(a.fire,a),this.activeRequests.add(c)},onLastListenerRemove:()=>{this.activeRequests.delete(c),c.dispose(),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}});return a.event}get client(){if(!this._client){const d=this.options&&this.options.args?this.options.args:[],S=Object.create(null);S.env={...(0,i.deepClone)(process.env),VSCODE_PARENT_PID:String(process.pid)},this.options&&this.options.env&&(S.env={...S.env,...this.options.env}),this.options&&this.options.freshExecArgv&&(S.execArgv=[]),this.options&&typeof this.options.debug=="number"&&(S.execArgv=["--nolazy","--inspect="+this.options.debug]),this.options&&typeof this.options.debugBrk=="number"&&(S.execArgv=["--nolazy","--inspect-brk="+this.options.debugBrk]),S.execArgv===void 0&&(S.execArgv=process.execArgv.filter(t=>!/^--inspect(-brk)?=/.test(t))),(0,T.removeDangerousEnvVariables)(S.env),this.child=(0,P.fork)(this.modulePath,d,S);const g=new m.Emitter;m.Event.fromNodeEventEmitter(this.child,"message",t=>t)(t=>{if((0,I.isRemoteConsoleLog)(t)){(0,I.log)(t,`IPC Library: ${this.options.serverName}`);return}g.fire(y.VSBuffer.wrap(Buffer.from(t,"base64")))});const a=this.options.useQueue?(0,T.createQueuedSender)(this.child):this.child,l=t=>this.child&&this.child.connected&&a.send(t.buffer.toString("base64")),n=g.event,s={send:l,onMessage:n};this._client=new p.ChannelClient(s);const r=()=>this.disposeClient();process.once("exit",r),this.child.on("error",t=>console.warn('IPC "'+this.options.serverName+'" errored with '+t)),this.child.on("exit",(t,o)=>{process.removeListener("exit",r),this.activeRequests.forEach(u=>(0,E.dispose)(u)),this.activeRequests.clear(),t!==0&&o!=="SIGTERM"&&console.warn('IPC "'+this.options.serverName+'" crashed with exit code '+t+" and signal "+o),this.disposeDelayer&&this.disposeDelayer.cancel(),this.disposeClient(),this._onDidProcessExit.fire({code:t,signal:o})})}return this._client}getCachedChannel(d){let S=this.channels.get(d);return S||(S=this.client.getChannel(d),this.channels.set(d,S)),S}disposeClient(){this._client&&(this.child&&(this.child.kill(),this.child=null),this._client=null,this.channels.clear())}dispose(){this._onDidProcessExit.dispose(),this.disposeDelayer&&(this.disposeDelayer.cancel(),this.disposeDelayer=void 0),this.disposeClient(),this.activeRequests.clear()}}e.Client=f}),define(he[142],de([9,10]),function(Z,e){return Z.create("vs/base/node/zip",e)}),define(he[143],de([9,10]),function(Z,e){return Z.create("vs/platform/configuration/common/configurationRegistry",e)}),define(he[144],de([9,10]),function(Z,e){return Z.create("vs/platform/environment/node/argv",e)}),define(he[145],de([9,10]),function(Z,e){return Z.create("vs/platform/environment/node/argvHelper",e)}),define(he[146],de([9,10]),function(Z,e){return Z.create("vs/platform/environment/node/shellEnv",e)}),define(he[147],de([9,10]),function(Z,e){return Z.create("vs/platform/extensionManagement/common/abstractExtensionManagementService",e)}),define(he[148],de([9,10]),function(Z,e){return Z.create("vs/platform/extensionManagement/common/extensionManagement",e)}),define(he[149],de([9,10]),function(Z,e){return Z.create("vs/platform/extensionManagement/common/extensionManagementCLIService",e)}),define(he[150],de([9,10]),function(Z,e){return Z.create("vs/platform/extensionManagement/node/extensionManagementService",e)}),define(he[151],de([9,10]),function(Z,e){return Z.create("vs/platform/extensionManagement/node/extensionManagementUtil",e)}),define(he[152],de([9,10]),function(Z,e){return Z.create("vs/platform/extensionManagement/node/extensionsScanner",e)}),define(he[153],de([9,10]),function(Z,e){return Z.create("vs/platform/extensions/common/extensionValidator",e)}),define(he[154],de([9,10]),function(Z,e){return Z.create("vs/platform/files/common/fileService",e)}),define(he[155],de([9,10]),function(Z,e){return Z.create("vs/platform/files/common/files",e)}),define(he[156],de([9,10]),function(Z,e){return Z.create("vs/platform/files/common/io",e)}),define(he[157],de([9,10]),function(Z,e){return Z.create("vs/platform/files/node/diskFileSystemProvider",e)}),define(he[158],de([9,10]),function(Z,e){return Z.create("vs/platform/markers/common/markers",e)}),define(he[159],de([9,10]),function(Z,e){return Z.create("vs/platform/request/common/request",e)}),define(he[160],de([9,10]),function(Z,e){return Z.create("vs/platform/telemetry/common/telemetryService",e)}),define(he[161],de([9,10]),function(Z,e){return Z.create("vs/platform/terminal/common/terminalPlatformConfiguration",e)}),define(he[162],de([9,10]),function(Z,e){return Z.create("vs/platform/workspaces/common/workspaces",e)}),define(he[163],de([9,10]),function(Z,e){return Z.create("vs/server/remoteAgentEnvironmentImpl",e)}),define(he[164],de([9,10]),function(Z,e){return Z.create("vs/server/serverEnvironmentService",e)}),define(he[165],de([9,10]),function(Z,e){return Z.create("vs/workbench/common/editor",e)}),define(he[166],de([9,10]),function(Z,e){return Z.create("vs/workbench/services/configurationResolver/common/variableResolver",e)}),define(he[167],de([9,10]),function(Z,e){return Z.create("vs/workbench/services/extensions/node/extensionPoints",e)}),define(he[168],de([0,1,6,2]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionHostDebugChannelClient=e.ExtensionHostDebugBroadcastChannel=void 0;class y{constructor(){this._onCloseEmitter=new P.Emitter,this._onReloadEmitter=new P.Emitter,this._onTerminateEmitter=new P.Emitter,this._onAttachEmitter=new P.Emitter}call(k,m,E){switch(m){case"close":return Promise.resolve(this._onCloseEmitter.fire({sessionId:E[0]}));case"reload":return Promise.resolve(this._onReloadEmitter.fire({sessionId:E[0]}));case"terminate":return Promise.resolve(this._onTerminateEmitter.fire({sessionId:E[0]}));case"attach":return Promise.resolve(this._onAttachEmitter.fire({sessionId:E[0],port:E[1],subId:E[2]}))}throw new Error("Method not implemented.")}listen(k,m,E){switch(m){case"close":return this._onCloseEmitter.event;case"reload":return this._onReloadEmitter.event;case"terminate":return this._onTerminateEmitter.event;case"attach":return this._onAttachEmitter.event}throw new Error("Method not implemented.")}}e.ExtensionHostDebugBroadcastChannel=y,y.ChannelName="extensionhostdebugservice";class C extends _.Disposable{constructor(k){super();this.channel=k}reload(k){this.channel.call("reload",[k])}get onReload(){return this.channel.listen("reload")}close(k){this.channel.call("close",[k])}get onClose(){return this.channel.listen("close")}attachSession(k,m,E){this.channel.call("attach",[k,m,E])}get onAttachSession(){return this.channel.listen("attach")}terminateSession(k,m){this.channel.call("terminate",[k,m])}get onTerminateSession(){return this.channel.listen("terminate")}openExtensionDevelopmentHostWindow(k,m){return this.channel.call("openExtensionDevelopmentHostWindow",[k,m])}}e.ExtensionHostDebugChannelClient=C}),define(he[169],de([0,1,5]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DownloadServiceChannelClient=e.DownloadServiceChannel=void 0;class _{constructor(I){this.service=I}listen(I,k,m){throw new Error("Invalid listen")}call(I,k,m){switch(k){case"download":return this.service.download(P.URI.revive(m[0]),P.URI.revive(m[1]))}throw new Error("Invalid call")}}e.DownloadServiceChannel=_;class y{constructor(I,k){this.channel=I,this.getUriTransformer=k}async download(I,k){const m=this.getUriTransformer();m&&(I=m.transformOutgoingURI(I),k=m.transformOutgoingURI(k)),await this.channel.call("download",[I,k])}}e.DownloadServiceChannelClient=y}),define(he[170],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextEditorSelectionRevealType=e.EditorOpenContext=e.EditorResolution=e.EditorActivation=void 0;var P;(function(I){I[I.ACTIVATE=1]="ACTIVATE",I[I.RESTORE=2]="RESTORE",I[I.PRESERVE=3]="PRESERVE"})(P=e.EditorActivation||(e.EditorActivation={}));var _;(function(I){I[I.PICK=0]="PICK",I[I.DISABLED=1]="DISABLED",I[I.EXCLUSIVE_ONLY=2]="EXCLUSIVE_ONLY"})(_=e.EditorResolution||(e.EditorResolution={}));var y;(function(I){I[I.API=0]="API",I[I.USER=1]="USER"})(y=e.EditorOpenContext||(e.EditorOpenContext={}));var C;(function(I){I[I.Center=0]="Center",I[I.CenterIfOutsideViewport=1]="CenterIfOutsideViewport",I[I.NearTop=2]="NearTop",I[I.NearTopIfOutsideViewport=3]="NearTopIfOutsideViewport"})(C=e.TextEditorSelectionRevealType||(e.TextEditorSelectionRevealType={}))}),define(he[87],de([0,1,136,74,8,3,22,21,5]),function(Z,e,P,_,y,C,I,k,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parsePtyHostPort=e.parseSearchPort=e.parseExtensionHostPort=e.AbstractNativeEnvironmentService=void 0;class E{constructor(w,d,S){this._args=w,this.paths=d,this.productService=S}get appRoot(){return(0,C.dirname)(y.FileAccess.asFileUri("",Z).fsPath)}get userHome(){return m.URI.file(this.paths.homeDir)}get userDataPath(){return this.paths.userDataDir}get appSettingsHome(){return m.URI.file((0,C.join)(this.userDataPath,"User"))}get tmpDir(){return m.URI.file(this.paths.tmpDir)}get userRoamingDataHome(){return this.appSettingsHome}get settingsResource(){return(0,k.joinPath)(this.userRoamingDataHome,"settings.json")}get userDataSyncHome(){return(0,k.joinPath)(this.userRoamingDataHome,"sync")}get logsPath(){if(!this.args.logsPath){const w=(0,P.toLocalISOString)(new Date).replace(/-|:|\.\d+Z$/g,"");this.args.logsPath=(0,C.join)(this.userDataPath,"logs",w)}return this.args.logsPath}get userDataSyncLogResource(){return m.URI.file((0,C.join)(this.logsPath,"userDataSync.log"))}get sync(){return this.args.sync}get machineSettingsResource(){return(0,k.joinPath)(m.URI.file((0,C.join)(this.userDataPath,"Machine")),"settings.json")}get globalStorageHome(){return m.URI.joinPath(this.appSettingsHome,"globalStorage")}get workspaceStorageHome(){return m.URI.joinPath(this.appSettingsHome,"workspaceStorage")}get keybindingsResource(){return(0,k.joinPath)(this.userRoamingDataHome,"keybindings.json")}get keyboardLayoutResource(){return(0,k.joinPath)(this.userRoamingDataHome,"keyboardLayout.json")}get argvResource(){const w=I.env.VSCODE_PORTABLE;return w?m.URI.file((0,C.join)(w,"argv.json")):(0,k.joinPath)(this.userHome,this.productService.dataFolderName,"argv.json")}get snippetsHome(){return(0,k.joinPath)(this.userRoamingDataHome,"snippets")}get isExtensionDevelopment(){return!!this.args.extensionDevelopmentPath}get untitledWorkspacesHome(){return m.URI.file((0,C.join)(this.userDataPath,"Workspaces"))}get installSourcePath(){return(0,C.join)(this.userDataPath,"installSource")}get builtinExtensionsPath(){const w=this.args["builtin-extensions-dir"];return w?(0,C.resolve)(w):(0,C.normalize)((0,C.join)(y.FileAccess.asFileUri("",Z).fsPath,"..","extensions"))}get extensionsDownloadPath(){const w=this.args["extensions-download-dir"];return w?(0,C.resolve)(w):(0,C.join)(this.userDataPath,"CachedExtensionVSIXs")}get extensionsPath(){const w=this.args["extensions-dir"];if(w)return(0,C.resolve)(w);const d=I.env.VSCODE_EXTENSIONS;if(d)return d;const S=I.env.VSCODE_PORTABLE;return S?(0,C.join)(S,"extensions"):(0,k.joinPath)(this.userHome,this.productService.dataFolderName,"extensions").fsPath}get extensionDevelopmentLocationURI(){const w=this.args.extensionDevelopmentPath;if(Array.isArray(w))return w.map(d=>/^[^:/?#]+?:\/\//.test(d)?m.URI.parse(d):m.URI.file((0,C.normalize)(d)))}get extensionDevelopmentKind(){return this.args.extensionDevelopmentKind?.map(w=>w==="ui"||w==="workspace"||w==="web"?w:"workspace")}get extensionTestsLocationURI(){const w=this.args.extensionTestsPath;if(w)return/^[^:/?#]+?:\/\//.test(w)?m.URI.parse(w):m.URI.file((0,C.normalize)(w))}get disableExtensions(){if(this.args["disable-extensions"])return!0;const w=this.args["disable-extension"];if(w){if(typeof w=="string")return[w];if(Array.isArray(w)&&w.length>0)return w}return!1}get debugExtensionHost(){return i(this.args,this.isBuilt)}get debugRenderer(){return!!this.args.debugRenderer}get isBuilt(){return!I.env.VSCODE_DEV}get verbose(){return!!this.args.verbose}get logLevel(){return this.args.log}get serviceMachineIdResource(){return(0,k.joinPath)(m.URI.file(this.userDataPath),"machineid")}get crashReporterId(){return this.args["crash-reporter-id"]}get crashReporterDirectory(){return this.args["crash-reporter-directory"]}get driverHandle(){return this.args.driver}get telemetryLogResource(){return m.URI.file((0,C.join)(this.logsPath,"telemetry.log"))}get disableTelemetry(){return!!this.args["disable-telemetry"]}get disableWorkspaceTrust(){return!!this.args["disable-workspace-trust"]}get args(){return this._args}}Ne([_.memoize],E.prototype,"appRoot",null),Ne([_.memoize],E.prototype,"userHome",null),Ne([_.memoize],E.prototype,"userDataPath",null),Ne([_.memoize],E.prototype,"appSettingsHome",null),Ne([_.memoize],E.prototype,"tmpDir",null),Ne([_.memoize],E.prototype,"userRoamingDataHome",null),Ne([_.memoize],E.prototype,"settingsResource",null),Ne([_.memoize],E.prototype,"userDataSyncHome",null),Ne([_.memoize],E.prototype,"userDataSyncLogResource",null),Ne([_.memoize],E.prototype,"sync",null),Ne([_.memoize],E.prototype,"machineSettingsResource",null),Ne([_.memoize],E.prototype,"globalStorageHome",null),Ne([_.memoize],E.prototype,"workspaceStorageHome",null),Ne([_.memoize],E.prototype,"keybindingsResource",null),Ne([_.memoize],E.prototype,"keyboardLayoutResource",null),Ne([_.memoize],E.prototype,"argvResource",null),Ne([_.memoize],E.prototype,"snippetsHome",null),Ne([_.memoize],E.prototype,"isExtensionDevelopment",null),Ne([_.memoize],E.prototype,"untitledWorkspacesHome",null),Ne([_.memoize],E.prototype,"installSourcePath",null),Ne([_.memoize],E.prototype,"builtinExtensionsPath",null),Ne([_.memoize],E.prototype,"extensionsPath",null),Ne([_.memoize],E.prototype,"extensionDevelopmentLocationURI",null),Ne([_.memoize],E.prototype,"extensionDevelopmentKind",null),Ne([_.memoize],E.prototype,"extensionTestsLocationURI",null),Ne([_.memoize],E.prototype,"debugExtensionHost",null),Ne([_.memoize],E.prototype,"serviceMachineIdResource",null),Ne([_.memoize],E.prototype,"telemetryLogResource",null),Ne([_.memoize],E.prototype,"disableWorkspaceTrust",null),e.AbstractNativeEnvironmentService=E;function i(f,w){return b(f["inspect-extensions"],f["inspect-brk-extensions"],5870,w,f.debugId,f.extensionEnvironment)}e.parseExtensionHostPort=i;function T(f,w){return b(f["inspect-search"],f["inspect-brk-search"],5876,w,f.extensionEnvironment)}e.parseSearchPort=T;function p(f,w){return b(f["inspect-ptyhost"],f["inspect-brk-ptyhost"],5877,w,f.extensionEnvironment)}e.parsePtyHostPort=p;function b(f,w,d,S,g,c){const l=Number(w||f)||(S?null:d),n=l?Boolean(!!w):!1;let s;if(c)try{s=JSON.parse(c)}catch{}return{port:l,break:n,debugId:g,env:s}}}),define(he[61],de([0,1,248,4,144]),function(Z,e,P,_,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildVersionMessage=e.buildHelpMessage=e.formatOptions=e.parseArgs=e.OPTIONS=void 0;const C={o:(0,y.localize)(0,null),e:(0,y.localize)(1,null),t:(0,y.localize)(2,null)};e.OPTIONS={diff:{type:"boolean",cat:"o",alias:"d",args:["file","file"],description:(0,y.localize)(3,null)},add:{type:"boolean",cat:"o",alias:"a",args:"folder",description:(0,y.localize)(4,null)},goto:{type:"boolean",cat:"o",alias:"g",args:"file:line[:character]",description:(0,y.localize)(5,null)},"new-window":{type:"boolean",cat:"o",alias:"n",description:(0,y.localize)(6,null)},"reuse-window":{type:"boolean",cat:"o",alias:"r",description:(0,y.localize)(7,null)},wait:{type:"boolean",cat:"o",alias:"w",description:(0,y.localize)(8,null)},waitMarkerFilePath:{type:"string"},locale:{type:"string",cat:"o",args:"locale",description:(0,y.localize)(9,null)},"user-data-dir":{type:"string",cat:"o",args:"dir",description:(0,y.localize)(10,null)},help:{type:"boolean",cat:"o",alias:"h",description:(0,y.localize)(11,null)},"extensions-dir":{type:"string",deprecates:"extensionHomePath",cat:"e",args:"dir",description:(0,y.localize)(12,null)},"extensions-download-dir":{type:"string"},"builtin-extensions-dir":{type:"string"},"list-extensions":{type:"boolean",cat:"e",description:(0,y.localize)(13,null)},"show-versions":{type:"boolean",cat:"e",description:(0,y.localize)(14,null)},category:{type:"string",cat:"e",description:(0,y.localize)(15,null),args:"category"},"install-extension":{type:"string[]",cat:"e",args:"extension-id[@version] | path-to-vsix",description:(0,y.localize)(16,null)},"uninstall-extension":{type:"string[]",cat:"e",args:"extension-id",description:(0,y.localize)(17,null)},"enable-proposed-api":{type:"string[]",cat:"e",args:"extension-id",description:(0,y.localize)(18,null)},version:{type:"boolean",cat:"t",alias:"v",description:(0,y.localize)(19,null)},verbose:{type:"boolean",cat:"t",description:(0,y.localize)(20,null)},log:{type:"string",cat:"t",args:"level",description:(0,y.localize)(21,null)},status:{type:"boolean",alias:"s",cat:"t",description:(0,y.localize)(22,null)},"prof-startup":{type:"boolean",cat:"t",description:(0,y.localize)(23,null)},"prof-append-timers":{type:"string"},"no-cached-data":{type:"boolean"},"prof-startup-prefix":{type:"string"},"prof-v8-extensions":{type:"boolean"},"disable-extensions":{type:"boolean",deprecates:"disableExtensions",cat:"t",description:(0,y.localize)(24,null)},"disable-extension":{type:"string[]",cat:"t",args:"extension-id",description:(0,y.localize)(25,null)},sync:{type:"string",cat:"t",description:(0,y.localize)(26,null),args:["on","off"]},"inspect-extensions":{type:"string",deprecates:"debugPluginHost",args:"port",cat:"t",description:(0,y.localize)(27,null)},"inspect-brk-extensions":{type:"string",deprecates:"debugBrkPluginHost",args:"port",cat:"t",description:(0,y.localize)(28,null)},"disable-gpu":{type:"boolean",cat:"t",description:(0,y.localize)(29,null)},"max-memory":{type:"string",cat:"t",description:(0,y.localize)(30,null),args:"memory"},telemetry:{type:"boolean",cat:"t",description:(0,y.localize)(31,null)},remote:{type:"string"},"folder-uri":{type:"string[]",cat:"o",args:"uri"},"file-uri":{type:"string[]",cat:"o",args:"uri"},"locate-extension":{type:"string[]"},extensionDevelopmentPath:{type:"string[]"},extensionDevelopmentKind:{type:"string[]"},extensionTestsPath:{type:"string"},extensionEnvironment:{type:"string"},debugId:{type:"string"},debugRenderer:{type:"boolean"},"inspect-ptyhost":{type:"string"},"inspect-brk-ptyhost":{type:"string"},"inspect-search":{type:"string",deprecates:"debugSearch"},"inspect-brk-search":{type:"string",deprecates:"debugBrkSearch"},"export-default-configuration":{type:"string"},"install-source":{type:"string"},driver:{type:"string"},logExtensionHostCommunication:{type:"boolean"},"skip-release-notes":{type:"boolean"},"skip-welcome":{type:"boolean"},"disable-telemetry":{type:"boolean"},"disable-updates":{type:"boolean"},"disable-keytar":{type:"boolean"},"disable-workspace-trust":{type:"boolean"},"disable-crash-reporter":{type:"boolean"},"crash-reporter-directory":{type:"string"},"crash-reporter-id":{type:"string"},"skip-add-to-recently-opened":{type:"boolean"},"unity-launch":{type:"boolean"},"open-url":{type:"boolean"},"file-write":{type:"boolean"},"file-chmod":{type:"boolean"},"driver-verbose":{type:"boolean"},"install-builtin-extension":{type:"string[]"},force:{type:"boolean"},"do-not-sync":{type:"boolean"},trace:{type:"boolean"},"trace-category-filter":{type:"string"},"trace-options":{type:"string"},"force-user-env":{type:"boolean"},"force-disable-user-env":{type:"boolean"},"open-devtools":{type:"boolean"},__sandbox:{type:"boolean"},logsPath:{type:"string"},"no-proxy-server":{type:"boolean"},"no-sandbox":{type:"boolean",alias:"sandbox"},"proxy-server":{type:"string"},"proxy-bypass-list":{type:"string"},"proxy-pac-url":{type:"string"},"js-flags":{type:"string"},inspect:{type:"string"},"inspect-brk":{type:"string"},nolazy:{type:"boolean"},"force-device-scale-factor":{type:"string"},"force-renderer-accessibility":{type:"boolean"},"ignore-certificate-errors":{type:"boolean"},"allow-insecure-localhost":{type:"boolean"},"log-net-log":{type:"string"},vmodule:{type:"string"},_urls:{type:"string[]"},_:{type:"string[]"}};const I={onUnknownOption:()=>{},onMultipleValues:()=>{}};function k(f,w,d=I){const S={},g=[],c=[];for(let s in w){const r=w[s];r.alias&&(S[s]=r.alias),r.type==="string"||r.type==="string[]"?(g.push(s),r.deprecates&&g.push(r.deprecates)):r.type==="boolean"&&(c.push(s),r.deprecates&&c.push(r.deprecates))}const a=P(f,{string:g,boolean:c,alias:S}),l={},n=a;l._=a._.map(s=>String(s)).filter(s=>s.length>0),delete n._;for(let s in w){const r=w[s];r.alias&&delete n[r.alias];let t=n[s];r.deprecates&&n.hasOwnProperty(r.deprecates)&&(t||(t=n[r.deprecates]),delete n[r.deprecates]),typeof t!="undefined"&&(r.type==="string[]"?t&&!Array.isArray(t)&&(t=[t]):r.type==="string"&&Array.isArray(t)&&(t=t.pop(),d.onMultipleValues(s,t)),l[s]=t),delete n[s]}for(let s in n)d.onUnknownOption(s);return l}e.parseArgs=k;function m(f,w){let d="";return w.args&&(Array.isArray(w.args)?d=` <${w.args.join("> <")}>`:d=` <${w.args}>`),w.alias?`-${w.alias} --${f}${d}`:`--${f}${d}`}function E(f,w){let d=0,S=[];for(const l in f){const n=f[l],s=m(l,n);d=Math.max(d,s.length),S.push([s,n.description])}let g=d+2+1;if(w-g<25)return S.reduce((l,n)=>l.concat([`  ${n[0]}`,`      ${n[1]}`]),[]);let c=w-g-1,a=[];for(const l of S){let n=l[0],s=T(l[1],c),r=i(g-n.length-2);a.push("  "+n+r+s[0]);for(let t=1;t<s.length;t++)a.push(i(g)+s[t])}return a}e.formatOptions=E;function i(f){return" ".repeat(f)}function T(f,w){let d=[];for(;f.length;){let S=f.length<w?f.length:f.lastIndexOf(" ",w),g=f.slice(0,S).trim();f=f.slice(S),d.push(g)}return d}function p(f,w,d,S,g=!0){const c=process.stdout.isTTY&&process.stdout.columns||80;let a=[`${f} ${d}`];a.push(""),a.push(`${(0,y.localize)(32,null)}: ${w} [${(0,y.localize)(33,null)}][${(0,y.localize)(34,null)}...]`),a.push(""),g&&(_.isWindows?a.push((0,y.localize)(35,null,w)):a.push((0,y.localize)(36,null,w)),a.push(""));const l={};for(const n in S){const s=S[n];if(s.description&&s.cat){let r=l[s.cat];r||(l[s.cat]=r={}),r[n]=s}}for(let n in l){const s=n;let r=l[s];r&&(a.push(C[s]),a.push(...E(r,c)),a.push(""))}return a.join(`
`)}e.buildHelpMessage=p;function b(f,w){return`${f||(0,y.localize)(37,null)}
${w||(0,y.localize)(38,null)}
${process.arch}`}e.buildVersionMessage=b}),function(){"use strict";function Z(e,P,_,y){function C(k){const m=I(k),E=[m];return e.isAbsolute(m)||E.unshift(y),e.resolve(...E)}function I(k){const m=process.env.VSCODE_PORTABLE;if(m)return e.join(m,"user-data");let E=process.env.VSCODE_APPDATA;if(E)return e.join(E,_);const i=k["user-data-dir"];if(i)return i;switch(process.platform){case"win32":if(E=process.env.APPDATA,!E){const T=process.env.USERPROFILE;if(typeof T!="string")throw new Error("Windows: Unexpected undefined %USERPROFILE% environment variable");E=e.join(T,"AppData","Roaming")}break;case"darwin":E=e.join(P.homedir(),"Library","Application Support");break;case"linux":E=process.env.XDG_CONFIG_HOME||e.join(P.homedir(),".config");break;default:throw new Error("Platform not supported")}return e.join(E,_)}return{getUserDataPath:C}}if(typeof define=="function")define(he[171],de([0,126,25,8,21,22]),function(e,P,_,y,C,I){const k=C.dirname(y.FileAccess.asFileUri("",e)),m=e.__$__nodeRequire(C.joinPath(k,"package.json").fsPath);return Z(P,_,m.name,I.cwd())});else if(typeof module=="object"&&typeof module.exports=="object"){const e=require("../../../../../package.json"),P=require("path"),_=require("os");module.exports=Z(P,_,e.name,process.env.VSCODE_CWD||process.cwd())}else throw new Error("Unknown context")}(),define(he[172],de([0,1,25,87,171]),function(Z,e,P,_,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NativeEnvironmentService=void 0;class C extends _.AbstractNativeEnvironmentService{constructor(k,m){super(k,{homeDir:(0,P.homedir)(),tmpDir:(0,P.tmpdir)(),userDataDir:(0,y.getUserDataPath)(k)},m)}}e.NativeEnvironmentService=C}),define(he[173],de([0,1,20]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.localizeManifest=void 0;const _=/^%([\w\d.-]+)%$/i;function y(C,I){const k=m=>{if(typeof m!="string")return;const E=_.exec(m);if(!E)return;const i=I[E[1]]??m;return typeof i=="string"?i:typeof i.message=="string"?i.message:m};return(0,P.cloneAndChange)(C,k)}e.localizeManifest=y}),define(he[62],de([0,1,153]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEngineValid=e.isValidExtensionVersion=e.isValidVersion=e.normalizeVersion=e.parseVersion=e.isValidVersionStr=void 0;const _=/^(\^|>=)?((\d+)|x)\.((\d+)|x)\.((\d+)|x)(\-.*)?$/,y=/^-(\d{4})(\d{2})(\d{2})$/;function C(p){return p=p.trim(),p==="*"||_.test(p)}e.isValidVersionStr=C;function I(p){if(!C(p))return null;if(p=p.trim(),p==="*")return{hasCaret:!1,hasGreaterEquals:!1,majorBase:0,majorMustEqual:!1,minorBase:0,minorMustEqual:!1,patchBase:0,patchMustEqual:!1,preRelease:null};let b=p.match(_);return b?{hasCaret:b[1]==="^",hasGreaterEquals:b[1]===">=",majorBase:b[2]==="x"?0:parseInt(b[2],10),majorMustEqual:b[2]!=="x",minorBase:b[4]==="x"?0:parseInt(b[4],10),minorMustEqual:b[4]!=="x",patchBase:b[6]==="x"?0:parseInt(b[6],10),patchMustEqual:b[6]!=="x",preRelease:b[8]||null}:null}e.parseVersion=I;function k(p){if(!p)return null;let b=p.majorBase,f=p.majorMustEqual,w=p.minorBase,d=p.minorMustEqual,S=p.patchBase,g=p.patchMustEqual;p.hasCaret&&(b===0||(d=!1),g=!1);let c=0;if(p.preRelease){const a=y.exec(p.preRelease);if(a){const[,l,n,s]=a;c=Date.UTC(Number(l),Number(n)-1,Number(s))}}return{majorBase:b,majorMustEqual:f,minorBase:w,minorMustEqual:d,patchBase:S,patchMustEqual:g,isMinimum:p.hasGreaterEquals,notBefore:c}}e.normalizeVersion=k;function m(p,b,f){let w;typeof p=="string"?w=k(I(p)):w=p;let d;b instanceof Date?d=b.getTime():typeof b=="string"&&(d=new Date(b).getTime());let S;if(typeof f=="string"?S=k(I(f)):S=f,!w||!S)return!1;let g=w.majorBase,c=w.minorBase,a=w.patchBase,l=S.majorBase,n=S.minorBase,s=S.patchBase,r=S.notBefore,t=S.majorMustEqual,o=S.minorMustEqual,u=S.patchMustEqual;return S.isMinimum?g>l?!0:g<l?!1:c>n?!0:c<n||d&&d<r?!1:a>=s:(g===1&&l===0&&(!t||!o||!u)&&(l=1,n=0,s=0,t=!0,o=!1,u=!1),g<l?!1:g>l?!t:c<n?!1:c>n?!o:a<s?!1:a>s?!u:!(d&&d<r))}e.isValidVersion=m;function E(p,b,f,w){return f.isBuiltin||typeof f.main=="undefined"?!0:T(p,b,f.engines.vscode,w)}e.isValidExtensionVersion=E;function i(p,b,f){return p==="*"||T(b,f,p)}e.isEngineValid=i;function T(p,b,f,w=[]){let d=k(I(f));if(!d)return w.push(P.localize(0,null,f)),!1;if(d.majorBase===0){if(!d.majorMustEqual||!d.minorMustEqual)return w.push(P.localize(1,null,f)),!1}else if(!d.majorMustEqual)return w.push(P.localize(2,null,f)),!1;return m(p,b,d)?!0:(w.push(P.localize(3,null,p,f)),!1)}}),define(he[174],de([0,1,6,2,17,44,23]),function(Z,e,P,_,y,C,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractDiskFileSystemProviderChannel=void 0;class k extends _.Disposable{constructor(E,i){super();this.provider=E,this.logService=i,this.sessionToWatcher=new Map,this.watchRequests=new Map}call(E,i,T){const p=this.getUriTransformer(E);switch(i){case"stat":return this.stat(p,T[0]);case"readdir":return this.readdir(p,T[0]);case"open":return this.open(p,T[0],T[1]);case"close":return this.close(T[0]);case"read":return this.read(T[0],T[1],T[2]);case"readFile":return this.readFile(p,T[0]);case"write":return this.write(T[0],T[1],T[2],T[3],T[4]);case"writeFile":return this.writeFile(p,T[0],T[1],T[2]);case"rename":return this.rename(p,T[0],T[1],T[2]);case"copy":return this.copy(p,T[0],T[1],T[2]);case"mkdir":return this.mkdir(p,T[0]);case"delete":return this.delete(p,T[0],T[1]);case"watch":return this.watch(p,T[0],T[1],T[2],T[3]);case"unwatch":return this.unwatch(T[0],T[1])}throw new Error(`IPC Command ${i} not found`)}listen(E,i,T){const p=this.getUriTransformer(E);switch(i){case"fileChange":return this.onFileChange(p,T[0]);case"readFileStream":return this.onReadFileStream(p,T[0],T[1])}throw new Error(`Unknown event ${i}`)}stat(E,i){const T=this.transformIncoming(E,i,!0);return this.provider.stat(T)}readdir(E,i){const T=this.transformIncoming(E,i);return this.provider.readdir(T)}async readFile(E,i){const T=this.transformIncoming(E,i,!0),p=await this.provider.readFile(T);return y.VSBuffer.wrap(p)}onReadFileStream(E,i,T){const p=this.transformIncoming(E,i,!0),b=new I.CancellationTokenSource,f=new P.Emitter({onLastListenerRemove:()=>{b.cancel()}}),w=this.provider.readFileStream(p,T,b.token);return(0,C.listenStream)(w,{onData:d=>f.fire(y.VSBuffer.wrap(d)),onError:d=>f.fire(d),onEnd:()=>{f.fire("end"),f.dispose(),b.dispose()}}),f.event}writeFile(E,i,T,p){const b=this.transformIncoming(E,i);return this.provider.writeFile(b,T.buffer,p)}open(E,i,T){const p=this.transformIncoming(E,i,!0);return this.provider.open(p,T)}close(E){return this.provider.close(E)}async read(E,i,T){const p=y.VSBuffer.alloc(T),b=0,f=await this.provider.read(E,i,p.buffer,b,T);return[p,f]}write(E,i,T,p,b){return this.provider.write(E,i,T.buffer,p,b)}mkdir(E,i){const T=this.transformIncoming(E,i);return this.provider.mkdir(T)}delete(E,i,T){const p=this.transformIncoming(E,i);return this.provider.delete(p,T)}rename(E,i,T,p){const b=this.transformIncoming(E,i),f=this.transformIncoming(E,T);return this.provider.rename(b,f,p)}copy(E,i,T,p){const b=this.transformIncoming(E,i),f=this.transformIncoming(E,T);return this.provider.copy(b,f,p)}onFileChange(E,i){const T=new P.Emitter({onFirstListenerAdd:()=>{this.sessionToWatcher.set(i,this.createSessionFileWatcher(E,T))},onLastListenerRemove:()=>{(0,_.dispose)(this.sessionToWatcher.get(i)),this.sessionToWatcher.delete(i)}});return T.event}async watch(E,i,T,p,b){const f=this.sessionToWatcher.get(i);if(f){const w=this.transformIncoming(E,p),d=f.watch(T,w,b);this.watchRequests.set(i+T,d)}}async unwatch(E,i){const T=E+i,p=this.watchRequests.get(T);p&&((0,_.dispose)(p),this.watchRequests.delete(T))}dispose(){super.dispose(),this.watchRequests.forEach(E=>(0,_.dispose)(E)),this.watchRequests.clear(),this.sessionToWatcher.forEach(E=>(0,_.dispose)(E)),this.sessionToWatcher.clear()}}e.AbstractDiskFileSystemProviderChannel=k}),define(he[63],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class P{constructor(y,C=[],I=!1){this.ctor=y,this.staticArguments=C,this.supportsDelayedInstantiation=I}}e.SyncDescriptor=P}),define(he[175],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class P{constructor(C){this.incoming=new Map,this.outgoing=new Map,this.data=C}}e.Node=P;class _{constructor(C){this._hashFn=C,this._nodes=new Map}roots(){const C=[];for(let I of this._nodes.values())I.outgoing.size===0&&C.push(I);return C}insertEdge(C,I){const k=this.lookupOrInsertNode(C),m=this.lookupOrInsertNode(I);k.outgoing.set(this._hashFn(I),m),m.incoming.set(this._hashFn(C),k)}removeNode(C){const I=this._hashFn(C);this._nodes.delete(I);for(let k of this._nodes.values())k.outgoing.delete(I),k.incoming.delete(I)}lookupOrInsertNode(C){const I=this._hashFn(C);let k=this._nodes.get(I);return k||(k=new P(C),this._nodes.set(I,k)),k}lookup(C){return this._nodes.get(this._hashFn(C))}isEmpty(){return this._nodes.size===0}toString(){let C=[];for(let[I,k]of this._nodes)C.push(`${I}, (incoming)[${[...k.incoming.keys()].join(", ")}], (outgoing)[${[...k.outgoing.keys()].join(",")}]`);return C.join(`
`)}findCycleSlow(){for(let[C,I]of this._nodes){const k=new Set([C]),m=this._findCycle(I,k);if(m)return m}}_findCycle(C,I){for(let[k,m]of C.outgoing){if(I.has(k))return[...I,k].join(" -> ");I.add(k);const E=this._findCycle(m,I);if(E)return E;I.delete(k)}}}e.Graph=_}),define(he[7],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=e.refineServiceDecorator=e.createDecorator=e.IInstantiationService=e._util=void 0;var P;(function(k){k.serviceIds=new Map,k.DI_TARGET="$di$target",k.DI_DEPENDENCIES="$di$dependencies";function m(E){return E[k.DI_DEPENDENCIES]||[]}k.getServiceDependencies=m})(P=e._util||(e._util={})),e.IInstantiationService=y("instantiationService");function _(k,m,E,i){m[P.DI_TARGET]===m?m[P.DI_DEPENDENCIES].push({id:k,index:E,optional:i}):(m[P.DI_DEPENDENCIES]=[{id:k,index:E,optional:i}],m[P.DI_TARGET]=m)}function y(k){if(P.serviceIds.has(k))return P.serviceIds.get(k);const m=function(E,i,T){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");_(m,E,T,!1)};return m.toString=()=>k,P.serviceIds.set(k,m),m}e.createDecorator=y;function C(k){return k}e.refineServiceDecorator=C;function I(k){return function(m,E,i){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");_(k,m,i,!0)}}e.optional=I}),define(he[176],de([0,1,7]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.IModelService=void 0,e.IModelService=(0,P.createDecorator)("modelService");function _(y){return!y.isTooLargeForSyncing()&&!y.isForSimpleWidget}e.shouldSynchronizeModel=_}),define(he[177],de([0,1,6,121,2,28,119,133,176]),function(Z,e,P,_,y,C,I,k,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRequestDelays=e.LanguageFeatureRegistry=void 0;function E(w){return typeof w=="string"?!1:Array.isArray(w)?w.every(E):!!w.exclusive}class i{constructor(){this._clock=0,this._entries=[],this._onDidChange=new P.Emitter}get onDidChange(){return this._onDidChange.event}register(d,S){let g={selector:d,provider:S,_score:-1,_time:this._clock++};return this._entries.push(g),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,y.toDisposable)(()=>{if(g){let c=this._entries.indexOf(g);c>=0&&(this._entries.splice(c,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),g=void 0)}})}has(d){return this.all(d).length>0}all(d){if(!d)return[];this._updateScores(d);const S=[];for(let g of this._entries)g._score>0&&S.push(g.provider);return S}ordered(d){const S=[];return this._orderedForEach(d,g=>S.push(g.provider)),S}orderedGroups(d){const S=[];let g,c;return this._orderedForEach(d,a=>{g&&c===a._score?g.push(a.provider):(c=a._score,g=[a.provider],S.push(g))}),S}_orderedForEach(d,S){if(!!d){this._updateScores(d);for(const g of this._entries)g._score>0&&S(g)}}_updateScores(d){let S={uri:d.uri.toString(),language:d.getLanguageId()};if(!(this._lastCandidate&&this._lastCandidate.language===S.language&&this._lastCandidate.uri===S.uri)){this._lastCandidate=S;for(let g of this._entries)if(g._score=(0,k.score)(g.selector,d.uri,d.getLanguageId(),(0,m.shouldSynchronizeModel)(d)),E(g.selector)&&g._score>0){for(let c of this._entries)c._score=0;g._score=1e3;break}this._entries.sort(i._compareByScoreAndTime)}}static _compareByScoreAndTime(d,S){return d._score<S._score?1:d._score>S._score?-1:d._time<S._time?1:d._time>S._time?-1:0}}e.LanguageFeatureRegistry=i;const T=new WeakMap;let p=0;function b(w){let d=T.get(w);return d===void 0&&(d=++p,T.set(w,d)),d}class f{constructor(d,S,g=Number.MAX_SAFE_INTEGER){this._registry=d,this.min=S,this.max=g,this._cache=new C.LRUCache(50,.7)}_key(d){return d.id+this._registry.all(d).reduce((S,g)=>(0,_.doHash)(b(g),S),0)}_clamp(d){return d===void 0?this.min:Math.min(this.max,Math.max(this.min,Math.floor(d*1.3)))}get(d){const S=this._key(d),g=this._cache.get(S);return this._clamp(g?.value)}update(d,S){const g=this._key(d);let c=this._cache.get(g);return c||(c=new I.MovingAverage,this._cache.set(g,c)),c.update(S),this.get(d)}}e.LanguageFeatureRequestDelays=f}),define(he[178],de([0,1,5,59,177,134,39]),function(Z,e,P,_,y,C,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExternalUriOpenerPriority=e.TokenizationRegistry=e.DocumentRangeSemanticTokensProviderRegistry=e.DocumentSemanticTokensProviderRegistry=e.FoldingRangeProviderRegistry=e.SelectionRangeRegistry=e.ColorProviderRegistry=e.LinkProviderRegistry=e.OnTypeFormattingEditProviderRegistry=e.DocumentRangeFormattingEditProviderRegistry=e.DocumentFormattingEditProviderRegistry=e.CodeActionProviderRegistry=e.InlayHintsProviderRegistry=e.CodeLensProviderRegistry=e.TypeDefinitionProviderRegistry=e.ImplementationProviderRegistry=e.DeclarationProviderRegistry=e.DefinitionProviderRegistry=e.LinkedEditingRangeProviderRegistry=e.DocumentHighlightProviderRegistry=e.DocumentSymbolProviderRegistry=e.InlineValuesProviderRegistry=e.EvaluatableExpressionProviderRegistry=e.HoverProviderRegistry=e.SignatureHelpProviderRegistry=e.InlineCompletionsProviderRegistry=e.CompletionProviderRegistry=e.RenameProviderRegistry=e.ReferenceProviderRegistry=e.InlayHintKind=e.CommentMode=e.CommentThreadCollapsibleState=e.FoldingRangeKind=e.SymbolKinds=e.SymbolTag=e.SymbolKind=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.CodeActionTriggerType=e.InlineCompletionTriggerKind=e.CompletionTriggerKind=e.CompletionItemInsertTextRule=e.CompletionItemTag=e.completionKindFromString=e.completionKindToCssClass=e.CompletionItemKind=e.TokenMetadata=e.MetadataConsts=e.StandardTokenType=e.ColorId=e.FontStyle=e.LanguageId=void 0;var k;(function(h){h[h.Null=0]="Null",h[h.PlainText=1]="PlainText"})(k=e.LanguageId||(e.LanguageId={}));var m;(function(h){h[h.NotSet=-1]="NotSet",h[h.None=0]="None",h[h.Italic=1]="Italic",h[h.Bold=2]="Bold",h[h.Underline=4]="Underline"})(m=e.FontStyle||(e.FontStyle={}));var E;(function(h){h[h.None=0]="None",h[h.DefaultForeground=1]="DefaultForeground",h[h.DefaultBackground=2]="DefaultBackground"})(E=e.ColorId||(e.ColorId={}));var i;(function(h){h[h.Other=0]="Other",h[h.Comment=1]="Comment",h[h.String=2]="String",h[h.RegEx=4]="RegEx"})(i=e.StandardTokenType||(e.StandardTokenType={}));var T;(function(h){h[h.LANGUAGEID_MASK=255]="LANGUAGEID_MASK",h[h.TOKEN_TYPE_MASK=1792]="TOKEN_TYPE_MASK",h[h.FONT_STYLE_MASK=14336]="FONT_STYLE_MASK",h[h.FOREGROUND_MASK=8372224]="FOREGROUND_MASK",h[h.BACKGROUND_MASK=4286578688]="BACKGROUND_MASK",h[h.ITALIC_MASK=2048]="ITALIC_MASK",h[h.BOLD_MASK=4096]="BOLD_MASK",h[h.UNDERLINE_MASK=8192]="UNDERLINE_MASK",h[h.SEMANTIC_USE_ITALIC=1]="SEMANTIC_USE_ITALIC",h[h.SEMANTIC_USE_BOLD=2]="SEMANTIC_USE_BOLD",h[h.SEMANTIC_USE_UNDERLINE=4]="SEMANTIC_USE_UNDERLINE",h[h.SEMANTIC_USE_FOREGROUND=8]="SEMANTIC_USE_FOREGROUND",h[h.SEMANTIC_USE_BACKGROUND=16]="SEMANTIC_USE_BACKGROUND",h[h.LANGUAGEID_OFFSET=0]="LANGUAGEID_OFFSET",h[h.TOKEN_TYPE_OFFSET=8]="TOKEN_TYPE_OFFSET",h[h.FONT_STYLE_OFFSET=11]="FONT_STYLE_OFFSET",h[h.FOREGROUND_OFFSET=14]="FOREGROUND_OFFSET",h[h.BACKGROUND_OFFSET=23]="BACKGROUND_OFFSET"})(T=e.MetadataConsts||(e.MetadataConsts={}));class p{static getLanguageId(A){return(A&255)>>>0}static getTokenType(A){return(A&1792)>>>8}static getFontStyle(A){return(A&14336)>>>11}static getForeground(A){return(A&8372224)>>>14}static getBackground(A){return(A&4286578688)>>>23}static getClassNameFromMetadata(A){let N=this.getForeground(A),$="mtk"+N,K=this.getFontStyle(A);return K&1&&($+=" mtki"),K&2&&($+=" mtkb"),K&4&&($+=" mtku"),$}static getInlineStyleFromMetadata(A,N){const $=this.getForeground(A),K=this.getFontStyle(A);let j=`color: ${N[$]};`;return K&1&&(j+="font-style: italic;"),K&2&&(j+="font-weight: bold;"),K&4&&(j+="text-decoration: underline;"),j}}e.TokenMetadata=p;var b;(function(h){h[h.Method=0]="Method",h[h.Function=1]="Function",h[h.Constructor=2]="Constructor",h[h.Field=3]="Field",h[h.Variable=4]="Variable",h[h.Class=5]="Class",h[h.Struct=6]="Struct",h[h.Interface=7]="Interface",h[h.Module=8]="Module",h[h.Property=9]="Property",h[h.Event=10]="Event",h[h.Operator=11]="Operator",h[h.Unit=12]="Unit",h[h.Value=13]="Value",h[h.Constant=14]="Constant",h[h.Enum=15]="Enum",h[h.EnumMember=16]="EnumMember",h[h.Keyword=17]="Keyword",h[h.Text=18]="Text",h[h.Color=19]="Color",h[h.File=20]="File",h[h.Reference=21]="Reference",h[h.Customcolor=22]="Customcolor",h[h.Folder=23]="Folder",h[h.TypeParameter=24]="TypeParameter",h[h.User=25]="User",h[h.Issue=26]="Issue",h[h.Snippet=27]="Snippet"})(b=e.CompletionItemKind||(e.CompletionItemKind={})),e.completionKindToCssClass=function(){let h=Object.create(null);return h[0]="symbol-method",h[1]="symbol-function",h[2]="symbol-constructor",h[3]="symbol-field",h[4]="symbol-variable",h[5]="symbol-class",h[6]="symbol-struct",h[7]="symbol-interface",h[8]="symbol-module",h[9]="symbol-property",h[10]="symbol-event",h[11]="symbol-operator",h[12]="symbol-unit",h[13]="symbol-value",h[14]="symbol-constant",h[15]="symbol-enum",h[16]="symbol-enum-member",h[17]="symbol-keyword",h[27]="symbol-snippet",h[18]="symbol-text",h[19]="symbol-color",h[20]="symbol-file",h[21]="symbol-reference",h[22]="symbol-customcolor",h[23]="symbol-folder",h[24]="symbol-type-parameter",h[25]="account",h[26]="issues",function(A){const N=h[A];let $=N&&I.iconRegistry.get(N);return $||(console.info("No codicon found for CompletionItemKind "+A),$=I.Codicon.symbolProperty),$.classNames}}(),e.completionKindFromString=function(){let h=Object.create(null);return h.method=0,h.function=1,h.constructor=2,h.field=3,h.variable=4,h.class=5,h.struct=6,h.interface=7,h.module=8,h.property=9,h.event=10,h.operator=11,h.unit=12,h.value=13,h.constant=14,h.enum=15,h["enum-member"]=16,h.enumMember=16,h.keyword=17,h.snippet=27,h.text=18,h.color=19,h.file=20,h.reference=21,h.customcolor=22,h.folder=23,h["type-parameter"]=24,h.typeParameter=24,h.account=25,h.issue=26,function(A,N){let $=h[A];return typeof $=="undefined"&&!N&&($=9),$}}();var f;(function(h){h[h.Deprecated=1]="Deprecated"})(f=e.CompletionItemTag||(e.CompletionItemTag={}));var w;(function(h){h[h.KeepWhitespace=1]="KeepWhitespace",h[h.InsertAsSnippet=4]="InsertAsSnippet"})(w=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var d;(function(h){h[h.Invoke=0]="Invoke",h[h.TriggerCharacter=1]="TriggerCharacter",h[h.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(d=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var S;(function(h){h[h.Automatic=0]="Automatic",h[h.Explicit=1]="Explicit"})(S=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var g;(function(h){h[h.Invoke=1]="Invoke",h[h.Auto=2]="Auto"})(g=e.CodeActionTriggerType||(e.CodeActionTriggerType={}));var c;(function(h){h[h.Invoke=1]="Invoke",h[h.TriggerCharacter=2]="TriggerCharacter",h[h.ContentChange=3]="ContentChange"})(c=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var a;(function(h){h[h.Text=0]="Text",h[h.Read=1]="Read",h[h.Write=2]="Write"})(a=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function l(h){return h&&P.URI.isUri(h.uri)&&_.Range.isIRange(h.range)&&(_.Range.isIRange(h.originSelectionRange)||_.Range.isIRange(h.targetSelectionRange))}e.isLocationLink=l;var n;(function(h){h[h.File=0]="File",h[h.Module=1]="Module",h[h.Namespace=2]="Namespace",h[h.Package=3]="Package",h[h.Class=4]="Class",h[h.Method=5]="Method",h[h.Property=6]="Property",h[h.Field=7]="Field",h[h.Constructor=8]="Constructor",h[h.Enum=9]="Enum",h[h.Interface=10]="Interface",h[h.Function=11]="Function",h[h.Variable=12]="Variable",h[h.Constant=13]="Constant",h[h.String=14]="String",h[h.Number=15]="Number",h[h.Boolean=16]="Boolean",h[h.Array=17]="Array",h[h.Object=18]="Object",h[h.Key=19]="Key",h[h.Null=20]="Null",h[h.EnumMember=21]="EnumMember",h[h.Struct=22]="Struct",h[h.Event=23]="Event",h[h.Operator=24]="Operator",h[h.TypeParameter=25]="TypeParameter"})(n=e.SymbolKind||(e.SymbolKind={}));var s;(function(h){h[h.Deprecated=1]="Deprecated"})(s=e.SymbolTag||(e.SymbolTag={}));var r;(function(h){const A=new Map;A.set("file",0),A.set("module",1),A.set("namespace",2),A.set("package",3),A.set("class",4),A.set("method",5),A.set("property",6),A.set("field",7),A.set("constructor",8),A.set("enum",9),A.set("interface",10),A.set("function",11),A.set("variable",12),A.set("constant",13),A.set("string",14),A.set("number",15),A.set("boolean",16),A.set("array",17),A.set("object",18),A.set("key",19),A.set("null",20),A.set("enum-member",21),A.set("struct",22),A.set("event",23),A.set("operator",24),A.set("type-parameter",25);const N=new Map;N.set(0,"file"),N.set(1,"module"),N.set(2,"namespace"),N.set(3,"package"),N.set(4,"class"),N.set(5,"method"),N.set(6,"property"),N.set(7,"field"),N.set(8,"constructor"),N.set(9,"enum"),N.set(10,"interface"),N.set(11,"function"),N.set(12,"variable"),N.set(13,"constant"),N.set(14,"string"),N.set(15,"number"),N.set(16,"boolean"),N.set(17,"array"),N.set(18,"object"),N.set(19,"key"),N.set(20,"null"),N.set(21,"enum-member"),N.set(22,"struct"),N.set(23,"event"),N.set(24,"operator"),N.set(25,"type-parameter");function $(F){return A.get(F)}h.fromString=$;function K(F){return N.get(F)}h.toString=K;function j(F,G){const R=N.get(F);let B=R&&I.iconRegistry.get("symbol-"+R);return B||(console.info("No codicon found for SymbolKind "+F),B=I.Codicon.symbolProperty),`${G?"inline":"block"} ${B.classNames}`}h.toCssClassName=j})(r=e.SymbolKinds||(e.SymbolKinds={}));class t{constructor(A){this.value=A}}e.FoldingRangeKind=t,t.Comment=new t("comment"),t.Imports=new t("imports"),t.Region=new t("region");var o;(function(h){h[h.Collapsed=0]="Collapsed",h[h.Expanded=1]="Expanded"})(o=e.CommentThreadCollapsibleState||(e.CommentThreadCollapsibleState={}));var u;(function(h){h[h.Editing=0]="Editing",h[h.Preview=1]="Preview"})(u=e.CommentMode||(e.CommentMode={}));var v;(function(h){h[h.Other=0]="Other",h[h.Type=1]="Type",h[h.Parameter=2]="Parameter"})(v=e.InlayHintKind||(e.InlayHintKind={})),e.ReferenceProviderRegistry=new y.LanguageFeatureRegistry,e.RenameProviderRegistry=new y.LanguageFeatureRegistry,e.CompletionProviderRegistry=new y.LanguageFeatureRegistry,e.InlineCompletionsProviderRegistry=new y.LanguageFeatureRegistry,e.SignatureHelpProviderRegistry=new y.LanguageFeatureRegistry,e.HoverProviderRegistry=new y.LanguageFeatureRegistry,e.EvaluatableExpressionProviderRegistry=new y.LanguageFeatureRegistry,e.InlineValuesProviderRegistry=new y.LanguageFeatureRegistry,e.DocumentSymbolProviderRegistry=new y.LanguageFeatureRegistry,e.DocumentHighlightProviderRegistry=new y.LanguageFeatureRegistry,e.LinkedEditingRangeProviderRegistry=new y.LanguageFeatureRegistry,e.DefinitionProviderRegistry=new y.LanguageFeatureRegistry,e.DeclarationProviderRegistry=new y.LanguageFeatureRegistry,e.ImplementationProviderRegistry=new y.LanguageFeatureRegistry,e.TypeDefinitionProviderRegistry=new y.LanguageFeatureRegistry,e.CodeLensProviderRegistry=new y.LanguageFeatureRegistry,e.InlayHintsProviderRegistry=new y.LanguageFeatureRegistry,e.CodeActionProviderRegistry=new y.LanguageFeatureRegistry,e.DocumentFormattingEditProviderRegistry=new y.LanguageFeatureRegistry,e.DocumentRangeFormattingEditProviderRegistry=new y.LanguageFeatureRegistry,e.OnTypeFormattingEditProviderRegistry=new y.LanguageFeatureRegistry,e.LinkProviderRegistry=new y.LanguageFeatureRegistry,e.ColorProviderRegistry=new y.LanguageFeatureRegistry,e.SelectionRangeRegistry=new y.LanguageFeatureRegistry,e.FoldingRangeProviderRegistry=new y.LanguageFeatureRegistry,e.DocumentSemanticTokensProviderRegistry=new y.LanguageFeatureRegistry,e.DocumentRangeSemanticTokensProviderRegistry=new y.LanguageFeatureRegistry,e.TokenizationRegistry=new C.TokenizationRegistryImpl;var D;(function(h){h[h.None=0]="None",h[h.Option=1]="Option",h[h.Default=2]="Default",h[h.Preferred=3]="Preferred"})(D=e.ExternalUriOpenerPriority||(e.ExternalUriOpenerPriority={}))}),define(he[64],de([0,1,4,15,7]),function(Z,e,P,_,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.expressionsAreEqualWithConstantSubstitution=e.ContextKeyExpr=e.ContextKeyExprType=void 0;let C=P.userAgent||"";const I=new Map;I.set("false",!1),I.set("true",!0),I.set("isMac",P.isMacintosh),I.set("isLinux",P.isLinux),I.set("isWindows",P.isWindows),I.set("isWeb",P.isWeb),I.set("isMacNative",P.isMacintosh&&!P.isWeb),I.set("isEdge",C.indexOf("Edg/")>=0),I.set("isFirefox",C.indexOf("Firefox")>=0),I.set("isChrome",C.indexOf("Chrome")>=0),I.set("isSafari",C.indexOf("Safari")>=0);const k=Object.prototype.hasOwnProperty;var m;(function(j){j[j.False=0]="False",j[j.True=1]="True",j[j.Defined=2]="Defined",j[j.Not=3]="Not",j[j.Equals=4]="Equals",j[j.NotEquals=5]="NotEquals",j[j.And=6]="And",j[j.Regex=7]="Regex",j[j.NotRegex=8]="NotRegex",j[j.Or=9]="Or",j[j.In=10]="In",j[j.NotIn=11]="NotIn",j[j.Greater=12]="Greater",j[j.GreaterEquals=13]="GreaterEquals",j[j.Smaller=14]="Smaller",j[j.SmallerEquals=15]="SmallerEquals"})(m=e.ContextKeyExprType||(e.ContextKeyExprType={}));class E{static false(){return p.INSTANCE}static true(){return b.INSTANCE}static has(F){return f.create(F)}static equals(F,G){return w.create(F,G)}static notEquals(F,G){return g.create(F,G)}static regex(F,G){return t.create(F,G)}static in(F,G){return d.create(F,G)}static not(F){return c.create(F)}static and(...F){return v.create(F,null)}static or(...F){return D.create(F,null,!0)}static greater(F,G){return l.create(F,G)}static greaterEquals(F,G){return n.create(F,G)}static smaller(F,G){return s.create(F,G)}static smallerEquals(F,G){return r.create(F,G)}static deserialize(F,G=!1){if(!!F)return this._deserializeOrExpression(F,G)}static _deserializeOrExpression(F,G){let R=F.split("||");return D.create(R.map(B=>this._deserializeAndExpression(B,G)),null,!0)}static _deserializeAndExpression(F,G){let R=F.split("&&");return v.create(R.map(B=>this._deserializeOne(B,G)),null)}static _deserializeOne(F,G){if(F=F.trim(),F.indexOf("!=")>=0){let R=F.split("!=");return g.create(R[0].trim(),this._deserializeValue(R[1],G))}if(F.indexOf("==")>=0){let R=F.split("==");return w.create(R[0].trim(),this._deserializeValue(R[1],G))}if(F.indexOf("=~")>=0){let R=F.split("=~");return t.create(R[0].trim(),this._deserializeRegexValue(R[1],G))}if(F.indexOf(" in ")>=0){let R=F.split(" in ");return d.create(R[0].trim(),R[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(F)){const R=F.split(">=");return n.create(R[0].trim(),R[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(F)){const R=F.split(">");return l.create(R[0].trim(),R[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(F)){const R=F.split("<=");return r.create(R[0].trim(),R[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(F)){const R=F.split("<");return s.create(R[0].trim(),R[1].trim())}return/^\!\s*/.test(F)?c.create(F.substr(1).trim()):f.create(F)}static _deserializeValue(F,G){if(F=F.trim(),F==="true")return!0;if(F==="false")return!1;let R=/^'([^']*)'$/.exec(F);return R?R[1].trim():F}static _deserializeRegexValue(F,G){if((0,_.isFalsyOrWhitespace)(F)){if(G)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let R=F.indexOf("/"),B=F.lastIndexOf("/");if(R===B||R<0){if(G)throw new Error(`bad regexp-value '${F}', missing /-enclosure`);return console.warn(`bad regexp-value '${F}', missing /-enclosure`),null}let H=F.slice(R+1,B),q=F[B+1]==="i"?"i":"";try{return new RegExp(H,q)}catch(W){if(G)throw new Error(`bad regexp-value '${F}', parse error: ${W}`);return console.warn(`bad regexp-value '${F}', parse error: ${W}`),null}}}e.ContextKeyExpr=E;function i(j,F){const G=j?j.substituteConstants():void 0,R=F?F.substituteConstants():void 0;return!G&&!R?!0:!G||!R?!1:G.equals(R)}e.expressionsAreEqualWithConstantSubstitution=i;function T(j,F){return j.cmp(F)}class p{constructor(){this.type=0}cmp(F){return this.type-F.type}equals(F){return F.type===this.type}substituteConstants(){return this}evaluate(F){return!1}serialize(){return"false"}keys(){return[]}map(F){return this}negate(){return b.INSTANCE}}e.ContextKeyFalseExpr=p,p.INSTANCE=new p;class b{constructor(){this.type=1}cmp(F){return this.type-F.type}equals(F){return F.type===this.type}substituteConstants(){return this}evaluate(F){return!0}serialize(){return"true"}keys(){return[]}map(F){return this}negate(){return p.INSTANCE}}e.ContextKeyTrueExpr=b,b.INSTANCE=new b;class f{constructor(F,G){this.key=F,this.negated=G,this.type=2}static create(F,G=null){const R=I.get(F);return typeof R=="boolean"?R?b.INSTANCE:p.INSTANCE:new f(F,G)}cmp(F){return F.type!==this.type?this.type-F.type:A(this.key,F.key)}equals(F){return F.type===this.type?this.key===F.key:!1}substituteConstants(){const F=I.get(this.key);return typeof F=="boolean"?F?b.INSTANCE:p.INSTANCE:this}evaluate(F){return!!F.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(F){return F.mapDefined(this.key)}negate(){return this.negated||(this.negated=c.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=f;class w{constructor(F,G,R){this.key=F,this.value=G,this.negated=R,this.type=4}static create(F,G,R=null){if(typeof G=="boolean")return G?f.create(F,R):c.create(F,R);const B=I.get(F);return typeof B=="boolean"?G===(B?"true":"false")?b.INSTANCE:p.INSTANCE:new w(F,G,R)}cmp(F){return F.type!==this.type?this.type-F.type:N(this.key,this.value,F.key,F.value)}equals(F){return F.type===this.type?this.key===F.key&&this.value===F.value:!1}substituteConstants(){const F=I.get(this.key);if(typeof F=="boolean"){const G=F?"true":"false";return this.value===G?b.INSTANCE:p.INSTANCE}return this}evaluate(F){return F.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(F){return F.mapEquals(this.key,this.value)}negate(){return this.negated||(this.negated=g.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=w;class d{constructor(F,G){this.key=F,this.valueKey=G,this.type=10,this.negated=null}static create(F,G){return new d(F,G)}cmp(F){return F.type!==this.type?this.type-F.type:N(this.key,this.valueKey,F.key,F.valueKey)}equals(F){return F.type===this.type?this.key===F.key&&this.valueKey===F.valueKey:!1}substituteConstants(){return this}evaluate(F){const G=F.getValue(this.valueKey),R=F.getValue(this.key);return Array.isArray(G)?G.indexOf(R)>=0:typeof R=="string"&&typeof G=="object"&&G!==null?k.call(G,R):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}map(F){return F.mapIn(this.key,this.valueKey)}negate(){return this.negated||(this.negated=S.create(this)),this.negated}}e.ContextKeyInExpr=d;class S{constructor(F){this._actual=F,this.type=11}static create(F){return new S(F)}cmp(F){return F.type!==this.type?this.type-F.type:this._actual.cmp(F._actual)}equals(F){return F.type===this.type?this._actual.equals(F._actual):!1}substituteConstants(){return this}evaluate(F){return!this._actual.evaluate(F)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}map(F){return new S(this._actual.map(F))}negate(){return this._actual}}e.ContextKeyNotInExpr=S;class g{constructor(F,G,R){this.key=F,this.value=G,this.negated=R,this.type=5}static create(F,G,R=null){if(typeof G=="boolean")return G?c.create(F,R):f.create(F,R);const B=I.get(F);return typeof B=="boolean"?G===(B?"true":"false")?p.INSTANCE:b.INSTANCE:new g(F,G,R)}cmp(F){return F.type!==this.type?this.type-F.type:N(this.key,this.value,F.key,F.value)}equals(F){return F.type===this.type?this.key===F.key&&this.value===F.value:!1}substituteConstants(){const F=I.get(this.key);if(typeof F=="boolean"){const G=F?"true":"false";return this.value===G?p.INSTANCE:b.INSTANCE}return this}evaluate(F){return F.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(F){return F.mapNotEquals(this.key,this.value)}negate(){return this.negated||(this.negated=w.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=g;class c{constructor(F,G){this.key=F,this.negated=G,this.type=3}static create(F,G=null){const R=I.get(F);return typeof R=="boolean"?R?p.INSTANCE:b.INSTANCE:new c(F,G)}cmp(F){return F.type!==this.type?this.type-F.type:A(this.key,F.key)}equals(F){return F.type===this.type?this.key===F.key:!1}substituteConstants(){const F=I.get(this.key);return typeof F=="boolean"?F?p.INSTANCE:b.INSTANCE:this}evaluate(F){return!F.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(F){return F.mapNot(this.key)}negate(){return this.negated||(this.negated=f.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=c;function a(j,F){if(typeof j=="string"){const G=parseFloat(j);isNaN(G)||(j=G)}return typeof j=="string"||typeof j=="number"?F(j):p.INSTANCE}class l{constructor(F,G,R){this.key=F,this.value=G,this.negated=R,this.type=12}static create(F,G,R=null){return a(G,B=>new l(F,B,R))}cmp(F){return F.type!==this.type?this.type-F.type:N(this.key,this.value,F.key,F.value)}equals(F){return F.type===this.type?this.key===F.key&&this.value===F.value:!1}substituteConstants(){return this}evaluate(F){return typeof this.value=="string"?!1:parseFloat(F.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}map(F){return F.mapGreater(this.key,this.value)}negate(){return this.negated||(this.negated=r.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=l;class n{constructor(F,G,R){this.key=F,this.value=G,this.negated=R,this.type=13}static create(F,G,R=null){return a(G,B=>new n(F,B,R))}cmp(F){return F.type!==this.type?this.type-F.type:N(this.key,this.value,F.key,F.value)}equals(F){return F.type===this.type?this.key===F.key&&this.value===F.value:!1}substituteConstants(){return this}evaluate(F){return typeof this.value=="string"?!1:parseFloat(F.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}map(F){return F.mapGreaterEquals(this.key,this.value)}negate(){return this.negated||(this.negated=s.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=n;class s{constructor(F,G,R){this.key=F,this.value=G,this.negated=R,this.type=14}static create(F,G,R=null){return a(G,B=>new s(F,B,R))}cmp(F){return F.type!==this.type?this.type-F.type:N(this.key,this.value,F.key,F.value)}equals(F){return F.type===this.type?this.key===F.key&&this.value===F.value:!1}substituteConstants(){return this}evaluate(F){return typeof this.value=="string"?!1:parseFloat(F.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}map(F){return F.mapSmaller(this.key,this.value)}negate(){return this.negated||(this.negated=n.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=s;class r{constructor(F,G,R){this.key=F,this.value=G,this.negated=R,this.type=15}static create(F,G,R=null){return a(G,B=>new r(F,B,R))}cmp(F){return F.type!==this.type?this.type-F.type:N(this.key,this.value,F.key,F.value)}equals(F){return F.type===this.type?this.key===F.key&&this.value===F.value:!1}substituteConstants(){return this}evaluate(F){return typeof this.value=="string"?!1:parseFloat(F.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}map(F){return F.mapSmallerEquals(this.key,this.value)}negate(){return this.negated||(this.negated=l.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=r;class t{constructor(F,G){this.key=F,this.regexp=G,this.type=7,this.negated=null}static create(F,G){return new t(F,G)}cmp(F){if(F.type!==this.type)return this.type-F.type;if(this.key<F.key)return-1;if(this.key>F.key)return 1;const G=this.regexp?this.regexp.source:"",R=F.regexp?F.regexp.source:"";return G<R?-1:G>R?1:0}equals(F){if(F.type===this.type){const G=this.regexp?this.regexp.source:"",R=F.regexp?F.regexp.source:"";return this.key===F.key&&G===R}return!1}substituteConstants(){return this}evaluate(F){let G=F.getValue(this.key);return this.regexp?this.regexp.test(G):!1}serialize(){const F=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${F}`}keys(){return[this.key]}map(F){return F.mapRegex(this.key,this.regexp)}negate(){return this.negated||(this.negated=o.create(this)),this.negated}}e.ContextKeyRegexExpr=t;class o{constructor(F){this._actual=F,this.type=8}static create(F){return new o(F)}cmp(F){return F.type!==this.type?this.type-F.type:this._actual.cmp(F._actual)}equals(F){return F.type===this.type?this._actual.equals(F._actual):!1}substituteConstants(){return this}evaluate(F){return!this._actual.evaluate(F)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}map(F){return new o(this._actual.map(F))}negate(){return this._actual}}e.ContextKeyNotRegexExpr=o;function u(j){let F=null;for(let G=0,R=j.length;G<R;G++){const B=j[G].substituteConstants();if(j[G]!==B&&F===null){F=[];for(let H=0;H<G;H++)F[H]=j[H]}F!==null&&(F[G]=B)}return F===null?j:F}class v{constructor(F,G){this.expr=F,this.negated=G,this.type=6}static create(F,G){return v._normalizeArr(F,G)}cmp(F){if(F.type!==this.type)return this.type-F.type;if(this.expr.length<F.expr.length)return-1;if(this.expr.length>F.expr.length)return 1;for(let G=0,R=this.expr.length;G<R;G++){const B=T(this.expr[G],F.expr[G]);if(B!==0)return B}return 0}equals(F){if(F.type===this.type){if(this.expr.length!==F.expr.length)return!1;for(let G=0,R=this.expr.length;G<R;G++)if(!this.expr[G].equals(F.expr[G]))return!1;return!0}return!1}substituteConstants(){const F=u(this.expr);return F===this.expr?this:v.create(F,this.negated)}evaluate(F){for(let G=0,R=this.expr.length;G<R;G++)if(!this.expr[G].evaluate(F))return!1;return!0}static _normalizeArr(F,G){const R=[];let B=!1;for(const H of F)if(!!H){if(H.type===1){B=!0;continue}if(H.type===0)return p.INSTANCE;if(H.type===6){R.push(...H.expr);continue}R.push(H)}if(R.length===0&&B)return b.INSTANCE;if(R.length!==0){if(R.length===1)return R[0];R.sort(T);for(let H=1;H<R.length;H++)R[H-1].equals(R[H])&&(R.splice(H,1),H--);if(R.length===1)return R[0];for(;R.length>1;){const H=R[R.length-1];if(H.type!==9)break;R.pop();const q=R.pop(),W=R.length===0,U=D.create(H.expr.map(x=>v.create([x,q],null)),null,W);U&&(R.push(U),R.sort(T))}return R.length===1?R[0]:new v(R,G)}}serialize(){return this.expr.map(F=>F.serialize()).join(" && ")}keys(){const F=[];for(let G of this.expr)F.push(...G.keys());return F}map(F){return new v(this.expr.map(G=>G.map(F)),null)}negate(){if(!this.negated){const F=[];for(let G of this.expr)F.push(G.negate());this.negated=D.create(F,this,!0)}return this.negated}}class D{constructor(F,G){this.expr=F,this.negated=G,this.type=9}static create(F,G,R){return D._normalizeArr(F,G,R)}cmp(F){if(F.type!==this.type)return this.type-F.type;if(this.expr.length<F.expr.length)return-1;if(this.expr.length>F.expr.length)return 1;for(let G=0,R=this.expr.length;G<R;G++){const B=T(this.expr[G],F.expr[G]);if(B!==0)return B}return 0}equals(F){if(F.type===this.type){if(this.expr.length!==F.expr.length)return!1;for(let G=0,R=this.expr.length;G<R;G++)if(!this.expr[G].equals(F.expr[G]))return!1;return!0}return!1}substituteConstants(){const F=u(this.expr);return F===this.expr?this:D.create(F,this.negated,!1)}evaluate(F){for(let G=0,R=this.expr.length;G<R;G++)if(this.expr[G].evaluate(F))return!0;return!1}static _normalizeArr(F,G,R){let B=[],H=!1;if(F){for(let q=0,W=F.length;q<W;q++){const U=F[q];if(!!U){if(U.type===0){H=!0;continue}if(U.type===1)return b.INSTANCE;if(U.type===9){B=B.concat(U.expr);continue}B.push(U)}}if(B.length===0&&H)return p.INSTANCE;B.sort(T)}if(B.length!==0){if(B.length===1)return B[0];for(let q=1;q<B.length;q++)B[q-1].equals(B[q])&&(B.splice(q,1),q--);if(B.length===1)return B[0];if(R){for(let q=0;q<B.length;q++)for(let W=q+1;W<B.length;W++)$(B[q],B[W])&&(B.splice(W,1),W--);if(B.length===1)return B[0]}return new D(B,G)}}serialize(){return this.expr.map(F=>F.serialize()).join(" || ")}keys(){const F=[];for(let G of this.expr)F.push(...G.keys());return F}map(F){return new D(this.expr.map(G=>G.map(F)),null)}negate(){if(!this.negated){let F=[];for(let G of this.expr)F.push(G.negate());for(;F.length>1;){const G=F.shift(),R=F.shift(),B=[];for(const q of K(G))for(const W of K(R))B.push(v.create([q,W],null));const H=F.length===0;F.unshift(D.create(B,null,H))}this.negated=F[0]}return this.negated}}class h extends f{constructor(F,G,R){super(F,null);this._defaultValue=G,typeof R=="object"?h._info.push({...R,key:F}):R!==!0&&h._info.push({key:F,description:R,type:G!=null?typeof G:void 0})}static all(){return h._info.values()}bindTo(F){return F.createKey(this.key,this._defaultValue)}getValue(F){return F.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(F){return w.create(this.key,F)}notEqualsTo(F){return g.create(this.key,F)}}e.RawContextKey=h,h._info=[],e.IContextKeyService=(0,y.createDecorator)("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function A(j,F){return j<F?-1:j>F?1:0}function N(j,F,G,R){return j<G?-1:j>G?1:F<R?-1:F>R?1:0}function $(j,F){if(F.type===6&&j.type!==9&&j.type!==6){for(const B of F.expr)if(j.equals(B))return!0}const G=j.negate(),R=K(G).concat(K(F));R.sort(T);for(let B=0;B<R.length;B++){const q=R[B].negate();for(let W=B+1;W<R.length;W++){const U=R[W];if(q.equals(U))return!0}}return!1}e.implies=$;function K(j){return j.type===9?j.expr:[j]}}),define(he[179],de([0,1,7]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRemoteDiagnosticError=e.IDiagnosticsService=e.ID=void 0,e.ID="diagnosticsService",e.IDiagnosticsService=(0,P.createDecorator)(e.ID);function _(y){return!!y.hostName&&!!y.errorMessage}e.isRemoteDiagnosticError=_}),define(he[65],de([0,1,7]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDownloadService=void 0,e.IDownloadService=(0,P.createDecorator)("downloadService")}),define(he[26],de([0,1,7]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INativeEnvironmentService=e.IEnvironmentService=void 0,e.IEnvironmentService=(0,P.createDecorator)("environmentService"),e.INativeEnvironmentService=(0,P.refineServiceDecorator)(e.IEnvironmentService)}),define(he[31],de([0,1,8,148,7]),function(Z,e,P,_,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtensionManagementCLIService=e.PreferencesLocalizedLabel=e.PreferencesLabel=e.ExtensionsChannelId=e.ExtensionsLocalizedLabel=e.ExtensionsLabel=e.DefaultIconPath=e.IExtensionTipsService=e.IGlobalExtensionEnablementService=e.ENABLED_EXTENSIONS_STORAGE_PATH=e.DISABLED_EXTENSIONS_STORAGE_PATH=e.IExtensionManagementService=e.ExtensionManagementError=e.ExtensionManagementErrorCode=e.IExtensionGalleryService=e.InstallOperation=e.StatisticType=e.SortOrder=e.SortBy=e.isIExtensionIdentifier=e.getFallbackTargetPlarforms=e.isTargetPlatformCompatible=e.isNotWebExtensionInWebTargetPlatform=e.getTargetPlatform=e.toTargetPlatform=e.TargetPlatformToString=e.TargetPlatform=e.WEB_EXTENSION_TAG=e.EXTENSION_IDENTIFIER_REGEX=e.EXTENSION_IDENTIFIER_PATTERN=void 0,e.EXTENSION_IDENTIFIER_PATTERN="^([a-z0-9A-Z][a-z0-9-A-Z]*)\\.([a-z0-9A-Z][a-z0-9-A-Z]*)$",e.EXTENSION_IDENTIFIER_REGEX=new RegExp(e.EXTENSION_IDENTIFIER_PATTERN),e.WEB_EXTENSION_TAG="__web_extension";var C;(function(c){c.WIN32_X64="win32-x64",c.WIN32_IA32="win32-ia32",c.WIN32_ARM64="win32-arm64",c.LINUX_X64="linux-x64",c.LINUX_ARM64="linux-arm64",c.LINUX_ARMHF="linux-armhf",c.ALPINE_X64="alpine-x64",c.ALPINE_ARM64="alpine-arm64",c.DARWIN_X64="darwin-x64",c.DARWIN_ARM64="darwin-arm64",c.WEB="web",c.UNIVERSAL="universal",c.UNKNOWN="unknown",c.UNDEFINED="undefined"})(C=e.TargetPlatform||(e.TargetPlatform={}));function I(c){switch(c){case"win32-x64":return"Windows 64 bit";case"win32-ia32":return"Windows 32 bit";case"win32-arm64":return"Windows ARM";case"linux-x64":return"Linux 64 bit";case"linux-arm64":return"Linux ARM 64";case"linux-armhf":return"Linux ARM";case"alpine-x64":return"Alpine Linux 64 bit";case"alpine-arm64":return"Alpine ARM 64";case"darwin-x64":return"Mac";case"darwin-arm64":return"Mac Silicon";case"web":return"Web";case"universal":return"universal";case"unknown":return"unknown";case"undefined":return"undefined"}}e.TargetPlatformToString=I;function k(c){switch(c){case"win32-x64":return"win32-x64";case"win32-ia32":return"win32-ia32";case"win32-arm64":return"win32-arm64";case"linux-x64":return"linux-x64";case"linux-arm64":return"linux-arm64";case"linux-armhf":return"linux-armhf";case"alpine-x64":return"alpine-x64";case"alpine-arm64":return"alpine-arm64";case"darwin-x64":return"darwin-x64";case"darwin-arm64":return"darwin-arm64";case"web":return"web";case"universal":return"universal";default:return"unknown"}}e.toTargetPlatform=k;function m(c,a){switch(c){case 3:return a==="x64"?"win32-x64":a==="ia32"?"win32-ia32":a==="arm64"?"win32-arm64":"unknown";case 2:return a==="x64"?"linux-x64":a==="arm64"?"linux-arm64":a==="arm"?"linux-armhf":"unknown";case"alpine":return a==="x64"?"alpine-x64":a==="arm64"?"alpine-arm64":"unknown";case 1:return a==="x64"?"darwin-x64":a==="arm64"?"darwin-arm64":"unknown";case 0:return"web"}}e.getTargetPlatform=m;function E(c,a){return a==="web"&&!c.includes("web")}e.isNotWebExtensionInWebTargetPlatform=E;function i(c,a,l){return E(a,l)?!1:c==="undefined"||c==="universal"?!0:c==="unknown"?!1:c===l?!0:T(l).includes(c)}e.isTargetPlatformCompatible=i;function T(c){switch(c){case"win32-x64":return["win32-ia32"];case"win32-arm64":return["win32-ia32"]}return[]}e.getFallbackTargetPlarforms=T;function p(c){return c&&typeof c=="object"&&typeof c.id=="string"&&(!c.uuid||typeof c.uuid=="string")}e.isIExtensionIdentifier=p;var b;(function(c){c[c.NoneOrRelevance=0]="NoneOrRelevance",c[c.LastUpdatedDate=1]="LastUpdatedDate",c[c.Title=2]="Title",c[c.PublisherName=3]="PublisherName",c[c.InstallCount=4]="InstallCount",c[c.PublishedDate=10]="PublishedDate",c[c.AverageRating=6]="AverageRating",c[c.WeightedRating=12]="WeightedRating"})(b=e.SortBy||(e.SortBy={}));var f;(function(c){c[c.Default=0]="Default",c[c.Ascending=1]="Ascending",c[c.Descending=2]="Descending"})(f=e.SortOrder||(e.SortOrder={}));var w;(function(c){c.Install="install",c.Uninstall="uninstall"})(w=e.StatisticType||(e.StatisticType={}));var d;(function(c){c[c.None=0]="None",c[c.Install=1]="Install",c[c.Update=2]="Update"})(d=e.InstallOperation||(e.InstallOperation={})),e.IExtensionGalleryService=(0,y.createDecorator)("extensionGalleryService");var S;(function(c){c.Unsupported="Unsupported",c.Malicious="Malicious",c.Incompatible="Incompatible",c.Invalid="Invalid",c.Download="Download",c.Extract="Extract",c.Delete="Delete",c.Rename="Rename",c.CorruptZip="CorruptZip",c.IncompleteZip="IncompleteZip",c.Internal="Internal"})(S=e.ExtensionManagementErrorCode||(e.ExtensionManagementErrorCode={}));class g extends Error{constructor(a,l){super(a);this.code=l,this.name=l}}e.ExtensionManagementError=g,e.IExtensionManagementService=(0,y.createDecorator)("extensionManagementService"),e.DISABLED_EXTENSIONS_STORAGE_PATH="extensionsIdentifiers/disabled",e.ENABLED_EXTENSIONS_STORAGE_PATH="extensionsIdentifiers/enabled",e.IGlobalExtensionEnablementService=(0,y.createDecorator)("IGlobalExtensionEnablementService"),e.IExtensionTipsService=(0,y.createDecorator)("IExtensionTipsService"),e.DefaultIconPath=P.FileAccess.asBrowserUri("./media/defaultIcon.png",Z).toString(!0),e.ExtensionsLabel=(0,_.localize)(0,null),e.ExtensionsLocalizedLabel={value:e.ExtensionsLabel,original:"Extensions"},e.ExtensionsChannelId="extensions",e.PreferencesLabel=(0,_.localize)(1,null),e.PreferencesLocalizedLabel={value:e.PreferencesLabel,original:"Preferences"},e.IExtensionManagementCLIService=(0,y.createDecorator)("IExtensionManagementCLIService")}),define(he[180],de([0,1,6,2,20,5,58,31]),function(Z,e,P,_,y,C,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionTipsChannel=e.ExtensionManagementChannelClient=e.ExtensionManagementChannel=void 0;function m(w,d){return C.URI.revive(d?d.transformIncoming(w):w)}function E(w,d){return d?d.transformOutgoingURI(w):w}function i(w,d){d=d||I.DefaultURITransformer;const S=w.manifest;return{...(0,I.transformAndReviveIncomingURIs)({...w,manifest:void 0},d),manifest:S}}function T(w,d){return d?(0,y.cloneAndChange)(w,S=>S instanceof C.URI?d.transformOutgoingURI(S):void 0):w}class p{constructor(d,S){this.service=d,this.getUriTransformer=S,this.onInstallExtension=P.Event.buffer(d.onInstallExtension,!0),this.onDidInstallExtensions=P.Event.buffer(d.onDidInstallExtensions,!0),this.onUninstallExtension=P.Event.buffer(d.onUninstallExtension,!0),this.onDidUninstallExtension=P.Event.buffer(d.onDidUninstallExtension,!0)}listen(d,S){const g=this.getUriTransformer(d);switch(S){case"onInstallExtension":return this.onInstallExtension;case"onDidInstallExtensions":return P.Event.map(this.onDidInstallExtensions,c=>c.map(a=>({...a,local:a.local?T(a.local,g):a.local})));case"onUninstallExtension":return this.onUninstallExtension;case"onDidUninstallExtension":return this.onDidUninstallExtension}throw new Error("Invalid listen")}call(d,S,g){const c=this.getUriTransformer(d);switch(S){case"zip":return this.service.zip(i(g[0],c)).then(a=>E(a,c));case"unzip":return this.service.unzip(m(g[0],c));case"install":return this.service.install(m(g[0],c),g[1]);case"getManifest":return this.service.getManifest(m(g[0],c));case"getTargetPlatform":return this.service.getTargetPlatform();case"canInstall":return this.service.canInstall(g[0]);case"installFromGallery":return this.service.installFromGallery(g[0],g[1]);case"uninstall":return this.service.uninstall(i(g[0],c),g[1]);case"reinstallFromGallery":return this.service.reinstallFromGallery(i(g[0],c));case"getInstalled":return this.service.getInstalled(g[0]).then(a=>a.map(l=>T(l,c)));case"updateMetadata":return this.service.updateMetadata(i(g[0],c),g[1]).then(a=>T(a,c));case"updateExtensionScope":return this.service.updateExtensionScope(i(g[0],c),g[1]).then(a=>T(a,c));case"getExtensionsReport":return this.service.getExtensionsReport()}throw new Error("Invalid call")}}e.ExtensionManagementChannel=p;class b extends _.Disposable{constructor(d){super();this.channel=d,this._onInstallExtension=this._register(new P.Emitter),this.onInstallExtension=this._onInstallExtension.event,this._onDidInstallExtensions=this._register(new P.Emitter),this.onDidInstallExtensions=this._onDidInstallExtensions.event,this._onUninstallExtension=this._register(new P.Emitter),this.onUninstallExtension=this._onUninstallExtension.event,this._onDidUninstallExtension=this._register(new P.Emitter),this.onDidUninstallExtension=this._onDidUninstallExtension.event,this._register(this.channel.listen("onInstallExtension")(S=>this._onInstallExtension.fire({identifier:S.identifier,source:this.isUriComponents(S.source)?C.URI.revive(S.source):S.source}))),this._register(this.channel.listen("onDidInstallExtensions")(S=>this._onDidInstallExtensions.fire(S.map(g=>({...g,local:g.local?i(g.local,null):g.local,source:this.isUriComponents(g.source)?C.URI.revive(g.source):g.source}))))),this._register(this.channel.listen("onUninstallExtension")(S=>this._onUninstallExtension.fire(S))),this._register(this.channel.listen("onDidUninstallExtension")(S=>this._onDidUninstallExtension.fire(S)))}isUriComponents(d){return d?typeof d.path=="string"&&typeof d.scheme=="string":!1}getTargetPlatform(){return this._targetPlatformPromise||(this._targetPlatformPromise=this.channel.call("getTargetPlatform")),this._targetPlatformPromise}async canInstall(d){const S=await this.getTargetPlatform();return d.allTargetPlatforms.some(g=>(0,k.isTargetPlatformCompatible)(g,d.allTargetPlatforms,S))}zip(d){return Promise.resolve(this.channel.call("zip",[d]).then(S=>C.URI.revive(S)))}unzip(d){return Promise.resolve(this.channel.call("unzip",[d]))}install(d,S){return Promise.resolve(this.channel.call("install",[d,S])).then(g=>i(g,null))}getManifest(d){return Promise.resolve(this.channel.call("getManifest",[d]))}installFromGallery(d,S){return Promise.resolve(this.channel.call("installFromGallery",[d,S])).then(g=>i(g,null))}uninstall(d,S){return Promise.resolve(this.channel.call("uninstall",[d,S]))}reinstallFromGallery(d){return Promise.resolve(this.channel.call("reinstallFromGallery",[d]))}getInstalled(d=null){return Promise.resolve(this.channel.call("getInstalled",[d])).then(S=>S.map(g=>i(g,null)))}updateMetadata(d,S){return Promise.resolve(this.channel.call("updateMetadata",[d,S])).then(g=>i(g,null))}updateExtensionScope(d,S){return Promise.resolve(this.channel.call("updateExtensionScope",[d,S])).then(g=>i(g,null))}getExtensionsReport(){return Promise.resolve(this.channel.call("getExtensionsReport"))}registerParticipant(){throw new Error("Not Supported")}}e.ExtensionManagementChannelClient=b;class f{constructor(d){this.service=d}listen(d,S){throw new Error("Invalid listen")}call(d,S,g){switch(S){case"getConfigBasedTips":return this.service.getConfigBasedTips(C.URI.revive(g[0]));case"getImportantExecutableBasedTips":return this.service.getImportantExecutableBasedTips();case"getOtherExecutableBasedTips":return this.service.getOtherExecutableBasedTips();case"getAllWorkspacesTips":return this.service.getAllWorkspacesTips()}throw new Error("Invalid call")}}e.ExtensionTipsChannel=f}),define(he[19],de([0,1,28,3,15,12,5,155,7]),function(Z,e,P,_,y,C,I,k,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPlatformLimits=e.Arch=e.ByteSize=e.FALLBACK_MAX_MEMORY_SIZE_MB=e.MIN_MAX_MEMORY_SIZE_MB=e.whenProviderRegistered=e.etag=e.ETAG_DISABLED=e.FileKind=e.FILES_EXCLUDE_CONFIG=e.FILES_ASSOCIATIONS_CONFIG=e.HotExitConfiguration=e.AutoSaveConfiguration=e.FileOperationResult=e.NotModifiedSinceFileOperationError=e.FileOperationError=e.isParent=e.FileChangesEvent=e.FileChangeType=e.FileOperationEvent=e.FileOperation=e.toFileOperationResult=e.toFileSystemProviderErrorCode=e.markAsFileSystemProviderError=e.ensureFileSystemProviderError=e.createFileSystemProviderError=e.FileSystemProviderError=e.FileSystemProviderErrorCode=e.hasFileReadStreamCapability=e.hasOpenReadWriteCloseCapability=e.hasFileFolderCopyCapability=e.hasReadWriteCapability=e.FileSystemProviderCapabilities=e.FilePermission=e.FileType=e.isFileOpenForWriteOptions=e.IFileService=void 0,e.IFileService=(0,m.createDecorator)("fileService");function E(R){return R.create===!0}e.isFileOpenForWriteOptions=E;var i;(function(R){R[R.Unknown=0]="Unknown",R[R.File=1]="File",R[R.Directory=2]="Directory",R[R.SymbolicLink=64]="SymbolicLink"})(i=e.FileType||(e.FileType={}));var T;(function(R){R[R.Readonly=1]="Readonly"})(T=e.FilePermission||(e.FilePermission={}));var p;(function(R){R[R.FileReadWrite=2]="FileReadWrite",R[R.FileOpenReadWriteClose=4]="FileOpenReadWriteClose",R[R.FileReadStream=16]="FileReadStream",R[R.FileFolderCopy=8]="FileFolderCopy",R[R.PathCaseSensitive=1024]="PathCaseSensitive",R[R.Readonly=2048]="Readonly",R[R.Trash=4096]="Trash",R[R.FileWriteUnlock=8192]="FileWriteUnlock"})(p=e.FileSystemProviderCapabilities||(e.FileSystemProviderCapabilities={}));function b(R){return!!(R.capabilities&2)}e.hasReadWriteCapability=b;function f(R){return!!(R.capabilities&8)}e.hasFileFolderCopyCapability=f;function w(R){return!!(R.capabilities&4)}e.hasOpenReadWriteCloseCapability=w;function d(R){return!!(R.capabilities&16)}e.hasFileReadStreamCapability=d;var S;(function(R){R.FileExists="EntryExists",R.FileNotFound="EntryNotFound",R.FileNotADirectory="EntryNotADirectory",R.FileIsADirectory="EntryIsADirectory",R.FileExceedsMemoryLimit="EntryExceedsMemoryLimit",R.FileTooLarge="EntryTooLarge",R.FileWriteLocked="EntryWriteLocked",R.NoPermissions="NoPermissions",R.Unavailable="Unavailable",R.Unknown="Unknown"})(S=e.FileSystemProviderErrorCode||(e.FileSystemProviderErrorCode={}));class g extends Error{constructor(B,H){super(B);this.code=H}}e.FileSystemProviderError=g;function c(R,B){const H=new g(R.toString(),B);return l(H,B),H}e.createFileSystemProviderError=c;function a(R){return R||c((0,k.localize)(0,null),S.Unknown)}e.ensureFileSystemProviderError=a;function l(R,B){return R.name=B?`${B} (FileSystemError)`:"FileSystemError",R}e.markAsFileSystemProviderError=l;function n(R){if(!R)return S.Unknown;if(R instanceof g)return R.code;const B=/^(.+) \(FileSystemError\)$/.exec(R.name);if(!B)return S.Unknown;switch(B[1]){case S.FileExists:return S.FileExists;case S.FileIsADirectory:return S.FileIsADirectory;case S.FileNotADirectory:return S.FileNotADirectory;case S.FileNotFound:return S.FileNotFound;case S.FileExceedsMemoryLimit:return S.FileExceedsMemoryLimit;case S.FileTooLarge:return S.FileTooLarge;case S.FileWriteLocked:return S.FileWriteLocked;case S.NoPermissions:return S.NoPermissions;case S.Unavailable:return S.Unavailable}return S.Unknown}e.toFileSystemProviderErrorCode=n;function s(R){if(R instanceof D)return R.fileOperationResult;switch(n(R)){case S.FileNotFound:return 1;case S.FileIsADirectory:return 0;case S.FileNotADirectory:return 10;case S.FileWriteLocked:return 5;case S.NoPermissions:return 6;case S.FileExists:return 4;case S.FileExceedsMemoryLimit:return 9;case S.FileTooLarge:return 7;default:return 11}}e.toFileOperationResult=s;var r;(function(R){R[R.CREATE=0]="CREATE",R[R.DELETE=1]="DELETE",R[R.MOVE=2]="MOVE",R[R.COPY=3]="COPY"})(r=e.FileOperation||(e.FileOperation={}));class t{constructor(B,H,q){this.resource=B,this.operation=H,this.target=q}isOperation(B){return this.operation===B}}e.FileOperationEvent=t;var o;(function(R){R[R.UPDATED=0]="UPDATED",R[R.ADDED=1]="ADDED",R[R.DELETED=2]="DELETED"})(o=e.FileChangeType||(e.FileChangeType={}));class u{constructor(B,H){this.added=void 0,this.updated=void 0,this.deleted=void 0;const q=new Map;for(const W of B){const U=q.get(W.type);U?U.push([W.resource,W]):q.set(W.type,[[W.resource,W]])}for(const[W,U]of q)switch(W){case 1:this.added=P.TernarySearchTree.forUris(()=>H),this.added.fill(U);break;case 0:this.updated=P.TernarySearchTree.forUris(()=>H),this.updated.fill(U);break;case 2:this.deleted=P.TernarySearchTree.forUris(()=>H),this.deleted.fill(U);break}}contains(B,...H){return this.doContains(B,{includeChildren:!1},...H)}affects(B,...H){return this.doContains(B,{includeChildren:!0},...H)}doContains(B,H,...q){if(!B)return!1;const W=q.length>0;return!!((!W||q.includes(1))&&(this.added?.get(B)||H.includeChildren&&this.added?.findSuperstr(B))||(!W||q.includes(0))&&(this.updated?.get(B)||H.includeChildren&&this.updated?.findSuperstr(B))||(!W||q.includes(2))&&(this.deleted?.findSubstr(B)||H.includeChildren&&this.deleted?.findSuperstr(B)))}gotAdded(){return!!this.added}gotDeleted(){return!!this.deleted}gotUpdated(){return!!this.updated}get rawAdded(){return this.added}get rawDeleted(){return this.deleted}}e.FileChangesEvent=u;function v(R,B,H){return!R||!B||R===B||B.length>R.length?!1:(B.charAt(B.length-1)!==_.sep&&(B+=_.sep),H?(0,y.startsWithIgnoreCase)(R,B):R.indexOf(B)===0)}e.isParent=v;class D extends Error{constructor(B,H,q){super(B);this.fileOperationResult=H,this.options=q}}e.FileOperationError=D;class h extends D{constructor(B,H,q){super(B,2,q);this.stat=H}}e.NotModifiedSinceFileOperationError=h;var A;(function(R){R[R.FILE_IS_DIRECTORY=0]="FILE_IS_DIRECTORY",R[R.FILE_NOT_FOUND=1]="FILE_NOT_FOUND",R[R.FILE_NOT_MODIFIED_SINCE=2]="FILE_NOT_MODIFIED_SINCE",R[R.FILE_MODIFIED_SINCE=3]="FILE_MODIFIED_SINCE",R[R.FILE_MOVE_CONFLICT=4]="FILE_MOVE_CONFLICT",R[R.FILE_WRITE_LOCKED=5]="FILE_WRITE_LOCKED",R[R.FILE_PERMISSION_DENIED=6]="FILE_PERMISSION_DENIED",R[R.FILE_TOO_LARGE=7]="FILE_TOO_LARGE",R[R.FILE_INVALID_PATH=8]="FILE_INVALID_PATH",R[R.FILE_EXCEEDS_MEMORY_LIMIT=9]="FILE_EXCEEDS_MEMORY_LIMIT",R[R.FILE_NOT_DIRECTORY=10]="FILE_NOT_DIRECTORY",R[R.FILE_OTHER_ERROR=11]="FILE_OTHER_ERROR"})(A=e.FileOperationResult||(e.FileOperationResult={})),e.AutoSaveConfiguration={OFF:"off",AFTER_DELAY:"afterDelay",ON_FOCUS_CHANGE:"onFocusChange",ON_WINDOW_CHANGE:"onWindowChange"},e.HotExitConfiguration={OFF:"off",ON_EXIT:"onExit",ON_EXIT_AND_WINDOW_CLOSE:"onExitAndWindowClose"},e.FILES_ASSOCIATIONS_CONFIG="files.associations",e.FILES_EXCLUDE_CONFIG="files.exclude";var N;(function(R){R[R.FILE=0]="FILE",R[R.FOLDER=1]="FOLDER",R[R.ROOT_FOLDER=2]="ROOT_FOLDER"})(N=e.FileKind||(e.FileKind={})),e.ETAG_DISABLED="";function $(R){if(!(typeof R.size!="number"||typeof R.mtime!="number"))return R.mtime.toString(29)+R.size.toString(31)}e.etag=$;async function K(R,B){if(!B.hasProvider(I.URI.from({scheme:R.scheme})))return new Promise(H=>{const q=B.onDidChangeFileSystemProviderRegistrations(W=>{W.scheme===R.scheme&&W.added&&(q.dispose(),H())})})}e.whenProviderRegistered=K,e.MIN_MAX_MEMORY_SIZE_MB=2048,e.FALLBACK_MAX_MEMORY_SIZE_MB=4096;class j{static formatSize(B){return(0,C.isNumber)(B)||(B=0),B<j.KB?(0,k.localize)(1,null,B.toFixed(0)):B<j.MB?(0,k.localize)(2,null,(B/j.KB).toFixed(2)):B<j.GB?(0,k.localize)(3,null,(B/j.MB).toFixed(2)):B<j.TB?(0,k.localize)(4,null,(B/j.GB).toFixed(2)):(0,k.localize)(5,null,(B/j.TB).toFixed(2))}}e.ByteSize=j,j.KB=1024,j.MB=j.KB*j.KB,j.GB=j.MB*j.KB,j.TB=j.GB*j.KB;var F;(function(R){R[R.IA32=0]="IA32",R[R.OTHER=1]="OTHER"})(F=e.Arch||(e.Arch={}));function G(R){return{maxFileSize:R===0?300*j.MB:16*j.GB,maxHeapSize:R===0?700*j.MB:2*700*j.MB}}e.getPlatformLimits=G}),define(he[181],de([0,1,249,145,61,19]),function(Z,e,P,_,y,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isLaunchedFromCli=e.addArg=e.parseCLIProcessArgv=e.parseMainProcessArgv=void 0;function I(p,b){const f={onUnknownOption:d=>{console.warn((0,_.localize)(0,null,d))},onMultipleValues:(d,S)=>{console.warn((0,_.localize)(1,null,d,S))}},w=(0,y.parseArgs)(p,y.OPTIONS,b?f:void 0);return w.goto&&w._.forEach(d=>P(/^(\w:)?[^:]+(:\d*){0,2}$/.test(d),(0,_.localize)(2,null))),w["max-memory"]&&P(parseInt(w["max-memory"])>=C.MIN_MAX_MEMORY_SIZE_MB,`The max-memory argument cannot be specified lower than ${C.MIN_MAX_MEMORY_SIZE_MB} MB.`),w}function k(p){const b=p.findIndex(f=>!/^-/.test(f));if(b>-1)return[...p.slice(0,b),...p.slice(b+1)]}function m(p){let[,...b]=p;process.env.VSCODE_DEV&&(b=k(b)||[]);const f=!T(process.env);return I(b,f)}e.parseMainProcessArgv=m;function E(p){const[,,...b]=p;return I(b,!0)}e.parseCLIProcessArgv=E;function i(p,...b){const f=p.indexOf("--");return f===-1?p.push(...b):p.splice(f,0,...b),p}e.addArg=i;function T(p){return p.VSCODE_CLI==="1"}e.isLaunchedFromCli=T}),define(he[66],de([0,1,40,3,146,23,36,11,4,24,141,181,13]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolveShellEnv=void 0;const b=1e4;let f;async function w(S,g,c){return g["force-disable-user-env"]?(S.trace("resolveShellEnv(): skipped (--force-disable-user-env)"),{}):m.isWindows?(S.trace("resolveShellEnv(): skipped (Windows)"),{}):(0,T.isLaunchedFromCli)(c)&&!g["force-user-env"]?(S.trace("resolveShellEnv(): skipped (VSCODE_CLI is set)"),{}):((0,T.isLaunchedFromCli)(c)?S.trace("resolveShellEnv(): running (--force-user-env)"):S.trace("resolveShellEnv(): running (macOS/Linux)"),f||(f=p.Promises.withAsyncBody(async(a,l)=>{const n=new C.CancellationTokenSource,s=setTimeout(()=>{n.dispose(!0),l(new Error((0,y.localize)(0,null)))},b);try{a(await d(S,n.token))}catch(r){!(0,k.isPromiseCanceledError)(r)&&!n.token.isCancellationRequested?l(new Error((0,y.localize)(1,null,(0,I.toErrorMessage)(r)))):a({})}finally{clearTimeout(s),n.dispose()}})),f)}e.resolveShellEnv=w;async function d(S,g){const c=process.env.ELECTRON_RUN_AS_NODE;S.trace("getUnixShellEnvironment#runAsNode",c);const a=process.env.ELECTRON_NO_ATTACH_CONSOLE;S.trace("getUnixShellEnvironment#noAttach",a);const l=(0,E.generateUuid)().replace(/-/g,"").substr(0,12),n=new RegExp(l+"(.*)"+l),s={...process.env,ELECTRON_RUN_AS_NODE:"1",ELECTRON_NO_ATTACH_CONSOLE:"1"};S.trace("getUnixShellEnvironment#env",s);const r=await(0,i.getSystemShell)(m.OS,s);return S.trace("getUnixShellEnvironment#shell",r),new Promise((t,o)=>{if(g.isCancellationRequested)return o((0,k.canceled)());const u=(0,_.basename)(r);let v,D;/^pwsh(-preview)?$/.test(u)?(v=`& '${process.execPath}' -p '''${l}'' + JSON.stringify(process.env) + ''${l}'''`,D=["-Login","-Command"]):(v=`'${process.execPath}' -p '"${l}" + JSON.stringify(process.env) + "${l}"'`,D=["-ilc"]),S.trace("getUnixShellEnvironment#spawn",JSON.stringify(D),v);const h=(0,P.spawn)(r,[...D,v],{detached:!0,stdio:["ignore","pipe","pipe"],env:s});g.onCancellationRequested(()=>(h.kill(),o((0,k.canceled)()))),h.on("error",$=>{S.error("getUnixShellEnvironment#errorChildProcess",(0,I.toErrorMessage)($)),o($)});const A=[];h.stdout.on("data",$=>A.push($));const N=[];h.stderr.on("data",$=>N.push($)),h.on("close",($,K)=>{const j=Buffer.concat(A).toString("utf8");S.trace("getUnixShellEnvironment#raw",j);const F=Buffer.concat(N).toString("utf8");if(F.trim()&&S.trace("getUnixShellEnvironment#stderr",F),$||K)return o(new Error((0,y.localize)(2,null,$,K)));const G=n.exec(j),R=G?G[1]:"{}";try{const B=JSON.parse(R);c?B.ELECTRON_RUN_AS_NODE=c:delete B.ELECTRON_RUN_AS_NODE,a?B.ELECTRON_NO_ATTACH_CONSOLE=a:delete B.ELECTRON_NO_ATTACH_CONSOLE,delete B.XDG_RUNTIME_DIR,S.trace("getUnixShellEnvironment#result",B),t(B)}catch(B){S.error("getUnixShellEnvironment#errorCaught",(0,I.toErrorMessage)(B)),o(B)}})})}}),define(he[88],de([0,1,17,11,156,19]),function(Z,e,P,_,y,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readFileIntoStream=void 0;async function I(i,T,p,b,f,w){let d;try{await k(i,T,p,b,f,w)}catch(S){d=S}finally{d&&f.errorTransformer&&(d=f.errorTransformer(d)),typeof d!="undefined"&&p.error(d),p.end()}}e.readFileIntoStream=I;async function k(i,T,p,b,f,w){m(w);const d=await i.open(T,{create:!1});try{m(w);let S=0,g=0,c=f&&typeof f.length=="number"?f.length:void 0,a=P.VSBuffer.alloc(Math.min(f.bufferSize,typeof c=="number"?c:f.bufferSize)),l=f&&typeof f.position=="number"?f.position:0,n=0;do g=await i.read(d,l,a.buffer,n,a.byteLength-n),l+=g,n+=g,S+=g,typeof c=="number"&&(c-=g),n===a.byteLength&&(await p.write(b(a)),a=P.VSBuffer.alloc(Math.min(f.bufferSize,typeof c=="number"?c:f.bufferSize)),n=0);while(g>0&&(typeof c!="number"||c>0)&&m(w)&&E(S,f));if(n>0){let s=n;typeof c=="number"&&(s=Math.min(n,c)),p.write(b(a.slice(0,s)))}}catch(S){throw(0,C.ensureFileSystemProviderError)(S)}finally{await i.close(d)}}function m(i){if(i.isCancellationRequested)throw(0,_.canceled)();return!0}function E(i,T){if(T?.limits){if(typeof T.limits.memory=="number"&&i>T.limits.memory)throw(0,C.createFileSystemProviderError)((0,y.localize)(0,null),C.FileSystemProviderErrorCode.FileExceedsMemoryLimit);if(typeof T.limits.size=="number"&&i>T.limits.size)throw(0,C.createFileSystemProviderError)((0,y.localize)(1,null),C.FileSystemProviderErrorCode.FileTooLarge)}return!0}}),define(he[182],de([0,1,17,36,11,6,2,44,5,24,19]),function(Z,e,P,_,y,C,I,k,m,E,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPCFileSystemProvider=void 0;class T extends I.Disposable{constructor(b){super();this.channel=b,this._onDidChangeCapabilities=this._register(new C.Emitter),this.onDidChangeCapabilities=this._onDidChangeCapabilities.event,this._capabilities=2|4|16|8|8192,this._onDidChange=this._register(new C.Emitter),this.onDidChangeFile=this._onDidChange.event,this._onDidErrorOccur=this._register(new C.Emitter),this.onDidErrorOccur=this._onDidErrorOccur.event,this.sessionId=(0,E.generateUuid)(),this.registerFileChangeListeners()}get capabilities(){return this._capabilities}setCaseSensitive(b){b?this._capabilities|=1024:this._capabilities&=~1024,this._onDidChangeCapabilities.fire()}stat(b){return this.channel.call("stat",[b])}readdir(b){return this.channel.call("readdir",[b])}async readFile(b){const{buffer:f}=await this.channel.call("readFile",[b]);return f}readFileStream(b,f,w){const d=(0,k.newWriteableStream)(g=>P.VSBuffer.concat(g.map(c=>P.VSBuffer.wrap(c))).buffer),S=this.channel.listen("readFileStream",[b,f])(g=>{if(g instanceof P.VSBuffer)d.write(g.buffer);else{if(g==="end")d.end();else{let c=g;c instanceof Error||(c=(0,i.createFileSystemProviderError)((0,_.toErrorMessage)(c),i.FileSystemProviderErrorCode.Unknown)),d.error(c),d.end()}S.dispose()}});return w.onCancellationRequested(()=>{d.error((0,y.canceled)()),d.end(),S.dispose()}),d}writeFile(b,f,w){return this.channel.call("writeFile",[b,P.VSBuffer.wrap(f),w])}open(b,f){return this.channel.call("open",[b,f])}close(b){return this.channel.call("close",[b])}async read(b,f,w,d,S){const[g,c]=await this.channel.call("read",[b,f,S]);return w.set(g.buffer.slice(0,c),d),c}write(b,f,w,d,S){return this.channel.call("write",[b,f,P.VSBuffer.wrap(w),d,S])}mkdir(b){return this.channel.call("mkdir",[b])}delete(b,f){return this.channel.call("delete",[b,f])}rename(b,f,w){return this.channel.call("rename",[b,f,w])}copy(b,f,w){return this.channel.call("copy",[b,f,w])}registerFileChangeListeners(){this._register(this.channel.listen("fileChange",[this.sessionId])(b=>{if(Array.isArray(b)){const f=b;this._onDidChange.fire(f.map(w=>({resource:m.URI.revive(w.resource),type:w.type})))}else{const f=b;this._onDidErrorOccur.fire(f)}}))}watch(b,f){const w=(0,E.generateUuid)();return this.channel.call("watch",[this.sessionId,w,b,f]),(0,I.toDisposable)(()=>this.channel.call("unwatch",[this.sessionId,w]))}}e.IPCFileSystemProvider=T}),define(he[46],de([0,1,2,4,5,19]),function(Z,e,P,_,y,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeFileChanges=e.toFileChanges=e.WatcherService=e.AbstractWatcherService=void 0;class I extends P.Disposable{constructor(p,b,f){super();this.onFileChanges=p,this.onLogMessage=b,this.verboseLogging=f,this.serviceDisposables=this._register(new P.MutableDisposable),this.requests=void 0,this.restartCounter=0}init(){const p=new P.DisposableStore;this.serviceDisposables.value=p,this.service=this.createService(p),this.service.setVerboseLogging(this.verboseLogging),p.add(this.service.onDidChangeFile(b=>this.onFileChanges(b))),p.add(this.service.onDidLogMessage(b=>this.onLogMessage(b))),p.add(this.service.onDidError(b=>this.onError(b)))}onError(p){this.restartCounter<I.MAX_RESTARTS&&this.requests?(this.error(`restarting watcher after error: ${p}`),this.restart(this.requests)):this.error(`gave up attempting to restart watcher after error: ${p}`)}restart(p){this.restartCounter++,this.init(),this.watch(p)}async watch(p){this.requests=p,await this.service?.watch(p)}async setVerboseLogging(p){this.verboseLogging=p,await this.service?.setVerboseLogging(p)}error(p){this.onLogMessage({type:"error",message:`[File Watcher (parcel)] ${p}`})}dispose(){return this.service=void 0,super.dispose()}}e.AbstractWatcherService=I,I.MAX_RESTARTS=5;class k extends P.Disposable{}e.WatcherService=k;function m(T){return T.map(p=>({type:p.type,resource:y.URI.file(p.path)}))}e.toFileChanges=m;function E(T){const p=new i;for(const b of T)p.processEvent(b);return p.normalize()}e.normalizeFileChanges=E;class i{constructor(){this.normalized=new Set,this.mapPathToChange=new Map}toKey(p){return _.isLinux?p.path:p.path.toLowerCase()}processEvent(p){const b=this.mapPathToChange.get(this.toKey(p));let f=!1;if(b){const w=b.type,d=p.type;b.path!==p.path&&p.type===2?f=!0:w===1&&d===2?(this.mapPathToChange.delete(this.toKey(p)),this.normalized.delete(b)):w===2&&d===1?b.type=0:w===1&&d===0||(b.type=d)}else f=!0;f&&(this.normalized.add(p),this.mapPathToChange.set(this.toKey(p),p))}normalize(){const p=[],b=[];return Array.from(this.normalized).filter(f=>f.type!==2?(p.push(f),!1):!0).sort((f,w)=>f.path.length-w.path.length).filter(f=>b.some(w=>(0,C.isParent)(f.path,w,!_.isLinux))?!1:(b.push(f.path),!0)).concat(p)}}}),define(he[183],de([0,1,13,2,3,129,16,131,46]),function(Z,e,P,_,y,C,I,k,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileWatcher=void 0;class E extends _.Disposable{constructor(T,p,b,f){super();this.path=T,this.onDidFilesChange=p,this.onLogMessage=b,this.verboseLogging=f,this.fileChangesDelayer=this._register(new P.ThrottledDelayer(k.CHANGE_BUFFER_DELAY*2)),this.fileChangesBuffer=[],this.startWatching()}setVerboseLogging(T){this.verboseLogging=T}async startWatching(){try{const{stat:T,symbolicLink:p}=await I.SymlinkSupport.stat(this.path);if(this.isDisposed)return;let b=this.path;if(p)try{b=await(0,C.realpath)(b)}catch(f){if(this.onError(f),p.dangling)return}T.isDirectory()?this._register((0,k.watchFolder)(b,(f,w)=>{this.onFileChange({type:f==="changed"?0:f==="added"?1:2,path:(0,y.join)(this.path,(0,y.basename)(w))})},f=>this.onError(f))):this._register((0,k.watchFile)(b,f=>{this.onFileChange({type:f==="changed"?0:2,path:this.path})},f=>this.onError(f)))}catch(T){T.code!=="ENOENT"&&this.onError(T)}}onFileChange(T){this.fileChangesBuffer.push(T),this.verboseLogging&&this.onVerbose(`${T.type===1?"[ADDED]":T.type===2?"[DELETED]":"[CHANGED]"} ${T.path}`),this.fileChangesDelayer.trigger(async()=>{const p=this.fileChangesBuffer;this.fileChangesBuffer=[];const b=(0,m.normalizeFileChanges)(p);if(this.verboseLogging)for(const f of b)this.onVerbose(`>> normalized ${f.type===1?"[ADDED]":f.type===2?"[DELETED]":"[CHANGED]"} ${f.path}`);b.length>0&&this.onDidFilesChange(b)})}onError(T){this.isDisposed||this.onLogMessage({type:"error",message:`[File Watcher (node.js)] ${T}`})}onVerbose(T){this.isDisposed||this.onLogMessage({type:"trace",message:`[File Watcher (node.js)] ${T}`})}dispose(){this.isDisposed=!0,super.dispose()}}e.FileWatcher=E}),define(he[184],de([0,1,8,35,51,46]),function(Z,e,P,_,y,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileWatcher=void 0;class I extends C.WatcherService{constructor(m,E,i){super();this.onDidFilesChange=m,this.onLogMessage=E,this.verboseLogging=i,this.isDisposed=!1,this.startWatching()}startWatching(){const m=this._register(new y.Client(P.FileAccess.asFileUri("bootstrap-fork",Z).fsPath,{serverName:"File Watcher (nsfw)",args:["--type=watcherServiceNSFW"],env:{VSCODE_AMD_ENTRYPOINT:"vs/platform/files/node/watcher/nsfw/watcherApp",VSCODE_PIPE_LOGGING:"true",VSCODE_VERBOSE_LOGGING:"true"}}));this.service=_.ProxyChannel.toService((0,_.getNextTickChannel)(m.getChannel("watcher"))),this.service.setVerboseLogging(this.verboseLogging),this._register(this.service.onDidChangeFile(E=>!this.isDisposed&&this.onDidFilesChange(E))),this._register(this.service.onDidLogMessage(E=>this.onLogMessage(E)))}async setVerboseLogging(m){this.verboseLogging=m,this.isDisposed||await this.service?.setVerboseLogging(m)}error(m){this.onLogMessage({type:"error",message:`[File Watcher (nsfw)] ${m}`})}async watch(m){this.isDisposed||await this.service?.watch(m)}dispose(){this.isDisposed=!0,super.dispose()}}e.FileWatcher=I}),define(he[185],de([0,1,8,35,51,46]),function(Z,e,P,_,y,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileWatcher=void 0;class I extends C.AbstractWatcherService{constructor(m,E,i){super(m,E,i);this.init()}createService(m){const E=m.add(new y.Client(P.FileAccess.asFileUri("bootstrap-fork",Z).fsPath,{serverName:"File Watcher (parcel, node.js)",args:["--type=watcherServiceParcel"],env:{VSCODE_AMD_ENTRYPOINT:"vs/platform/files/node/watcher/parcel/watcherApp",VSCODE_PIPE_LOGGING:"true",VSCODE_VERBOSE_LOGGING:"true"}}));return m.add(E.onDidProcessExit(({code:i,signal:T})=>this.onError(`terminated by itself with code ${i}, signal: ${T}`))),_.ProxyChannel.toService((0,_.getNextTickChannel)(E.getChannel("watcher")))}}e.FileWatcher=I}),define(he[186],de([0,1,8,35,51,46]),function(Z,e,P,_,y,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileWatcher=void 0;class I extends C.WatcherService{constructor(m,E,i,T={}){super();this.onDidFilesChange=m,this.onLogMessage=E,this.verboseLogging=i,this.watcherOptions=T,this.isDisposed=!1,this.restartCounter=0,this.requests=void 0,this.startWatching()}startWatching(){const m=this._register(new y.Client(P.FileAccess.asFileUri("bootstrap-fork",Z).fsPath,{serverName:"File Watcher (chokidar)",args:["--type=watcherServiceChokidar"],env:{VSCODE_AMD_ENTRYPOINT:"vs/platform/files/node/watcher/unix/watcherApp",VSCODE_PIPE_LOGGING:"true",VSCODE_VERBOSE_LOGGING:"true"}}));this._register(m.onDidProcessExit(()=>{this.isDisposed||(this.restartCounter<=I.MAX_RESTARTS&&this.requests?(this.error("terminated unexpectedly and is restarted again..."),this.restartCounter++,this.startWatching(),this.service?.watch(this.requests)):this.error("failed to start after retrying for some time, giving up. Please report this as a bug report!"))})),this.service=_.ProxyChannel.toService((0,_.getNextTickChannel)(m.getChannel("watcher"))),this.service.init({...this.watcherOptions,verboseLogging:this.verboseLogging}),this._register(this.service.onDidChangeFile(E=>!this.isDisposed&&this.onDidFilesChange(E))),this._register(this.service.onDidLogMessage(E=>this.onLogMessage(E)))}async setVerboseLogging(m){this.verboseLogging=m,this.isDisposed||await this.service?.setVerboseLogging(m)}error(m){this.onLogMessage({type:"error",message:`[File Watcher (chokidar)] ${m}`})}async watch(m){this.requests=m,await this.service?.watch(m)}dispose(){this.isDisposed=!0,super.dispose()}}e.FileWatcher=I,I.MAX_RESTARTS=5}),define(he[67],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class P{constructor(...y){this._entries=new Map;for(let[C,I]of y)this.set(C,I)}set(y,C){const I=this._entries.get(y);return this._entries.set(y,C),I}has(y){return this._entries.has(y)}get(y){return this._entries.get(y)}}e.ServiceCollection=P}),define(he[89],de([0,1,13,11,63,175,7,67]),function(Z,e,P,_,y,C,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstantiationService=void 0;const m=!1;class E extends Error{constructor(f){super("cyclic dependency between services");this.message=f.findCycleSlow()??`UNABLE to detect cycle, dumping graph: 
${f.toString()}`}}class i{constructor(f=new k.ServiceCollection,w=!1,d){this._activeInstantiations=new Set,this._services=f,this._strict=w,this._parent=d,this._services.set(I.IInstantiationService,this)}createChild(f){return new i(f,this._strict,this)}invokeFunction(f,...w){let d=p.traceInvocation(f),S=!1;try{return f({get:(c,a)=>{if(S)throw(0,_.illegalState)("service accessor is only valid during the invocation of its target method");const l=this._getOrCreateServiceInstance(c,d);if(!l&&a!==I.optional)throw new Error(`[invokeFunction] unknown service '${c}'`);return l}},...w)}finally{S=!0,d.stop()}}createInstance(f,...w){let d,S;return f instanceof y.SyncDescriptor?(d=p.traceCreation(f.ctor),S=this._createInstance(f.ctor,f.staticArguments.concat(w),d)):(d=p.traceCreation(f),S=this._createInstance(f,w,d)),d.stop(),S}_createInstance(f,w=[],d){let S=I._util.getServiceDependencies(f).sort((a,l)=>a.index-l.index),g=[];for(const a of S){let l=this._getOrCreateServiceInstance(a.id,d);if(!l&&this._strict&&!a.optional)throw new Error(`[createInstance] ${f.name} depends on UNKNOWN service ${a.id}.`);g.push(l)}let c=S.length>0?S[0].index:w.length;if(w.length!==c){console.warn(`[createInstance] First service dependency of ${f.name} at position ${c+1} conflicts with ${w.length} static arguments`);let a=c-w.length;a>0?w=w.concat(new Array(a)):w=w.slice(0,c)}return new f(...[...w,...g])}_setServiceInstance(f,w){if(this._services.get(f)instanceof y.SyncDescriptor)this._services.set(f,w);else if(this._parent)this._parent._setServiceInstance(f,w);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(f){let w=this._services.get(f);return!w&&this._parent?this._parent._getServiceInstanceOrDescriptor(f):w}_getOrCreateServiceInstance(f,w){let d=this._getServiceInstanceOrDescriptor(f);return d instanceof y.SyncDescriptor?this._safeCreateAndCacheServiceInstance(f,d,w.branch(f,!0)):(w.branch(f,!1),d)}_safeCreateAndCacheServiceInstance(f,w,d){if(this._activeInstantiations.has(f))throw new Error(`illegal state - RECURSIVELY instantiating service '${f}'`);this._activeInstantiations.add(f);try{return this._createAndCacheServiceInstance(f,w,d)}finally{this._activeInstantiations.delete(f)}}_createAndCacheServiceInstance(f,w,d){const S=new C.Graph(a=>a.id.toString());let g=0;const c=[{id:f,desc:w,_trace:d}];for(;c.length;){const a=c.pop();if(S.lookupOrInsertNode(a),g++>1e3)throw new E(S);for(let l of I._util.getServiceDependencies(a.desc.ctor)){let n=this._getServiceInstanceOrDescriptor(l.id);if(!n&&!l.optional&&console.warn(`[createInstance] ${f} depends on ${l.id} which is NOT registered.`),n instanceof y.SyncDescriptor){const s={id:l.id,desc:n,_trace:a._trace.branch(l.id,!0)};S.insertEdge(a,s),c.push(s)}}}for(;;){const a=S.roots();if(a.length===0){if(!S.isEmpty())throw new E(S);break}for(const{data:l}of a){if(this._getServiceInstanceOrDescriptor(l.id)instanceof y.SyncDescriptor){const s=this._createServiceInstanceWithOwner(l.id,l.desc.ctor,l.desc.staticArguments,l.desc.supportsDelayedInstantiation,l._trace);this._setServiceInstance(l.id,s)}S.removeNode(l)}}return this._getServiceInstanceOrDescriptor(f)}_createServiceInstanceWithOwner(f,w,d=[],S,g){if(this._services.get(f)instanceof y.SyncDescriptor)return this._createServiceInstance(w,d,S,g);if(this._parent)return this._parent._createServiceInstanceWithOwner(f,w,d,S,g);throw new Error(`illegalState - creating UNKNOWN service instance ${w.name}`)}_createServiceInstance(f,w=[],d,S){if(d){const g=new P.IdleValue(()=>this._createInstance(f,w,S));return new Proxy(Object.create(null),{get(c,a){if(a in c)return c[a];let l=g.value,n=l[a];return typeof n!="function"||(n=n.bind(l),c[a]=n),n},set(c,a,l){return g.value[a]=l,!0}})}else return this._createInstance(f,w,S)}}e.InstantiationService=i;var T;(function(b){b[b.Creation=0]="Creation",b[b.Invocation=1]="Invocation",b[b.Branch=2]="Branch"})(T||(T={}));class p{constructor(f,w){this.type=f,this.name=w,this._start=Date.now(),this._dep=[]}static traceInvocation(f){return m?new p(1,f.name||f.toString().substring(0,42).replace(/\n/g,"")):p._None}static traceCreation(f){return m?new p(0,f.name):p._None}branch(f,w){let d=new p(2,f.toString());return this._dep.push([f,w,d]),d}stop(){let f=Date.now()-this._start;p._totals+=f;let w=!1;function d(g,c){let a=[],l=new Array(g+1).join("	");for(const[n,s,r]of c._dep)if(s&&r){w=!0,a.push(`${l}CREATES -> ${n}`);let t=d(g+1,r);t&&a.push(t)}else a.push(`${l}uses -> ${n}`);return a.join(`
`)}let S=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${d(1,this)}`,`DONE, took ${f.toFixed(2)}ms (grand total ${p._totals.toFixed(2)}ms)`];(f>2||w)&&console.log(S.join(`
`))}}p._None=new class extends p{constructor(){super(-1,null)}stop(){}branch(){return this}},p._totals=0}),define(he[187],de([0,1,7]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,P.createDecorator)("labelService")}),define(he[68],de([0,1,7]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isValidLocalization=e.ILocalizationsService=void 0,e.ILocalizationsService=(0,P.createDecorator)("localizationsService");function _(y){if(typeof y.languageId!="string"||!Array.isArray(y.translations)||y.translations.length===0)return!1;for(const C of y.translations)if(typeof C.id!="string"||typeof C.path!="string")return!1;return!(y.languageName&&typeof y.languageName!="string"||y.localizedLanguageName&&typeof y.localizedLanguageName!="string")}e.isValidLocalization=_}),define(he[14],de([0,1,36,6,2,4,7]),function(Z,e,P,_,y,C,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogLevelToString=e.parseLogLevel=e.getLogLevel=e.NullLogService=e.AbstractLoggerService=e.LogService=e.MultiplexLogService=e.AdapterLogger=e.ConsoleLogger=e.ConsoleMainLogger=e.AbstractMessageLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILoggerService=e.ILogService=void 0,e.ILogService=(0,I.createDecorator)("logService"),e.ILoggerService=(0,I.createDecorator)("loggerService");function k(){return new Date().toISOString()}var m;(function(l){l[l.Trace=0]="Trace",l[l.Debug=1]="Debug",l[l.Info=2]="Info",l[l.Warning=3]="Warning",l[l.Error=4]="Error",l[l.Critical=5]="Critical",l[l.Off=6]="Off"})(m=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=m.Info;class E extends y.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new _.Emitter),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(n){this.level!==n&&(this.level=n,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=E;class i extends E{constructor(n){super();this.logAlways=n}checkLogLevel(n){return this.logAlways||this.getLevel()<=n}trace(n,...s){this.checkLogLevel(m.Trace)&&this.log(m.Trace,this.format([n,...s]))}debug(n,...s){this.checkLogLevel(m.Debug)&&this.log(m.Debug,this.format([n,...s]))}info(n,...s){this.checkLogLevel(m.Info)&&this.log(m.Info,this.format([n,...s]))}warn(n,...s){this.checkLogLevel(m.Warning)&&this.log(m.Warning,this.format([n,...s]))}error(n,...s){if(this.checkLogLevel(m.Error))if(n instanceof Error){const r=Array.prototype.slice.call(arguments);r[0]=n.stack,this.log(m.Error,this.format(r))}else this.log(m.Error,this.format([n,...s]))}critical(n,...s){this.checkLogLevel(m.Critical)&&this.log(m.Critical,this.format([n,...s]))}flush(){}format(n){let s="";for(let r=0;r<n.length;r++){let t=n[r];if(typeof t=="object")try{t=JSON.stringify(t)}catch(o){}s+=(r>0?" ":"")+t}return s}}e.AbstractMessageLogger=i;class T extends E{constructor(n=e.DEFAULT_LOG_LEVEL){super();this.setLevel(n),this.useColors=!C.isWindows}trace(n,...s){this.getLevel()<=m.Trace&&(this.useColors?console.log(`[90m[main ${k()}][0m`,n,...s):console.log(`[main ${k()}]`,n,...s))}debug(n,...s){this.getLevel()<=m.Debug&&(this.useColors?console.log(`[90m[main ${k()}][0m`,n,...s):console.log(`[main ${k()}]`,n,...s))}info(n,...s){this.getLevel()<=m.Info&&(this.useColors?console.log(`[90m[main ${k()}][0m`,n,...s):console.log(`[main ${k()}]`,n,...s))}warn(n,...s){this.getLevel()<=m.Warning&&(this.useColors?console.warn(`[93m[main ${k()}][0m`,n,...s):console.warn(`[main ${k()}]`,n,...s))}error(n,...s){this.getLevel()<=m.Error&&(this.useColors?console.error(`[91m[main ${k()}][0m`,n,...s):console.error(`[main ${k()}]`,n,...s))}critical(n,...s){this.getLevel()<=m.Critical&&(this.useColors?console.error(`[90m[main ${k()}][0m`,n,...s):console.error(`[main ${k()}]`,n,...s))}dispose(){}flush(){}}e.ConsoleMainLogger=T;class p extends E{constructor(n=e.DEFAULT_LOG_LEVEL){super();this.setLevel(n)}trace(n,...s){this.getLevel()<=m.Trace&&console.log("%cTRACE","color: #888",n,...s)}debug(n,...s){this.getLevel()<=m.Debug&&console.log("%cDEBUG","background: #eee; color: #888",n,...s)}info(n,...s){this.getLevel()<=m.Info&&console.log("%c INFO","color: #33f",n,...s)}warn(n,...s){this.getLevel()<=m.Warning&&console.log("%c WARN","color: #993",n,...s)}error(n,...s){this.getLevel()<=m.Error&&console.log("%c  ERR","color: #f33",n,...s)}critical(n,...s){this.getLevel()<=m.Critical&&console.log("%cCRITI","background: #f33; color: white",n,...s)}dispose(){}flush(){}}e.ConsoleLogger=p;class b extends E{constructor(n,s=e.DEFAULT_LOG_LEVEL){super();this.adapter=n,this.setLevel(s)}trace(n,...s){this.getLevel()<=m.Trace&&this.adapter.log(m.Trace,[this.extractMessage(n),...s])}debug(n,...s){this.getLevel()<=m.Debug&&this.adapter.log(m.Debug,[this.extractMessage(n),...s])}info(n,...s){this.getLevel()<=m.Info&&this.adapter.log(m.Info,[this.extractMessage(n),...s])}warn(n,...s){this.getLevel()<=m.Warning&&this.adapter.log(m.Warning,[this.extractMessage(n),...s])}error(n,...s){this.getLevel()<=m.Error&&this.adapter.log(m.Error,[this.extractMessage(n),...s])}critical(n,...s){this.getLevel()<=m.Critical&&this.adapter.log(m.Critical,[this.extractMessage(n),...s])}extractMessage(n){return typeof n=="string"?n:(0,P.toErrorMessage)(n,this.getLevel()<=m.Trace)}dispose(){}flush(){}}e.AdapterLogger=b;class f extends E{constructor(n){super();this.logServices=n,n.length&&this.setLevel(n[0].getLevel())}setLevel(n){for(const s of this.logServices)s.setLevel(n);super.setLevel(n)}trace(n,...s){for(const r of this.logServices)r.trace(n,...s)}debug(n,...s){for(const r of this.logServices)r.debug(n,...s)}info(n,...s){for(const r of this.logServices)r.info(n,...s)}warn(n,...s){for(const r of this.logServices)r.warn(n,...s)}error(n,...s){for(const r of this.logServices)r.error(n,...s)}critical(n,...s){for(const r of this.logServices)r.critical(n,...s)}flush(){for(const n of this.logServices)n.flush()}dispose(){for(const n of this.logServices)n.dispose()}}e.MultiplexLogService=f;class w extends y.Disposable{constructor(n){super();this.logger=n,this._register(n)}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(n){this.logger.setLevel(n)}getLevel(){return this.logger.getLevel()}trace(n,...s){this.logger.trace(n,...s)}debug(n,...s){this.logger.debug(n,...s)}info(n,...s){this.logger.info(n,...s)}warn(n,...s){this.logger.warn(n,...s)}error(n,...s){this.logger.error(n,...s)}critical(n,...s){this.logger.critical(n,...s)}flush(){this.logger.flush()}}e.LogService=w;class d extends y.Disposable{constructor(n,s){super();this.logLevel=n,this.loggers=new Map,this.logLevelChangeableLoggers=[],this._register(s(r=>{this.logLevel=r,this.logLevelChangeableLoggers.forEach(t=>t.setLevel(r))}))}getLogger(n){return this.loggers.get(n.toString())}createLogger(n,s){let r=this.loggers.get(n.toString());return r||(r=this.doCreateLogger(n,s?.always?m.Trace:this.logLevel,s),this.loggers.set(n.toString(),r),s?.always||this.logLevelChangeableLoggers.push(r)),r}dispose(){this.logLevelChangeableLoggers.splice(0,this.logLevelChangeableLoggers.length),this.loggers.forEach(n=>n.dispose()),this.loggers.clear(),super.dispose()}}e.AbstractLoggerService=d;class S{constructor(){this.onDidChangeLogLevel=new _.Emitter().event}setLevel(n){}getLevel(){return m.Info}trace(n,...s){}debug(n,...s){}info(n,...s){}warn(n,...s){}error(n,...s){}critical(n,...s){}dispose(){}flush(){}}e.NullLogService=S;function g(l){if(l.verbose)return m.Trace;if(typeof l.logLevel=="string"){const n=c(l.logLevel.toLowerCase());if(n!==void 0)return n}return e.DEFAULT_LOG_LEVEL}e.getLogLevel=g;function c(l){switch(l){case"trace":return m.Trace;case"debug":return m.Debug;case"info":return m.Info;case"warn":return m.Warning;case"error":return m.Error;case"critical":return m.Critical;case"off":return m.Off}}e.parseLogLevel=c;function a(l){switch(l){case m.Trace:return"trace";case m.Debug:return"debug";case m.Info:return"info";case m.Warning:return"warn";case m.Error:return"error";case m.Critical:return"critical";case m.Off:return"off"}}e.LogLevelToString=a});var Ge=this&&this.__param||function(Z,e){return function(P,_){e(P,_,Z)}};define(he[188],de([0,1,40,13,36,6,2,8,3,16,26,14]),function(Z,e,P,_,y,C,I,k,m,E,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionsLifecycle=void 0;let p=class extends I.Disposable{constructor(f,w){super();this.environmentService=f,this.logService=w,this.processesLimiter=new _.Limiter(5)}async postUninstall(f){const w=this.parseScript(f,"uninstall");return w&&(this.logService.info(f.identifier.id,f.manifest.version,"Running post uninstall script"),await this.processesLimiter.queue(()=>this.runLifecycleHook(w.script,"uninstall",w.args,!0,f).then(()=>this.logService.info(f.identifier.id,f.manifest.version,"Finished running post uninstall script"),d=>this.logService.error(f.identifier.id,f.manifest.version,`Failed to run post uninstall script: ${d}`)))),E.Promises.rm(this.getExtensionStoragePath(f)).then(void 0,d=>this.logService.error("Error while removing extension storage path",d))}parseScript(f,w){const d=`vscode:${w}`;if(f.location.scheme===k.Schemas.file&&f.manifest&&f.manifest.scripts&&typeof f.manifest.scripts[d]=="string"){const S=f.manifest.scripts[d].split(" ");return S.length<2||S[0]!=="node"||!S[1]?(this.logService.warn(f.identifier.id,f.manifest.version,`${d} should be a node script`),null):{script:(0,m.join)(f.location.fsPath,S[1]),args:S.slice(2)||[]}}return null}runLifecycleHook(f,w,d,S,g){return new Promise((c,a)=>{const l=this.start(f,w,d,g);let n;const s=r=>{n&&(clearTimeout(n),n=null),r?a(r):c(void 0)};l.on("error",r=>{s((0,y.toErrorMessage)(r)||"Unknown")}),l.on("exit",(r,t)=>{s(r?`post-${w} process exited with code ${r}`:void 0)}),S&&(n=setTimeout(()=>{n=null,l.kill(),a("timed out")},5e3))})}start(f,w,d,S){const g={silent:!0,execArgv:void 0},c=(0,P.fork)(f,[`--type=extension-post-${w}`,...d],g);c.stdout.setEncoding("utf8"),c.stderr.setEncoding("utf8");const a=C.Event.fromNodeEventEmitter(c.stdout,"data"),l=C.Event.fromNodeEventEmitter(c.stderr,"data");a(r=>this.logService.info(S.identifier.id,S.manifest.version,`post-${w}`,r)),l(r=>this.logService.error(S.identifier.id,S.manifest.version,`post-${w}`,r));const n=C.Event.any(C.Event.map(a,r=>({data:`%c${r}`,format:[""]})),C.Event.map(l,r=>({data:`%c${r}`,format:["color: red"]})));return C.Event.debounce(n,(r,t)=>r?{data:r.data+t.data,format:[...r.format,...t.format]}:{data:t.data,format:t.format},100)(r=>{console.group(S.identifier.id),console.log(r.data,...r.format),console.groupEnd()}),c}getExtensionStoragePath(f){return(0,m.join)(this.environmentService.globalStorageHome.fsPath,f.identifier.id.toLowerCase())}};p=Ne([Ge(0,i.IEnvironmentService),Ge(1,T.ILogService)],p),e.ExtensionsLifecycle=p}),define(he[189],de([0,1,18,13,11,6,2,3,46,14]),function(Z,e,P,_,y,C,I,k,m,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractDiskFileSystemProvider=void 0;class i extends I.Disposable{constructor(p){super();this.logService=p,this._onDidErrorOccur=this._register(new C.Emitter),this.onDidErrorOccur=this._onDidErrorOccur.event,this._onDidChangeFile=this._register(new C.Emitter),this.onDidChangeFile=this._onDidChangeFile.event,this.recursiveFoldersToWatch=[],this.recursiveWatchRequestDelayer=this._register(new _.ThrottledDelayer(0))}watch(p,b){return b.recursive?this.watchRecursive(p,b):this.watchNonRecursive(p)}watchRecursive(p,b){const f={path:this.toFilePath(p),excludes:b.excludes},w=(0,P.insert)(this.recursiveFoldersToWatch,f);return this.refreshRecursiveWatchers(),(0,I.toDisposable)(()=>{w(),this.refreshRecursiveWatchers()})}refreshRecursiveWatchers(){this.recursiveWatchRequestDelayer.trigger(()=>this.doRefreshRecursiveWatchers()).catch(p=>(0,y.onUnexpectedError)(p))}doRefreshRecursiveWatchers(){return this.recursiveWatcher||(this.recursiveWatcher=this._register(this.createRecursiveWatcher(this.recursiveFoldersToWatch.length,p=>this._onDidChangeFile.fire((0,m.toFileChanges)(p)),p=>this.onWatcherLogMessage(p),this.logService.getLevel()===E.LogLevel.Trace)),this._register(this.logService.onDidChangeLogLevel(()=>{this.recursiveWatcher?.setVerboseLogging(this.logService.getLevel()===E.LogLevel.Trace)}))),this.doWatch(this.recursiveWatcher,this.recursiveFoldersToWatch)}doWatch(p,b){return p.watch(b)}watchNonRecursive(p){const b=this.createNonRecursiveWatcher(this.toFilePath(p),w=>this._onDidChangeFile.fire((0,m.toFileChanges)(w)),w=>this.onWatcherLogMessage(w),this.logService.getLevel()===E.LogLevel.Trace),f=this.logService.onDidChangeLogLevel(()=>{b.setVerboseLogging(this.logService.getLevel()===E.LogLevel.Trace)});return(0,I.combinedDisposable)(b,f)}onWatcherLogMessage(p){p.type==="error"&&this._onDidErrorOccur.fire(p.message),this.logService[p.type](p.message)}toFilePath(p){return(0,k.normalize)(p.fsPath)}}e.AbstractDiskFileSystemProvider=i}),define(he[90],de([0,1,18,13,17,23,6,49,2,28,8,45,21,44,154,19,88,14]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b,f,w,d,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileService=void 0;let g=class St extends m.Disposable{constructor(a){super();this.logService=a,this.BUFFER_SIZE=256*1024,this._onDidChangeFileSystemProviderRegistrations=this._register(new I.Emitter),this.onDidChangeFileSystemProviderRegistrations=this._onDidChangeFileSystemProviderRegistrations.event,this._onWillActivateFileSystemProvider=this._register(new I.Emitter),this.onWillActivateFileSystemProvider=this._onWillActivateFileSystemProvider.event,this._onDidChangeFileSystemProviderCapabilities=this._register(new I.Emitter),this.onDidChangeFileSystemProviderCapabilities=this._onDidChangeFileSystemProviderCapabilities.event,this.provider=new Map,this._onDidRunOperation=this._register(new I.Emitter),this.onDidRunOperation=this._onDidRunOperation.event,this._onError=this._register(new I.Emitter),this.onError=this._onError.event,this._onDidFilesChange=this._register(new I.Emitter),this.onDidFilesChange=this._onDidFilesChange.event,this._onDidChangeFilesRaw=this._register(new I.Emitter),this.onDidChangeFilesRaw=this._onDidChangeFilesRaw.event,this.activeWatchers=new Map,this.caseSensitiveFileEventsWorker=this._register(new _.ThrottledWorker(St.FILE_EVENTS_THROTTLING.maxChangesChunkSize,St.FILE_EVENTS_THROTTLING.maxChangesBufferSize,St.FILE_EVENTS_THROTTLING.coolDownDelay,l=>this._onDidFilesChange.fire(new w.FileChangesEvent(l,!1)))),this.caseInsensitiveFileEventsWorker=this._register(new _.ThrottledWorker(St.FILE_EVENTS_THROTTLING.maxChangesChunkSize,St.FILE_EVENTS_THROTTLING.maxChangesBufferSize,St.FILE_EVENTS_THROTTLING.coolDownDelay,l=>this._onDidFilesChange.fire(new w.FileChangesEvent(l,!0)))),this.watchedResources=E.TernarySearchTree.forUris(l=>{const n=this.getProvider(l.scheme);return n?!this.isPathCaseSensitive(n):!1}),this.writeQueue=this._register(new _.ResourceQueue)}registerProvider(a,l){if(this.provider.has(a))throw new Error(`A filesystem provider for the scheme '${a}' is already registered.`);(0,T.mark)(`code/registerFilesystem/${a}`),this.provider.set(a,l),this._onDidChangeFileSystemProviderRegistrations.fire({added:!0,scheme:a,provider:l});const n=new m.DisposableStore;return n.add(l.onDidChangeFile(s=>this.onDidChangeFile(s,this.isPathCaseSensitive(l)))),n.add(l.onDidChangeCapabilities(()=>this._onDidChangeFileSystemProviderCapabilities.fire({provider:l,scheme:a}))),typeof l.onDidErrorOccur=="function"&&n.add(l.onDidErrorOccur(s=>this._onError.fire(new Error(s)))),(0,m.toDisposable)(()=>{this._onDidChangeFileSystemProviderRegistrations.fire({added:!1,scheme:a,provider:l}),this.provider.delete(a),(0,m.dispose)(n)})}getProvider(a){return this.provider.get(a)}async activateProvider(a){const l=[];this._onWillActivateFileSystemProvider.fire({scheme:a,join(n){l.push(n)}}),!this.provider.has(a)&&await _.Promises.settled(l)}async canHandleResource(a){return await this.activateProvider(a.scheme),this.hasProvider(a)}hasProvider(a){return this.provider.has(a.scheme)}hasCapability(a,l){const n=this.provider.get(a.scheme);return!!(n&&n.capabilities&l)}listCapabilities(){return k.Iterable.map(this.provider,([a,l])=>({scheme:a,capabilities:l.capabilities}))}async withProvider(a){if(!(0,p.isAbsolutePath)(a))throw new w.FileOperationError((0,f.localize)(0,null,this.resourceForError(a)),8);await this.activateProvider(a.scheme);const l=this.provider.get(a.scheme);if(!l){const n=new Error;throw n.name="ENOPRO",n.message=(0,f.localize)(1,null,a.toString()),n}return l}async withReadProvider(a){const l=await this.withProvider(a);if((0,w.hasOpenReadWriteCloseCapability)(l)||(0,w.hasReadWriteCapability)(l)||(0,w.hasFileReadStreamCapability)(l))return l;throw new Error(`Filesystem provider for scheme '${a.scheme}' neither has FileReadWrite, FileReadStream nor FileOpenReadWriteClose capability which is needed for the read operation.`)}async withWriteProvider(a){const l=await this.withProvider(a);if((0,w.hasOpenReadWriteCloseCapability)(l)||(0,w.hasReadWriteCapability)(l))return l;throw new Error(`Filesystem provider for scheme '${a.scheme}' neither has FileReadWrite nor FileOpenReadWriteClose capability which is needed for the write operation.`)}async resolve(a,l){try{return await this.doResolveFile(a,l)}catch(n){throw(0,w.toFileSystemProviderErrorCode)(n)===w.FileSystemProviderErrorCode.FileNotFound?new w.FileOperationError((0,f.localize)(2,null,this.resourceForError(a)),1):(0,w.ensureFileSystemProviderError)(n)}}async doResolveFile(a,l){const n=await this.withProvider(a),s=this.isPathCaseSensitive(n),r=l?.resolveTo,t=l?.resolveSingleChildDescendants,o=l?.resolveMetadata,u=await n.stat(a);let v;return this.toFileStat(n,a,u,void 0,!!o,(D,h)=>(v||(v=E.TernarySearchTree.forUris(()=>!s),v.set(a,!0),r&&v.fill(!0,r)),v.get(D.resource)||v.findSuperstr(D.resource.with({query:null,fragment:null}))?!0:D.isDirectory&&t?h===1:!1))}async toFileStat(a,l,n,s,r,t){const{providerExtUri:o}=this.getExtUri(a),u={resource:l,name:o.basename(l),isFile:(n.type&w.FileType.File)!=0,isDirectory:(n.type&w.FileType.Directory)!=0,isSymbolicLink:(n.type&w.FileType.SymbolicLink)!=0,mtime:n.mtime,ctime:n.ctime,size:n.size,readonly:Boolean((n.permissions??0)&w.FilePermission.Readonly)||Boolean(a.capabilities&2048),etag:(0,w.etag)({mtime:n.mtime,size:n.size})};if(u.isDirectory&&t(u,s)){try{const v=await a.readdir(l),D=await _.Promises.settled(v.map(async([h,A])=>{try{const N=o.joinPath(l,h),$=r?await a.stat(N):{type:A};return await this.toFileStat(a,N,$,v.length,r,t)}catch(N){return this.logService.trace(N),null}}));u.children=(0,P.coalesce)(D)}catch(v){this.logService.trace(v),u.children=[]}return u}return u}async resolveAll(a){return _.Promises.settled(a.map(async l=>{try{return{stat:await this.doResolveFile(l.resource,l.options),success:!0}}catch(n){return this.logService.trace(n),{stat:void 0,success:!1}}}))}async exists(a){const l=await this.withProvider(a);try{return!!await l.stat(a)}catch(n){return!1}}async canCreateFile(a,l){try{await this.doValidateCreateFile(a,l)}catch(n){return n}return!0}async doValidateCreateFile(a,l){if(!l?.overwrite&&await this.exists(a))throw new w.FileOperationError((0,f.localize)(3,null,this.resourceForError(a)),3,l)}async createFile(a,l=y.VSBuffer.fromString(""),n){await this.doValidateCreateFile(a,n);const s=await this.writeFile(a,l);return this._onDidRunOperation.fire(new w.FileOperationEvent(a,0,s)),s}async writeFile(a,l,n){const s=this.throwIfFileSystemIsReadonly(await this.withWriteProvider(a),a),{providerExtUri:r}=this.getExtUri(s);try{await this.validateWriteFile(s,a,n)||await this.mkdirp(s,r.dirname(a));let o;if((0,w.hasReadWriteCapability)(s)&&!(l instanceof y.VSBuffer))if((0,b.isReadableStream)(l)){const u=await(0,b.peekStream)(l,3);u.ended?o=y.VSBuffer.concat(u.buffer):o=u}else o=(0,b.peekReadable)(l,u=>y.VSBuffer.concat(u),3);else o=l;!(0,w.hasOpenReadWriteCloseCapability)(s)||(0,w.hasReadWriteCapability)(s)&&o instanceof y.VSBuffer?await this.doWriteUnbuffered(s,a,n,o):await this.doWriteBuffered(s,a,n,o instanceof y.VSBuffer?(0,y.bufferToReadable)(o):o)}catch(t){throw new w.FileOperationError((0,f.localize)(4,null,this.resourceForError(a),(0,w.ensureFileSystemProviderError)(t).toString()),(0,w.toFileOperationResult)(t),n)}return this.resolve(a,{resolveMetadata:!0})}async validateWriteFile(a,l,n){if(!!n?.unlock&&!(a.capabilities&8192))throw new Error((0,f.localize)(5,null,this.resourceForError(l)));let r;try{r=await a.stat(l)}catch(t){return}if((r.type&w.FileType.Directory)!=0)throw new w.FileOperationError((0,f.localize)(6,null,this.resourceForError(l)),0,n);if(this.throwIfFileIsReadonly(l,r),typeof n?.mtime=="number"&&typeof n.etag=="string"&&n.etag!==w.ETAG_DISABLED&&typeof r.mtime=="number"&&typeof r.size=="number"&&n.mtime<r.mtime&&n.etag!==(0,w.etag)({mtime:n.mtime,size:r.size}))throw new w.FileOperationError((0,f.localize)(7,null),3,n);return r}async readFile(a,l){const n=await this.withReadProvider(a);return l?.atomic?this.doReadFileAtomic(n,a,l):this.doReadFile(n,a,l)}async doReadFileAtomic(a,l,n){return new Promise((s,r)=>{this.writeQueue.queueFor(l,this.getExtUri(a).providerExtUri).queue(async()=>{try{const t=await this.doReadFile(a,l,n);s(t)}catch(t){r(t)}})})}async doReadFile(a,l,n){const s=await this.doReadFileStream(a,l,{...n,preferUnbuffered:!0});return{...s,value:await(0,y.streamToBuffer)(s.value)}}async readFileStream(a,l){const n=await this.withReadProvider(a);return this.doReadFileStream(n,a,l)}async doReadFileStream(a,l,n){const s=new C.CancellationTokenSource,r=this.validateReadFile(l,n).then(o=>o,o=>{throw s.cancel(),o});let t;try{return typeof n?.etag=="string"&&n.etag!==w.ETAG_DISABLED&&await r,!((0,w.hasOpenReadWriteCloseCapability)(a)||(0,w.hasFileReadStreamCapability)(a))||(0,w.hasReadWriteCapability)(a)&&n?.preferUnbuffered?t=this.readFileUnbuffered(a,l,n):(0,w.hasFileReadStreamCapability)(a)?t=this.readFileStreamed(a,l,s.token,n):t=this.readFileBuffered(a,l,s.token,n),{...await r,value:t}}catch(o){t&&await(0,b.consumeStream)(t);const u=(0,f.localize)(8,null,this.resourceForError(l),(0,w.ensureFileSystemProviderError)(o).toString());throw o instanceof w.NotModifiedSinceFileOperationError?new w.NotModifiedSinceFileOperationError(u,o.stat,n):new w.FileOperationError(u,(0,w.toFileOperationResult)(o),n)}}readFileStreamed(a,l,n,s=Object.create(null)){const r=a.readFileStream(l,s,n);return(0,b.transform)(r,{data:t=>t instanceof y.VSBuffer?t:y.VSBuffer.wrap(t),error:t=>new w.FileOperationError((0,f.localize)(9,null,this.resourceForError(l),(0,w.ensureFileSystemProviderError)(t).toString()),(0,w.toFileOperationResult)(t),s)},t=>y.VSBuffer.concat(t))}readFileBuffered(a,l,n,s=Object.create(null)){const r=(0,y.newWriteableBufferStream)();return(0,d.readFileIntoStream)(a,l,r,t=>t,{...s,bufferSize:this.BUFFER_SIZE,errorTransformer:t=>new w.FileOperationError((0,f.localize)(10,null,this.resourceForError(l),(0,w.ensureFileSystemProviderError)(t).toString()),(0,w.toFileOperationResult)(t),s)},n),r}readFileUnbuffered(a,l,n){const s=(0,b.newWriteableStream)(r=>y.VSBuffer.concat(r));return(async()=>{try{let r=await a.readFile(l);typeof n?.position=="number"&&(r=r.slice(n.position)),typeof n?.length=="number"&&(r=r.slice(0,n.length)),this.validateReadFileLimits(l,r.byteLength,n),s.end(y.VSBuffer.wrap(r))}catch(r){s.error(r),s.end()}})(),s}async validateReadFile(a,l){const n=await this.resolve(a,{resolveMetadata:!0});if(n.isDirectory)throw new w.FileOperationError((0,f.localize)(11,null,this.resourceForError(a)),0,l);if(typeof l?.etag=="string"&&l.etag!==w.ETAG_DISABLED&&l.etag===n.etag)throw new w.NotModifiedSinceFileOperationError((0,f.localize)(12,null),n,l);return this.validateReadFileLimits(a,n.size,l),n}validateReadFileLimits(a,l,n){if(n?.limits){let s;if(typeof n.limits.memory=="number"&&l>n.limits.memory&&(s=9),typeof n.limits.size=="number"&&l>n.limits.size&&(s=7),typeof s=="number")throw new w.FileOperationError((0,f.localize)(13,null,this.resourceForError(a)),s)}}async canMove(a,l,n){return this.doCanMoveCopy(a,l,"move",n)}async canCopy(a,l,n){return this.doCanMoveCopy(a,l,"copy",n)}async doCanMoveCopy(a,l,n,s){if(a.toString()!==l.toString())try{const r=n==="move"?this.throwIfFileSystemIsReadonly(await this.withWriteProvider(a),a):await this.withReadProvider(a),t=this.throwIfFileSystemIsReadonly(await this.withWriteProvider(l),l);await this.doValidateMoveCopy(r,a,t,l,n,s)}catch(r){return r}return!0}async move(a,l,n){const s=this.throwIfFileSystemIsReadonly(await this.withWriteProvider(a),a),r=this.throwIfFileSystemIsReadonly(await this.withWriteProvider(l),l),t=await this.doMoveCopy(s,a,r,l,"move",!!n),o=await this.resolve(l,{resolveMetadata:!0});return this._onDidRunOperation.fire(new w.FileOperationEvent(a,t==="move"?2:3,o)),o}async copy(a,l,n){const s=await this.withReadProvider(a),r=this.throwIfFileSystemIsReadonly(await this.withWriteProvider(l),l),t=await this.doMoveCopy(s,a,r,l,"copy",!!n),o=await this.resolve(l,{resolveMetadata:!0});return this._onDidRunOperation.fire(new w.FileOperationEvent(a,t==="copy"?3:2,o)),o}async doMoveCopy(a,l,n,s,r,t){if(l.toString()===s.toString())return r;const{exists:o,isSameResourceWithDifferentPathCase:u}=await this.doValidateMoveCopy(a,l,n,s,r,t);if(o&&!u&&t&&await this.del(s,{recursive:!0}),await this.mkdirp(n,this.getExtUri(n).providerExtUri.dirname(s)),r==="copy"){if(a===n&&(0,w.hasFileFolderCopyCapability)(a))await a.copy(l,s,{overwrite:t});else{const v=await this.resolve(l);v.isDirectory?await this.doCopyFolder(a,v,n,s):await this.doCopyFile(a,l,n,s)}return r}else return a===n?(await a.rename(l,s,{overwrite:t}),r):(await this.doMoveCopy(a,l,n,s,"copy",t),await this.del(l,{recursive:!0}),"copy")}async doCopyFile(a,l,n,s){if((0,w.hasOpenReadWriteCloseCapability)(a)&&(0,w.hasOpenReadWriteCloseCapability)(n))return this.doPipeBuffered(a,l,n,s);if((0,w.hasOpenReadWriteCloseCapability)(a)&&(0,w.hasReadWriteCapability)(n))return this.doPipeBufferedToUnbuffered(a,l,n,s);if((0,w.hasReadWriteCapability)(a)&&(0,w.hasOpenReadWriteCloseCapability)(n))return this.doPipeUnbufferedToBuffered(a,l,n,s);if((0,w.hasReadWriteCapability)(a)&&(0,w.hasReadWriteCapability)(n))return this.doPipeUnbuffered(a,l,n,s)}async doCopyFolder(a,l,n,s){await n.mkdir(s),Array.isArray(l.children)&&await _.Promises.settled(l.children.map(async r=>{const t=this.getExtUri(n).providerExtUri.joinPath(s,r.name);return r.isDirectory?this.doCopyFolder(a,await this.resolve(r.resource),n,t):this.doCopyFile(a,r.resource,n,t)}))}async doValidateMoveCopy(a,l,n,s,r,t){let o=!1;if(a===n){const{providerExtUri:v,isPathCaseSensitive:D}=this.getExtUri(a);if(D||(o=v.isEqual(l,s)),o&&r==="copy")throw new Error((0,f.localize)(14,null,this.resourceForError(l),this.resourceForError(s)));if(!o&&v.isEqualOrParent(s,l))throw new Error((0,f.localize)(15,null,this.resourceForError(l),this.resourceForError(s)))}const u=await this.exists(s);if(u&&!o){if(!t)throw new w.FileOperationError((0,f.localize)(16,null,this.resourceForError(l),this.resourceForError(s)),4);if(a===n){const{providerExtUri:v}=this.getExtUri(a);if(v.isEqualOrParent(l,s))throw new Error((0,f.localize)(17,null,this.resourceForError(l),this.resourceForError(s)))}}return{exists:u,isSameResourceWithDifferentPathCase:o}}getExtUri(a){const l=this.isPathCaseSensitive(a);return{providerExtUri:l?p.extUri:p.extUriIgnorePathCase,isPathCaseSensitive:l}}isPathCaseSensitive(a){return!!(a.capabilities&1024)}async createFolder(a){const l=this.throwIfFileSystemIsReadonly(await this.withProvider(a),a);await this.mkdirp(l,a);const n=await this.resolve(a,{resolveMetadata:!0});return this._onDidRunOperation.fire(new w.FileOperationEvent(a,0,n)),n}async mkdirp(a,l){const n=[],{providerExtUri:s}=this.getExtUri(a);for(;!s.isEqual(l,s.dirname(l));)try{if(((await a.stat(l)).type&w.FileType.Directory)==0)throw new Error((0,f.localize)(18,null,this.resourceForError(l)));break}catch(r){if((0,w.toFileSystemProviderErrorCode)(r)!==w.FileSystemProviderErrorCode.FileNotFound)throw r;n.push(s.basename(l)),l=s.dirname(l)}for(let r=n.length-1;r>=0;r--){l=s.joinPath(l,n[r]);try{await a.mkdir(l)}catch(t){if((0,w.toFileSystemProviderErrorCode)(t)!==w.FileSystemProviderErrorCode.FileExists)throw t}}}async canDelete(a,l){try{await this.doValidateDelete(a,l)}catch(n){return n}return!0}async doValidateDelete(a,l){const n=this.throwIfFileSystemIsReadonly(await this.withProvider(a),a);if(!!l?.useTrash&&!(n.capabilities&4096))throw new Error((0,f.localize)(19,null,this.resourceForError(a)));let r;try{r=await n.stat(a)}catch(o){}if(r)this.throwIfFileIsReadonly(a,r);else throw new w.FileOperationError((0,f.localize)(20,null,this.resourceForError(a)),1);if(!!!l?.recursive){const o=await this.resolve(a);if(o.isDirectory&&Array.isArray(o.children)&&o.children.length>0)throw new Error((0,f.localize)(21,null,this.resourceForError(a)))}return n}async del(a,l){const n=await this.doValidateDelete(a,l),s=!!l?.useTrash,r=!!l?.recursive;await n.delete(a,{recursive:r,useTrash:s}),this._onDidRunOperation.fire(new w.FileOperationEvent(a,1))}onDidChangeFile(a,l){this._onDidChangeFilesRaw.fire({changes:a});let n,s;{for(const r of a)this.watchedResources.has(r.resource)?(n||(n=[]),n.push(r)):(s||(s=[]),s.push(r));n&&this._onDidFilesChange.fire(new w.FileChangesEvent(n,!l))}if(s){const r=l?this.caseSensitiveFileEventsWorker:this.caseInsensitiveFileEventsWorker;!r.work(s)&&St.FILE_EVENTS_THROTTLING.warningscounter++<10&&this.logService.warn(`[File watcher]: started ignoring events due to too many file change events at once (incoming: ${s.length}, most recent change: ${s[0].resource.toString()}). Use 'files.watcherExclude' setting to exclude folders with lots of changing files (e.g. compilation output).`),r.pending>0&&this.logService.trace(`[File watcher]: started throttling events due to large amount of file change events at once (pending: ${r.pending}, most recent change: ${s[0].resource.toString()}). Use 'files.watcherExclude' setting to exclude folders with lots of changing files (e.g. compilation output).`)}}watch(a,l={recursive:!1,excludes:[]}){const n=new m.DisposableStore;let s=!1,r=()=>{s=!0};return n.add((0,m.toDisposable)(()=>r())),this.doWatch(a,l).then(t=>{s?(0,m.dispose)(t):r=()=>(0,m.dispose)(t)},t=>this.logService.error(t)),l.recursive||(this.watchedResources.set(a,(this.watchedResources.get(a)??0)+1),n.add((0,m.toDisposable)(()=>{const t=this.watchedResources.get(a);typeof t=="number"&&(t<=1?this.watchedResources.delete(a):this.watchedResources.set(a,t-1))}))),n}async doWatch(a,l){const n=await this.withProvider(a),s=this.toWatchKey(n,a,l);let r=this.activeWatchers.get(s);return r||(r={count:0,disposable:n.watch(a,l)},this.activeWatchers.set(s,r)),r.count+=1,(0,m.toDisposable)(()=>{r&&(r.count--,r.count===0&&((0,m.dispose)(r.disposable),this.activeWatchers.delete(s)))})}toWatchKey(a,l,n){const{providerExtUri:s}=this.getExtUri(a);return[s.getComparisonKey(l),String(n.recursive),n.excludes.join()].join()}dispose(){super.dispose();for(const[,a]of this.activeWatchers)(0,m.dispose)(a.disposable);this.activeWatchers.clear()}async doWriteBuffered(a,l,n,s){return this.writeQueue.queueFor(l,this.getExtUri(a).providerExtUri).queue(async()=>{const r=await a.open(l,{create:!0,unlock:n?.unlock??!1});try{(0,b.isReadableStream)(s)||(0,b.isReadableBufferedStream)(s)?await this.doWriteStreamBufferedQueued(a,r,s):await this.doWriteReadableBufferedQueued(a,r,s)}catch(t){throw(0,w.ensureFileSystemProviderError)(t)}finally{await a.close(r)}})}async doWriteStreamBufferedQueued(a,l,n){let s=0,r;if((0,b.isReadableBufferedStream)(n)){if(n.buffer.length>0){const t=y.VSBuffer.concat(n.buffer);await this.doWriteBuffer(a,l,t,t.byteLength,s,0),s+=t.byteLength}if(n.ended)return;r=n.stream}else r=n;return new Promise((t,o)=>{(0,b.listenStream)(r,{onData:async u=>{r.pause();try{await this.doWriteBuffer(a,l,u,u.byteLength,s,0)}catch(v){return o(v)}s+=u.byteLength,setTimeout(()=>r.resume())},onError:u=>o(u),onEnd:()=>t()})})}async doWriteReadableBufferedQueued(a,l,n){let s=0,r;for(;(r=n.read())!==null;)await this.doWriteBuffer(a,l,r,r.byteLength,s,0),s+=r.byteLength}async doWriteBuffer(a,l,n,s,r,t){let o=0;for(;o<s;)o+=await a.write(l,r+o,n.buffer,t+o,s-o)}async doWriteUnbuffered(a,l,n,s){return this.writeQueue.queueFor(l,this.getExtUri(a).providerExtUri).queue(()=>this.doWriteUnbufferedQueued(a,l,n,s))}async doWriteUnbufferedQueued(a,l,n,s){let r;s instanceof y.VSBuffer?r=s:(0,b.isReadableStream)(s)?r=await(0,y.streamToBuffer)(s):(0,b.isReadableBufferedStream)(s)?r=await(0,y.bufferedStreamToBuffer)(s):r=(0,y.readableToBuffer)(s),await a.writeFile(l,r.buffer,{create:!0,overwrite:!0,unlock:n?.unlock??!1})}async doPipeBuffered(a,l,n,s){return this.writeQueue.queueFor(s,this.getExtUri(n).providerExtUri).queue(()=>this.doPipeBufferedQueued(a,l,n,s))}async doPipeBufferedQueued(a,l,n,s){let r,t;try{r=await a.open(l,{create:!1}),t=await n.open(s,{create:!0,unlock:!1});const o=y.VSBuffer.alloc(this.BUFFER_SIZE);let u=0,v=0,D=0;do D=await a.read(r,u,o.buffer,v,o.byteLength-v),await this.doWriteBuffer(n,t,o,D,u,v),u+=D,v+=D,v===o.byteLength&&(v=0);while(D>0)}catch(o){throw(0,w.ensureFileSystemProviderError)(o)}finally{await _.Promises.settled([typeof r=="number"?a.close(r):Promise.resolve(),typeof t=="number"?n.close(t):Promise.resolve()])}}async doPipeUnbuffered(a,l,n,s){return this.writeQueue.queueFor(s,this.getExtUri(n).providerExtUri).queue(()=>this.doPipeUnbufferedQueued(a,l,n,s))}async doPipeUnbufferedQueued(a,l,n,s){return n.writeFile(s,await a.readFile(l),{create:!0,overwrite:!0,unlock:!1})}async doPipeUnbufferedToBuffered(a,l,n,s){return this.writeQueue.queueFor(s,this.getExtUri(n).providerExtUri).queue(()=>this.doPipeUnbufferedToBufferedQueued(a,l,n,s))}async doPipeUnbufferedToBufferedQueued(a,l,n,s){const r=await n.open(s,{create:!0,unlock:!1});try{const t=await a.readFile(l);await this.doWriteBuffer(n,r,y.VSBuffer.wrap(t),t.byteLength,0,0)}catch(t){throw(0,w.ensureFileSystemProviderError)(t)}finally{await n.close(r)}}async doPipeBufferedToUnbuffered(a,l,n,s){const r=await(0,y.streamToBuffer)(this.readFileBuffered(a,l,C.CancellationToken.None));await this.doWriteUnbuffered(n,s,void 0,r)}throwIfFileSystemIsReadonly(a,l){if(a.capabilities&2048)throw new w.FileOperationError((0,f.localize)(22,null,this.resourceForError(l)),6);return a}throwIfFileIsReadonly(a,l){if((l.permissions??0)&w.FilePermission.Readonly)throw new w.FileOperationError((0,f.localize)(23,null,this.resourceForError(a)),6)}resourceForError(a){return a.scheme===i.Schemas.file?a.fsPath:a.toString(!0)}};g.FILE_EVENTS_THROTTLING={maxChangesChunkSize:500,maxChangesBufferSize:3e4,coolDownDelay:200,warningscounter:0},g=Ne([Ge(0,S.ILogService)],g),e.FileService=g}),define(he[91],de([0,1,6,5,14]),function(Z,e,P,_,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FollowerLogService=e.LoggerChannelClient=e.LoggerChannel=e.LogLevelChannelClient=e.LogLevelChannel=void 0;class C{constructor(p){this.service=p,this.onDidChangeLogLevel=P.Event.buffer(p.onDidChangeLogLevel,!0)}listen(p,b){switch(b){case"onDidChangeLogLevel":return this.onDidChangeLogLevel}throw new Error(`Event not found: ${b}`)}async call(p,b,f){switch(b){case"setLevel":return this.service.setLevel(f)}throw new Error(`Call not found: ${b}`)}}e.LogLevelChannel=C;class I{constructor(p){this.channel=p}get onDidChangeLogLevel(){return this.channel.listen("onDidChangeLogLevel")}setLevel(p){I.setLevel(this.channel,p)}static setLevel(p,b){return p.call("setLevel",b)}}e.LogLevelChannelClient=I;class k{constructor(p){this.loggerService=p,this.loggers=new Map}listen(p,b){throw new Error(`Event not found: ${b}`)}async call(p,b,f){switch(b){case"createLogger":this.createLogger(_.URI.revive(f[0]),f[1]);return;case"log":return this.log(_.URI.revive(f[0]),f[1]);case"consoleLog":return this.consoleLog(f[0],f[1])}throw new Error(`Call not found: ${b}`)}createLogger(p,b){this.loggers.set(p.toString(),this.loggerService.createLogger(p,b))}consoleLog(p,b){let f=console.log;switch(p){case y.LogLevel.Error:f=console.error;break;case y.LogLevel.Warning:f=console.warn;break;case y.LogLevel.Info:f=console.info;break}f.call(console,...b)}log(p,b){const f=this.loggers.get(p.toString());if(!f)throw new Error("Create the logger before logging");for(const[w,d]of b)switch(w){case y.LogLevel.Trace:f.trace(d);break;case y.LogLevel.Debug:f.debug(d);break;case y.LogLevel.Info:f.info(d);break;case y.LogLevel.Warning:f.warn(d);break;case y.LogLevel.Error:f.error(d);break;case y.LogLevel.Critical:f.critical(d);break;default:throw new Error("Invalid log level")}}}e.LoggerChannel=k;class m extends y.AbstractLoggerService{constructor(p,b,f){super(p,b);this.channel=f}createConsoleMainLogger(){return new y.AdapterLogger({log:(p,b)=>{this.channel.call("consoleLog",[p,b])}})}doCreateLogger(p,b,f){return new E(this.channel,p,b,f)}}e.LoggerChannelClient=m;class E extends y.AbstractMessageLogger{constructor(p,b,f,w){super(w?.always);this.channel=p,this.file=b,this.isLoggerCreated=!1,this.buffer=[],this.setLevel(f),this.channel.call("createLogger",[b,w]).then(()=>{this.doLog(this.buffer),this.isLoggerCreated=!0})}log(p,b){const f=[[p,b]];this.isLoggerCreated?this.doLog(f):this.buffer.push(...f)}doLog(p){this.channel.call("log",[this.file,p])}}class i extends y.LogService{constructor(p,b){super(b);this.parent=p,this._register(p.onDidChangeLogLevel(f=>b.setLevel(f)))}setLevel(p){super.setLevel(p),this.parent.setLevel(p)}}e.FollowerLogService=i}),define(he[92],de([0,1,19,14]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SpdLogLogger=e.createRotatingLogger=void 0;async function y(m,E,i,T){try{const p=await new Promise((b,f)=>{Z(["spdlog"],b,f)});return p.setFlushOn(_.LogLevel.Trace),p.createAsyncRotatingLogger(m,E,i,T)}catch(p){console.error(p)}return null}function C(m,E,i,T){const p=Z.__$__nodeRequire("spdlog");return p.setFlushOn(_.LogLevel.Trace),p.createRotatingLogger(m,E,i,T)}e.createRotatingLogger=C;function I(m,E,i){switch(E){case _.LogLevel.Trace:m.trace(i);break;case _.LogLevel.Debug:m.debug(i);break;case _.LogLevel.Info:m.info(i);break;case _.LogLevel.Warning:m.warn(i);break;case _.LogLevel.Error:m.error(i);break;case _.LogLevel.Critical:m.critical(i);break;default:throw new Error("Invalid log level")}}class k extends _.AbstractMessageLogger{constructor(E,i,T,p){super();this.name=E,this.filepath=i,this.rotating=T,this.buffer=[],this.setLevel(p),this._loggerCreationPromise=this._createSpdLogLogger(),this._register(this.onDidChangeLogLevel(b=>{this._logger&&this._logger.setLevel(b)}))}_createSpdLogLogger(){const E=this.rotating?6:1,i=30/E*P.ByteSize.MB;return y(this.name,this.filepath,i,E).then(T=>{if(T){this._logger=T,this._logger.setLevel(this.getLevel());for(const{level:p,message:b}of this.buffer)I(this._logger,p,b);this.buffer=[]}})}log(E,i){this._logger?I(this._logger,E,i):this.getLevel()<=E&&this.buffer.push({level:E,message:i})}clearFormatters(){this._logger?this._logger.clearFormatters():this._loggerCreationPromise.then(()=>this.clearFormatters())}flush(){this._logger?this._logger.flush():this._loggerCreationPromise.then(()=>this.flush())}dispose(){this._logger?this.disposeLogger():this._loggerCreationPromise.then(()=>this.disposeLogger())}disposeLogger(){this._logger&&(this._logger.drop(),this._logger=void 0)}}e.SpdLogLogger=k}),define(he[190],de([0,1,79,158,7]),function(Z,e,P,_,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=e.MarkerTag=void 0;var C;(function(m){m[m.Unnecessary=1]="Unnecessary",m[m.Deprecated=2]="Deprecated"})(C=e.MarkerTag||(e.MarkerTag={}));var I;(function(m){m[m.Hint=1]="Hint",m[m.Info=2]="Info",m[m.Warning=4]="Warning",m[m.Error=8]="Error"})(I=e.MarkerSeverity||(e.MarkerSeverity={})),function(m){function E(f,w){return w-f}m.compare=E;const i=Object.create(null);i[m.Error]=(0,_.localize)(0,null),i[m.Warning]=(0,_.localize)(1,null),i[m.Info]=(0,_.localize)(2,null);function T(f){return i[f]||""}m.toString=T;function p(f){switch(f){case P.default.Error:return m.Error;case P.default.Warning:return m.Warning;case P.default.Info:return m.Info;case P.default.Ignore:return m.Hint}}m.fromSeverity=p;function b(f){switch(f){case m.Error:return P.default.Error;case m.Warning:return P.default.Warning;case m.Info:return P.default.Info;case m.Hint:return P.default.Ignore}}m.toSeverity=b}(I=e.MarkerSeverity||(e.MarkerSeverity={}));var k;(function(m){const E="";function i(p){return T(p,!0)}m.makeKey=i;function T(p,b){let f=[E];return p.source?f.push(p.source.replace("\xA6","\\\xA6")):f.push(E),p.code?typeof p.code=="string"?f.push(p.code.replace("\xA6","\\\xA6")):f.push(p.code.value.replace("\xA6","\\\xA6")):f.push(E),p.severity!==void 0&&p.severity!==null?f.push(I.toString(p.severity)):f.push(E),p.message&&b?f.push(p.message.replace("\xA6","\\\xA6")):f.push(E),p.startLineNumber!==void 0&&p.startLineNumber!==null?f.push(p.startLineNumber.toString()):f.push(E),p.startColumn!==void 0&&p.startColumn!==null?f.push(p.startColumn.toString()):f.push(E),p.endLineNumber!==void 0&&p.endLineNumber!==null?f.push(p.endLineNumber.toString()):f.push(E),p.endColumn!==void 0&&p.endColumn!==null?f.push(p.endColumn.toString()):f.push(E),f.push(E),f.join("\xA6")}m.makeKeyOptionalMessage=T})(k=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=(0,y.createDecorator)("markerService")}),define(he[191],de([0,1,6,79,7]),function(Z,e,P,_,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpProgress=e.NoOpNotification=e.NotificationsFilter=e.NeverShowAgainScope=e.INotificationService=e.Severity=void 0,e.Severity=_.default,e.INotificationService=(0,y.createDecorator)("notificationService");var C;(function(E){E[E.WORKSPACE=0]="WORKSPACE",E[E.GLOBAL=1]="GLOBAL"})(C=e.NeverShowAgainScope||(e.NeverShowAgainScope={}));var I;(function(E){E[E.OFF=0]="OFF",E[E.SILENT=1]="SILENT",E[E.ERROR=2]="ERROR"})(I=e.NotificationsFilter||(e.NotificationsFilter={}));class k{constructor(){this.progress=new m,this.onDidClose=P.Event.None,this.onDidChangeVisibility=P.Event.None}updateSeverity(i){}updateMessage(i){}updateActions(i){}close(){}}e.NoOpNotification=k;class m{infinite(){}done(){}total(i){}worked(i){}}e.NoOpProgress=m}),define(he[47],de([0,1,8,4,22,21]),function(Z,e,P,_,y,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let I;if(typeof _.globals.vscode!="undefined"&&typeof _.globals.vscode.context!="undefined"){const k=_.globals.vscode.context.configuration();if(k)I=k.product;else throw new Error("Sandbox: unable to resolve product configuration from preload script.")}else if(typeof Z?.__$__nodeRequire=="function"){const k=(0,C.dirname)(P.FileAccess.asFileUri("",Z));I=Z.__$__nodeRequire((0,C.joinPath)(k,"product.json").fsPath);const m=Z.__$__nodeRequire((0,C.joinPath)(k,"package.json").fsPath);y.env.VSCODE_DEV&&Object.assign(I,{nameShort:`${I.nameShort} Dev`,nameLong:`${I.nameLong} Dev`,dataFolderName:`${I.dataFolderName}-dev`}),Object.assign(I,{version:m.version})}else I={nameShort:"Code",nameLong:"Visual Studio Code",applicationName:"code",win32AppId:"{{F8A2A208-72B3-4D61-95FC-8A65D340689B}",win32x64AppId:"{{EA457B21-F73E-494C-ACAB-524FDE069978}",win32arm64AppId:"{{A5270FC5-65AD-483E-AC30-2C276B63D0AC}",win32UserAppId:"{{D628A17A-9713-46BF-8D57-E671B46A741E}",win32x64UserAppId:"{{771FD6B0-FA20-440A-A002-3B3BAC16DC50}",win32arm64UserAppId:"{{D9E514E7-1A56-452D-9337-2990C0DC4310}",win32NameVersion:"Microsoft Visual Studio Code",win32DirName:"Microsoft VS Code",win32SetupExeBasename:"VSCodeSetup",win32AppUserModelId:"Microsoft.VisualStudioCode",win32ShellNameShort:"Code",win32MutexName:"vscode",win32RegValueName:"VSCode",darwinCredits:"resources/darwin/Credits.rtf",darwinBundleIdentifier:"com.microsoft.VSCode",darwinExecutable:"VSCode",linuxIconName:"com.visualstudio.code",licenseFileName:"LICENSE.rtf",licenseName:"Multiple, see https://code.visualstudio.com/license",serverGreeting:["*","* Visual Studio Code Server","*","* Reminder: You may only use this software with Visual Studio family products,","* as described in the license https://aka.ms/vscode-remote/license","*"],urlProtocol:"vscode",dataFolderName:".vscode",serverDataFolderName:".vscode-server",downloadUrl:"https://code.visualstudio.com",updateUrl:"https://update.code.visualstudio.com",webEndpointUrl:"https://vscodeweb.azureedge.net",webEndpointUrlTemplate:"https://{{uuid}}.vscode-webview.net/{{quality}}/{{commit}}",webviewContentExternalBaseUrlTemplate:"https://{{uuid}}.vscode-webview.net/{{quality}}/{{commit}}/out/vs/workbench/contrib/webview/browser/pre/",quality:"stable",extensionsGallery:{serviceUrl:"https://marketplace.visualstudio.com/_apis/public/gallery",cacheUrl:"https://vscode.blob.core.windows.net/gallery/index",itemUrl:"https://marketplace.visualstudio.com/items",resourceUrlTemplate:"https://{publisher}.vscode-unpkg.net/{publisher}/{name}/{version}/{path}",controlUrl:"https://az764295.vo.msecnd.net/extensions/marketplace.json",recommendationsUrl:"https://az764295.vo.msecnd.net/extensions/workspaceRecommendations.json.gz"},extensionTips:{"ms-dotnettools.csharp":"{**/*.cs,**/project.json,**/global.json,**/*.csproj,**/*.cshtml,**/*.sln,**/appsettings.json}","firefox-devtools.vscode-firefox-debug":"{**/*.ts,**/*.tsx,**/*.js,**/*.jsx,**/*.es6,**/.babelrc}","ms-edgedevtools.vscode-edge-devtools":"{**/*.ts,**/*.tsx,**/*.js,**/*.css,**/*.html}","golang.Go":"**/*.go","ms-vscode.PowerShell":"{**/*.ps1,**/*.psd1,**/*.psm1,**/*.ps.config,**/*.ps1.config}","austin.code-gnu-global":"{**/*.c,**/*.cpp,**/*.h}","Ionide.Ionide-fsharp":"{**/*.fsx,**/*.fsi,**/*.fs,**/*.ml,**/*.mli}","dbaeumer.vscode-eslint":"{**/*.js,**/*.jsx,**/*.es6,**/.eslintrc.*,**/.eslintrc,**/.babelrc,**/jsconfig.json}","dbaeumer.jshint":"{**/*.js,**/*.jsx,**/*.es6,**/.babelrc,**/jsconfig.json,**/.jshintrc,**/.jshintignore}","ms-vscode.vscode-typescript-tslint-plugin":"{**/tslint.json}","bmewburn.vscode-intelephense-client":"{**/*.php,**/php.ini}","felixfbecker.php-intellisense":"{**/*.php,**/php.ini}","felixfbecker.php-debug":"{**/*.php,**/php.ini}","ikappas.phpcs":"{**/*.php,**/php.ini}","rust-lang.rust":"{**/*.rs,**/*.rslib}","ms-vscode.cpptools-extension-pack":"{**/*.c,**/*.cpp,**/*.cc,**/.cxx,**/*.hh,**/*.hpp,**/*.hxx,**/*.h}","DavidAnson.vscode-markdownlint":"{**/*.md}","ms-azuretools.vscode-docker":"{**/dockerfile,**/Dockerfile,**/docker-compose.yml,**/docker-compose.*.yml,**/*.cs,**/project.json,**/global.json,**/*.csproj,**/*.cshtml,**/*.sln,**/appsettings.json,**/*.py,**/*.ipynb,**/*.js,**/*.ts,**/package.json}","EditorConfig.EditorConfig":"{**/.editorconfig}","HookyQR.beautify":"{**/.jsbeautifyrc,**/*.js,**/*.jsx,**/*.es6,**/.eslintrc.*,**/.babelrc,**/jsconfig.json}","donjayamanne.githistory":"{**/.gitignore,**/.git}","felipecaputo.git-project-manager":"{**/.gitignore,**/.git}","eamodio.gitlens":"{**/.gitignore,**/.git}","rebornix.Ruby":"{**/*.rb,**/*.erb,**/*.reek,**/.fasterer.yml,**/ruby-lint.yml,**/.rubocop.yml}","DotJoshJohnson.xml":"{**/*.xml}","shinnn.stylelint":"{**/.stylelintrc,**/stylelint.config.js}","eg2.vscode-npm-script":"{**/package.json}","ms-mssql.mssql":"{**/*.sql}","bajdzis.vscode-database":"{**/*.sql}","mtxr.sqltools":"{**/*.sql}","usqlextpublisher.usql-vscode-ext":"{**/*.usql}","ms-vscode.sublime-keybindings":"{**/.sublime-project,**/.sublime-workspace}","k--kato.intellij-idea-keybindings":"{**/.idea}","christian-kohler.npm-intellisense":"{**/package.json}","octref.vetur":"{**/*.vue}","ms-python.python":"{**/*.py,**/*.ipynb}","ms-toolsai.jupyter":"{**/*.ipynb}","cake-build.cake-vscode":"{**/build.cake}","Angular.ng-template":"{**/.angular-cli.json,**/angular.json,**/*.ng.html,**/*.ng,**/*.ngml}","vscjava.vscode-maven":"**/pom.xml","ms-azuretools.vscode-azureterraform":"**/*.tf","HashiCorp.terraform":"**/*.tf","vsciot-vscode.vscode-arduino":"**/*.ino","ms-kubernetes-tools.vscode-kubernetes-tools":"{**/Chart.yaml}","GoogleCloudTools.cloudcode":"{**/skaffold.yaml}","Oracle.oracledevtools":"{**/*.sql}","ms-vscode.vscode-github-issue-notebooks":"{**/*.github-issues}"},extensionImportantTips:{"ms-dotnettools.csharp":{name:"C#",languages:["csharp"],pattern:"{**/*.cs,**/global.json,**/*.csproj,**/*.cshtml,**/*.sln}"},"ms-python.python":{name:"Python",languages:["python"],pattern:"{**/*.py}"},"ms-toolsai.jupyter":{name:"Jupyter",pattern:"{**/*.ipynb}"},"golang.Go":{name:"Go",languages:["go"],pattern:"**/*.go"},"vscjava.vscode-java-pack":{name:"Java",languages:["java"],pattern:"{**/*.java}",isExtensionPack:!0},"ms-vscode.PowerShell":{name:"PowerShell",languages:["powershell"],pattern:"{**/*.ps1,**/*.psd1,**/*.psm1}"},"ms-vscode.cpptools-extension-pack":{name:"C/C++",languages:["c","cpp"],pattern:"{**/*.c,**/*.cpp,**/*.cc,**/.cxx,**/*.hh,**/*.hpp,**/*.hxx,**/*.h}"},"ms-azuretools.vscode-docker":{name:"Docker",languages:["dockerfile"],pattern:"{**/dockerfile,**/Dockerfile,**/docker-compose.yml,**/docker-compose.*.yml}"},"octref.vetur":{name:"Vetur",languages:["vue"],pattern:"{**/*.vue}"},"ms-vscode.cmake-tools":{name:"CMake Tools",pattern:"{**/CMakeLists.txt}"},"msazurermtools.azurerm-vscode-tools":{name:"Azure Resource Manager",pattern:"{**/azuredeploy.json}"},"ms-vscode-remote.remote-containers":{name:"Remote - Containers",pattern:"{**/devcontainer.json}"},"ms-azuretools.vscode-bicep":{name:"Bicep",pattern:"{**/*.bicep}"},"svelte.svelte-vscode":{name:"Svelte",pattern:"{**/*.svelte}"},"ms-vscode.vscode-github-issue-notebooks":{name:"GitHub Issue Notebooks",pattern:"{**/*.github-issues}"}},keymapExtensionTips:["vscodevim.vim","ms-vscode.sublime-keybindings","ms-vscode.atom-keybindings","ms-vscode.brackets-keybindings","ms-vscode.vs-keybindings","ms-vscode.notepadplusplus-keybindings","k--kato.intellij-idea-keybindings","hiro-sun.vscode-emacs","alphabotsec.vscode-eclipse-keybindings","alefragnani.delphi-keybindings"],languageExtensionTips:["ms-python.python","ms-vscode.cpptools-extension-pack","ms-dotnettools.csharp","ms-toolsai.jupyter","vscjava.vscode-java-pack","ecmel.vscode-html-css","octref.vetur","bmewburn.vscode-intelephense-client","dsznajder.es7-react-js-snippets","golang.go","ms-vscode.powershell","dart-code.dart-code","rust-lang.rust","rebornix.ruby"],configBasedExtensionTips:{git:{configPath:".git/config",configName:"Git",recommendations:{"github.vscode-pull-request-github":{name:"GitHub Pull Request",remotes:["github.com"]},"eamodio.gitlens":{name:"GitLens"}}},devContainer:{configPath:".devcontainer/devcontainer.json",configName:"Dev Container",recommendations:{"ms-vscode-remote.remote-containers":{name:"Remote - Containers",important:!0}}},maven:{configPath:"pom.xml",configName:"Maven",recommendations:{"vscjava.vscode-java-pack":{name:"Java",important:!0,isExtensionPack:!0},"Pivotal.vscode-boot-dev-pack":{name:"Spring Boot Extension Pack",isExtensionPack:!0}}},gradle:{configPath:"build.gradle",configName:"Gradle",recommendations:{"vscjava.vscode-java-pack":{name:"Java",important:!0,isExtensionPack:!0}}},"github-pull-request":{configPath:".vscode/.github-pull-request.rec",configName:"GitHub",configScheme:"vscode-vfs",recommendations:{"github.vscode-pull-request-github":{name:"GitHub Pull Request",important:!0}}}},exeBasedExtensionTips:{az:{friendlyName:"Azure CLI",windowsPath:"%ProgramFiles(x86)%\\Microsoft SDKs\\Azure\\CLI2\\wbin\\az.cmd",recommendations:{"ms-vscode.azurecli":{name:"Azure CLI Tools"}}},heroku:{friendlyName:"Heroku CLI",windowsPath:"%ProgramFiles%\\Heroku\\bin\\heroku.cmd",recommendations:{"ms-azuretools.vscode-azureappservice":{name:"Azure App Service"},"pkosta2005.heroku-command":{name:"heroku-cli"}}},mongo:{friendlyName:"Mongo",windowsPath:"%ProgramFiles%\\MongoDB\\Server\\3.6\\bin\\mongod.exe",recommendations:{"ms-azuretools.vscode-cosmosdb":{name:"Azure Databases"}}},serverless:{friendlyName:"Serverless framework",windowsPath:"%APPDATA%\\npm\\serverless.cmd",recommendations:{"ms-azuretools.vscode-azurefunctions":{name:"Azure Functions"}}},func:{friendlyName:"Azure Function SDK",windowsPath:"%APPDATA%\\npm\\func.cmd",recommendations:{"ms-azuretools.vscode-azurefunctions":{name:"Azure Functions"}}},mysql:{friendlyName:"MySQL",windowsPath:"%ProgramFiles%\\MySQL\\MySQL Server 8.0\\bin\\mysqld.exe",recommendations:{"bajdzis.vscode-database":{name:"vscode-database"},"mtxr.sqltools":{name:"SQLTools"}}},postgres:{friendlyName:"PostgreSQL",windowsPath:"%ProgramFiles%\\PostgreSQL\\11\\bin\\psql.exe",recommendations:{"ms-ossdata.vscode-postgresql":{name:"PostgreSQL"},"bajdzis.vscode-database":{name:"vscode-database"},"mtxr.sqltools":{name:"SQLTools"}}},sqlcmd:{friendlyName:"SQL CLI",recommendations:{"ms-mssql.mssql":{name:"SQL Server (mssql)"}}},now:{friendlyName:"Now CLI",windowsPath:"%APPDATA%\\npm\\now.cmd",recommendations:{"ms-azuretools.vscode-azureappservice":{name:"Azure App Service"},"ms-azuretools.vscode-docker":{name:"Docker"}}},docker:{friendlyName:"Docker",windowsPath:"%ProgramFiles%\\Docker\\Docker\\Resources\\bin\\docker.exe",recommendations:{"ms-azuretools.vscode-docker":{name:"Docker",important:!0},"ms-vscode-remote.remote-containers":{name:"Remote - Containers",important:!0},"ms-kubernetes-tools.vscode-kubernetes-tools":{name:"Kubernetes"},"GoogleCloudTools.cloudcode":{name:"Cloud Code"},"mindaro.mindaro":{name:"Local Process with Kubernetes"}}},kubectl:{friendlyName:"Kubernetes",windowsPath:"%ProgramFiles%\\Docker\\Docker\\Resources\\bin\\kubectl.exe",recommendations:{"ms-azuretools.vscode-docker":{name:"Docker"},"ms-kubernetes-tools.vscode-kubernetes-tools":{name:"Kubernetes"},"GoogleCloudTools.cloudcode":{name:"Cloud Code"},"ms-vscode-remote.remote-containers":{name:"Remote - Containers"},"mindaro.mindaro":{name:"Local Process with Kubernetes"}}},ng:{friendlyName:"Angular CLI",windowsPath:"%APPDATA%\\npmexit\\ng.cmd",recommendations:{"johnpapa.Angular2":{name:"Angular Snippets"}}},"create-react-app":{friendlyName:"Create React App",windowsPath:"%APPDATA%\\npm\\create-react-app.cmd",recommendations:{"msjsdiag.vscode-react-native":{name:"React Native Tools"}}},"react-native":{friendlyName:"React Native",windowsPath:"%APPDATA%\\npm\\react-native-cli",recommendations:{"msjsdiag.vscode-react-native":{name:"React Native Tools"}}},p4:{friendlyName:"Perforce",recommendations:{"slevesque.perforce":{name:"Perforce for VS Code"}}},hg:{friendlyName:"Mercurial",recommendations:{"mrcrowl.hg":{name:"Hg"}}},git:{friendlyName:"Git",windowsPath:"%ProgramFiles%\\Git\\git-bash.exe",recommendations:{"eamodio.gitlens":{name:"GitLens"}}},svn:{friendlyName:"Subversion",windowsPath:"%ProgramFiles%\\TortoiseSVN\\bin\\TortoiseProc.exe",recommendations:{"johnstoncode.svn-scm":{name:"SVN"}}},subl:{friendlyName:"Sublime",windowsPath:"%ProgramFiles%\\Sublime Text3\\sublime_text.exe",recommendations:{"ms-vscode.sublime-keybindings":{name:"Sublime Text Keymap and Settings Importer"}}},atom:{friendlyName:"Atom",windowsPath:"%USERPROFILE%\\AppData\\Local\\atom\\bin\\atom.cmd",recommendations:{"ms-vscode.atom-keybindings":{name:"Atom Keymap"}}},brackets:{friendlyName:"Brackets",windowsPath:"%ProgramFiles(x86)%\\Brackets\\Brackets.exe",recommendations:{"ms-vscode.brackets-keybindings":{name:"Brackets Keymap"}}},notepadplusplus:{friendlyName:"Notepad++",windowsPath:"%ProgramFiles%\\Notepad++\\Notepad++.exe",recommendations:{"ms-vscode.notepadplusplus-keybindings":{name:"Notepad++ keymap"}}},vi:{friendlyName:"VIM",windowsPath:"%ProgramFiles(x86)%\\Vim\\vim80\\gvim.exe",recommendations:{"vscodevim.vim":{name:"Vim"}}},mvn:{friendlyName:"Maven",recommendations:{"vscjava.vscode-java-pack":{name:"Java",important:!0,isExtensionPack:!0}}},gradle:{friendlyName:"Gradle",recommendations:{"vscjava.vscode-java-pack":{name:"Java",important:!0,isExtensionPack:!0}}},"Microsoft Edge":{friendlyName:"Microsoft Edge",windowsPath:"%USERPROFILE%\\AppData\\Local\\Microsoft\\Edge\\Application\\msedge.exe",recommendations:{"ms-edgedevtools.vscode-edge-devtools":{name:"Microsoft Edge Developer Tools"}}},"Microsoft Edge Dev":{friendlyName:"Microsoft Edge Dev",windowsPath:"%USERPROFILE%\\AppData\\Local\\Microsoft\\Edge Dev\\Application\\msedge.exe",recommendations:{"ms-edgedevtools.vscode-edge-devtools":{name:"Microsoft Edge Developer Tools"}}},"Microsoft Edge Beta":{friendlyName:"Microsoft Edge Beta",windowsPath:"%USERPROFILE%\\AppData\\Local\\Microsoft\\Edge Beta\\Application\\msedge.exe",recommendations:{"ms-edgedevtools.vscode-edge-devtools":{name:"Microsoft Edge Developer Tools"}}},"Microsoft Edge Canary":{friendlyName:"Microsoft Edge Canary",windowsPath:"%USERPROFILE%\\AppData\\Local\\Microsoft\\Edge SxS\\Application\\msedge.exe",recommendations:{"ms-edgedevtools.vscode-edge-devtools":{name:"Microsoft Edge Developer Tools"}}},"Mozilla Firefox (x86)":{friendlyName:"Mozilla Firefox",windowsPath:"%ProgramFiles(x86)%\\Mozilla Firefox\\firefox.exe",recommendations:{"firefox-devtools.vscode-firefox-debug":{name:"Debugger for Firefox"}}},"Mozilla Firefox Developer Edition (x86)":{friendlyName:"Mozilla Firefox Developer Edition",windowsPath:"%ProgramFiles(x86)%\\Firefox Developer Edition\\firefox.exe",recommendations:{"firefox-devtools.vscode-firefox-debug":{name:"Debugger for Firefox"}}},"Mozilla Firefox":{friendlyName:"Mozilla Firefox",windowsPath:"%ProgramFiles%\\Mozilla Firefox\\firefox.exe",recommendations:{"firefox-devtools.vscode-firefox-debug":{name:"Debugger for Firefox"}}},"Mozilla Firefox Developer Edition":{friendlyName:"Mozilla Firefox Developer Edition",windowsPath:"%ProgramFiles%\\Firefox Developer Edition\\firefox.exe",recommendations:{"firefox-devtools.vscode-firefox-debug":{name:"Debugger for Firefox"}}},cordova:{friendlyName:"Cordova",windowsPath:"%APPDATA%\\npm\\cordova",recommendations:{"msjsdiag.cordova-tools":{name:"Cordova Tools"}}},gcloud:{friendlyName:"Google GCloud CLI",windowsPath:"%ProgramFiles(x86)%\\Google\\Cloud SDK\\google-cloud-sdk\\bin\\gcloud.cmd",recommendations:{"GoogleCloudTools.cloudcode":{name:"Cloud Code"}}},skaffold:{friendlyName:"Skaffold Code to Cluster",recommendations:{"ms-azuretools.vscode-docker":{name:"Docker"},"ms-kubernetes-tools.vscode-kubernetes-tools":{name:"Kubernetes"},"GoogleCloudTools.cloudcode":{name:"Cloud Code"},"mindaro.mindaro":{name:"Local Process with Kubernetes"}}},minikube:{friendlyName:"MiniKube Local Kubernetes Cluster",recommendations:{"ms-azuretools.vscode-docker":{name:"Docker"},"ms-kubernetes-tools.vscode-kubernetes-tools":{name:"Kubernetes"},"GoogleCloudTools.cloudcode":{name:"Cloud Code"},"ms-vscode-remote.remote-containers":{name:"Remote - Containers"},"mindaro.mindaro":{name:"Local Process with Kubernetes"}}},podman:{friendlyName:"Podman",recommendations:{"ms-vscode-remote.remote-containers":{name:"Remote - Containers"}}},wsl:{friendlyName:"Windows Subsystem for Linux (WSL)",windowsPath:"%WINDIR%\\system32\\lxss\\LxssManager.dll",important:!0,recommendations:{"ms-vscode-remote.remote-wsl":{name:"Remote - WSL",important:!0}}}},webExtensionTips:["tyriar.luna-paint","codespaces-contrib.codeswing","ms-vscode.vscode-github-issue-notebooks","esbenp.prettier-vscode","hediet.vscode-drawio"],remoteExtensionTips:{wsl:{friendlyName:"Remote - WSL",extensionId:"ms-vscode-remote.remote-wsl"},"ssh-remote":{friendlyName:"Remote - SSH",extensionId:"ms-vscode-remote.remote-ssh"},"dev-container":{friendlyName:"Remote - Containers",extensionId:"ms-vscode-remote.remote-containers"},"attached-container":{friendlyName:"Remote - Containers",extensionId:"ms-vscode-remote.remote-containers"},vsonline:{friendlyName:"Visual Studio Online",extensionId:"ms-vsonline.vsonline"}},extensionKeywords:{md:["Markdown"],js:["JavaScript"],jsx:["JavaScript"],es6:["JavaScript"],html:["Html"],ts:["TypeScript"],tsx:["TypeScript"],css:["CSS"],scss:["SASS"],txt:["Text"],php:["PHP"],php3:["PHP"],php4:["PHP"],ph3:["PHP"],ph4:["PHP"],xml:["XML"],py:["Python"],pyc:["Python"],pyd:["Python"],pyo:["Python"],pyw:["Python"],pyz:["Python"],java:["Java"],class:["Java"],jar:["Java"],c:["c","objective c","objective-c"],m:["objective c","objective-c"],mm:["objective c","objective-c"],cpp:["cpp","c plus plus","c","c++"],cc:["cpp","c plus plus","c","c++"],cxx:["cpp","c plus plus","c++"],hh:["cpp","c plus plus","c++"],hpp:["cpp","c++"],h:["cpp","c plus plus","c++","c","objective c","objective-c"],sql:["sql"],sh:["bash"],bash:["bash"],zsh:["bash","zshell"],cs:["c#","csharp"],csproj:["c#","csharp"],sln:["c#","csharp"],go:["go"],sty:["latex"],tex:["latex"],ps:["powershell"],ps1:["powershell"],rs:["rust"],rslib:["rust"],hs:["haskell"],lhs:["haskell"],scm:["scheme"],ss:["scheme"],clj:["clojure"],cljs:["clojure"],cljc:["clojure"],edn:["clojure"],erl:["erlang"],hrl:["erlang"],scala:["scala"],sc:["scala"],pl:["perl"],pm:["perl"],t:["perl"],pod:["perl"],groovy:["groovy"],swift:["swift"],rb:["ruby"],rbw:["ruby"],jl:["julia"],f:["fortran"],for:["fortran"],f90:["fortran"],f95:["fortran"],coffee:["CoffeeScript"],litcoffee:["CoffeeScript"],yaml:["yaml"],yml:["yaml"],dart:["dart"],json:["json"]},extensionAllowedBadgeProviders:["api.bintray.com","api.travis-ci.com","api.travis-ci.org","app.fossa.io","badge.buildkite.com","badge.fury.io","badge.waffle.io","badgen.net","badges.frapsoft.com","badges.gitter.im","badges.greenkeeper.io","cdn.travis-ci.com","cdn.travis-ci.org","ci.appveyor.com","circleci.com","cla.opensource.microsoft.com","codacy.com","codeclimate.com","codecov.io","coveralls.io","david-dm.org","deepscan.io","dev.azure.com","docs.rs","flat.badgen.net","gemnasium.com","githost.io","gitlab.com","godoc.org","goreportcard.com","img.shields.io","isitmaintained.com","marketplace.visualstudio.com","nodesecurity.io","opencollective.com","snyk.io","travis-ci.com","travis-ci.org","visualstudio.com","vsmarketplacebadge.apphb.com","www.bithound.io","www.versioneye.com"],extensionAllowedBadgeProvidersRegex:["^https:\\/\\/github\\.com\\/[^/]+\\/[^/]+\\/workflows\\/.*badge\\.svg"],crashReporter:{productName:"VSCode",companyName:"Microsoft"},appCenter:{"win32-ia32":"appcenter://code?aid=f4289815-a66e-4ad9-b74f-d8e5bc093e41","win32-x64":"appcenter://code?aid=a4e3233c-699c-46ec-b4f4-9c2a77254662","win32-arm64":"appcenter://code?aid=3712d786-7cc8-4f11-8b08-cc12eab6d4f7","linux-x64":"appcenter://code?aid=fba07a4d-84bd-4fc8-a125-9640fc8ce171",darwin:"appcenter://code?aid=860d6632-f65b-490b-85a8-3e72944f7774","darwin-arm64":"appcenter://code?aid=be71415d-3893-4ae5-b453-e537b9668a10","darwin-universal":"appcenter://code?aid=de75e3cc-e22f-4f42-a03f-1409c21d8af8"},enableTelemetry:!0,aiConfig:{asimovKey:"AIF-444c3af9-8e69-4462-ab49-4191e6ad1916"},msftInternalDomains:["redmond.corp.microsoft.com","northamerica.corp.microsoft.com","fareast.corp.microsoft.com","ntdev.corp.microsoft.com","wingroup.corp.microsoft.com","southpacific.corp.microsoft.com","wingroup.windeploy.ntdev.microsoft.com","ddnet.microsoft.com","europe.corp.microsoft.com"],sendASmile:{reportIssueUrl:"https://go.microsoft.com/fwlink/?LinkId=534872",requestFeatureUrl:"https://go.microsoft.com/fwlink/?LinkID=533482"},documentationUrl:"https://go.microsoft.com/fwlink/?LinkID=533484#vscode",releaseNotesUrl:"https://go.microsoft.com/fwlink/?LinkID=533483#vscode",keyboardShortcutsUrlMac:"https://go.microsoft.com/fwlink/?linkid=832143",keyboardShortcutsUrlLinux:"https://go.microsoft.com/fwlink/?linkid=832144",keyboardShortcutsUrlWin:"https://go.microsoft.com/fwlink/?linkid=832145",introductoryVideosUrl:"https://go.microsoft.com/fwlink/?linkid=832146",tipsAndTricksUrl:"https://go.microsoft.com/fwlink/?linkid=852118",newsletterSignupUrl:"https://www.research.net/r/vsc-newsletter",twitterUrl:"https://go.microsoft.com/fwlink/?LinkID=533687",requestFeatureUrl:"https://go.microsoft.com/fwlink/?LinkID=533482",reportIssueUrl:"https://github.com/Microsoft/vscode/issues/new",reportMarketplaceIssueUrl:"https://github.com/microsoft/vsmarketplace/issues/new",licenseUrl:"https://go.microsoft.com/fwlink/?LinkID=533485",privacyStatementUrl:"https://go.microsoft.com/fwlink/?LinkId=786907",showTelemetryOptOut:!0,npsSurveyUrl:"https://aka.ms/vscode-nps",cesSurveyUrl:"https://aka.ms/new-to-vscode-feedback",checksumFailMoreInfoUrl:"https://go.microsoft.com/fwlink/?LinkId=828886",electronRepository:"Microsoft/vscode-electron-prebuilt",settingsSearchUrl:"https://bingsettingssearch.trafficmanager.net/api/Search",surveys:[{surveyId:"cpp.1",surveyUrl:"https://www.research.net/r/VBVV6C6",languageId:"cpp",editCount:10,userProbability:.15},{surveyId:"java.2",surveyUrl:"https://www.research.net/r/vscodejava",languageId:"java",editCount:10,userProbability:.3},{surveyId:"javascript.1",surveyUrl:"https://www.research.net/r/vscode-js",languageId:"javascript",editCount:10,userProbability:.05},{surveyId:"typescript.1",surveyUrl:"https://www.research.net/r/vscode-ts",languageId:"typescript",editCount:10,userProbability:.05}],extensionAllowedProposedApi:["GitHub.codespaces","GitHub.copilot-nightly","GitHub.copilot","GitHub.vscode-pull-request-github-insiders","GitHub.vscode-pull-request-github","GitHub.remotehub","GitHub.remotehub-insiders","Microsoft.vscode-nmake-tools","ms-dotnettools.dotnet-interactive-vscode","ms-python.gather","ms-python.python","ms-toolsai.jupyter","ms-toolsai.vscode-ai","ms-toolsai.vscode-ai-remote","ms-vscode-remote.remote-containers-nightly","ms-vscode-remote.remote-containers","ms-vscode-remote.remote-ssh-edit-nightly","ms-vscode-remote.remote-ssh-edit","ms-vscode-remote.remote-ssh-nightly","ms-vscode-remote.remote-ssh","ms-vscode-remote.remote-ssh-serverless","ms-vscode-remote.remote-wsl","ms-vscode-remote.remote-wsl-recommender","ms-vscode-remote.vscode-remote-extensionpack-nightly","ms-vscode-remote.vscode-remote-extensionpack","ms-vscode.anycode","ms-vscode.azure-account","ms-vscode.azure-sphere-tools-ui","ms-vscode.azure-sphere-tools","ms-vscode.remotehub","ms-vscode.remotehub-insiders","ms-vscode.js-debug-nightly","ms-vscode.js-debug","ms-vscode.lsif-browser","ms-vscode.vscode-github-issue-notebooks","ms-vscode.vscode-selfhost-test-provider","ms-vsliveshare.cloudenv-explorer","ms-vsliveshare.cloudenv","ms-vsliveshare.vsliveshare","ms-vsonline.vsonline","dbaeumer.vscode-eslint","tanhakabir.rest-book","VisualStudioExptTeam.vscodeintellicode","VisualStudioExptTeam.vscodeintellicode-insiders","VisualStudioExptTeam.vscodeintellicode-completions","vscode.vscode-web-playground","ms-azuretools.vscode-azureappservice"],tasConfig:{endpoint:"https://default.exp-tas.com/vscode/ab",telemetryEventName:"query-expfeature",featuresTelemetryPropertyName:"VSCode.ABExp.Features",assignmentContextTelemetryPropertyName:"abexp.assignmentcontext"},experimentsUrl:"https://vscodeexperiments.azureedge.net/experiments/vscode-experiments.json",extensionKind:{"Shan.code-settings-sync":["ui"],"shalldie.background":["ui"],"techer.open-in-browser":["ui"],"CoenraadS.bracket-pair-colorizer-2":["ui"],"CoenraadS.bracket-pair-colorizer":["ui","workspace"],"hiro-sun.vscode-emacs":["ui","workspace"],"hnw.vscode-auto-open-markdown-preview":["ui","workspace"],"wayou.vscode-todo-highlight":["ui","workspace"],"aaron-bond.better-comments":["ui","workspace"],"vscodevim.vim":["ui"],"ollyhayes.colmak-vim":["ui"]},extensionPointExtensionKind:{typescriptServerPlugins:["workspace"]},extensionSyncedKeys:{"ritwickdey.liveserver":["liveServer.setup.version"]},extensionVirtualWorkspacesSupport:{"esbenp.prettier-vscode":{default:!1},"msjsdiag.debugger-for-chrome":{default:!1},"redhat.java":{default:!1},"HookyQR.beautify":{default:!1},"ritwickdey.LiveServer":{default:!1},"VisualStudioExptTeam.vscodeintellicode":{default:!1},"octref.vetur":{default:!1},"formulahendry.code-runner":{default:!1},"felixfbecker.php-debug":{default:!1},"ms-mssql.mssql":{default:!1},"christian-kohler.path-intellisense":{default:!1},"eg2.tslint":{default:!1},"eg2.vscode-npm-script":{default:!1},"donjayamanne.githistory":{default:!1},"Zignd.html-css-class-completion":{default:!1},"christian-kohler.npm-intellisense":{default:!1},"EditorConfig.EditorConfig":{default:!1},"austin.code-gnu-global":{default:!1},"johnpapa.Angular2":{default:!1},"ms-vscode.vscode-typescript-tslint-plugin":{default:!1},"DotJoshJohnson.xml":{default:!1},"techer.open-in-browser":{default:!1},"tht13.python":{default:!1},"bmewburn.vscode-intelephense-client":{default:!1},"Angular.ng-template":{default:!1},"felixfbecker.php-pack":{default:!1},"dbaeumer.jshint":{default:!1},"yzhang.markdown-all-in-one":{default:!1},"Dart-Code.flutter":{default:!1},"streetsidesoftware.code-spell-checker":{default:!1},"rebornix.Ruby":{default:!1},"ms-vscode.sublime-keybindings":{default:!1},"mitaki28.vscode-clang":{default:!1},"steoates.autoimport":{default:!1},"donjayamanne.python-extension-pack":{default:!1},"shd101wyy.markdown-preview-enhanced":{default:!1},"mikestead.dotenv":{default:!1},"pranaygp.vscode-css-peek":{default:!1},"ikappas.phpcs":{default:!1},"platformio.platformio-ide":{default:!1},"jchannon.csharpextensions":{default:!1},"gruntfuggly.todo-tree":{default:!1}},linkProtectionTrustedDomains:["https://*.visualstudio.com","https://*.microsoft.com","https://aka.ms","https://vscode-auth.github.com","https://client-auth-staging-14a768b.herokuapp.com","https://*.gallerycdn.vsassets.io","https://github.com/microsoft/","https://github.com/MicrosoftDocs/","https://login.microsoftonline.com"],auth:{loginUrl:"https://login.microsoftonline.com/common/oauth2/authorize",tokenUrl:"https://login.microsoftonline.com/common/oauth2/token",redirectUrl:"https://vscode-redirect.azurewebsites.net/",clientId:"aebc6443-996d-45c2-90f0-388ff96faa56"},"configurationSync.store":{url:"https://vscode-sync.trafficmanager.net/",stableUrl:"https://vscode-sync.trafficmanager.net/",insidersUrl:"https://vscode-sync-insiders.trafficmanager.net/",canSwitch:!1,authenticationProviders:{microsoft:{scopes:["openid","profile","email","offline_access"]},github:{scopes:["user:email"]}}},builtInExtensions:[{name:"ms-vscode.references-view",version:"0.0.81",repo:"https://github.com/microsoft/vscode-references-view",metadata:{id:"dc489f46-520d-4556-ae85-1f9eab3c412d",publisherId:{publisherId:"5f5636e7-69ed-4afe-b5d6-8d231fb3d3ee",publisherName:"ms-vscode",displayName:"Microsoft",flags:"verified"},publisherDisplayName:"Microsoft"}},{name:"ms-vscode.js-debug-companion",version:"1.0.15",repo:"https://github.com/microsoft/vscode-js-debug-companion",metadata:{id:"99cb0b7f-7354-4278-b8da-6cc79972169d",publisherId:{publisherId:"5f5636e7-69ed-4afe-b5d6-8d231fb3d3ee",publisherName:"ms-vscode",displayName:"Microsoft",flags:"verified"},publisherDisplayName:"Microsoft"}},{name:"ms-vscode.js-debug",version:"1.62.0",repo:"https://github.com/microsoft/vscode-js-debug",metadata:{id:"25629058-ddac-4e17-abba-74678e126c5d",publisherId:{publisherId:"5f5636e7-69ed-4afe-b5d6-8d231fb3d3ee",publisherName:"ms-vscode",displayName:"Microsoft",flags:"verified"},publisherDisplayName:"Microsoft"}},{name:"ms-vscode.vscode-js-profile-table",version:"0.0.18",repo:"https://github.com/microsoft/vscode-js-profile-visualizer",metadata:{id:"7e52b41b-71ad-457b-ab7e-0620f1fc4feb",publisherId:{publisherId:"5f5636e7-69ed-4afe-b5d6-8d231fb3d3ee",publisherName:"ms-vscode",displayName:"Microsoft",flags:"verified"},publisherDisplayName:"Microsoft"}},{name:"ms-vscode-remote.remote-wsl-recommender",version:"0.0.12",repo:"https://github.com/microsoft/vscode-remote-wsl-recommender",metadata:{id:"cb296d3c-017a-4dee-83af-ebb5a5a16e9a",publisherId:{publisherId:"ac9410a2-0d75-40ec-90de-b59bb705801d",publisherName:"ms-vscode-remote",displayName:"Microsoft",flags:"verified"},publisherDisplayName:"Microsoft"},platforms:["win32"],clientOnly:!0}],version:"1.62.0",commit:"b3318bc0524af3d74034b8bb8a64df0ccf35549a",date:"2021-11-03T15:02:24.953Z"},Object.keys(I).length===0&&Object.assign(I,{version:"1.62.0-dev",nameShort:"Code - OSS Dev",nameLong:"Code - OSS Dev",applicationName:"code-oss",dataFolderName:".vscode-oss",urlProtocol:"code-oss",reportIssueUrl:"https://github.com/microsoft/vscode/issues/new",licenseName:"MIT",licenseUrl:"https://github.com/microsoft/vscode/blob/main/LICENSE.txt",extensionAllowedProposedApi:["ms-vscode.vscode-js-profile-flame","ms-vscode.vscode-js-profile-table","ms-vscode.remotehub","ms-vscode.remotehub-insiders","GitHub.remotehub","GitHub.remotehub-insiders"]});e.default=I}),define(he[69],de([0,1,30,250,13,17,6,29,3,4,21,44,16,157,19,88,183,184,185,186,47,189,36]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b,f,w,d,S,g,c,a,l,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiskFileSystemProvider=void 0,(()=>{try{(0,_.gracefulify)(P)}catch(r){console.error(`Error enabling graceful-fs: ${(0,n.toErrorMessage)(r)}`)}})();class s extends l.AbstractDiskFileSystemProvider{constructor(t,o){super(t);this.options=o,this.onDidChangeCapabilities=I.Event.None,this.mapHandleToPos=new Map,this.writeHandles=new Map,this.canFlush=!0}get capabilities(){return this._capabilities||(this._capabilities=2|4|16|8|8192,E.isLinux&&(this._capabilities|=1024)),this._capabilities}async stat(t){try{const{stat:o,symbolicLink:u}=await p.SymlinkSupport.stat(this.toFilePath(t));return{type:this.toType(o,u),ctime:o.birthtime.getTime(),mtime:o.mtime.getTime(),size:o.size}}catch(o){throw this.toFileSystemProviderError(o)}}async readdir(t){try{const o=await p.Promises.readdir(this.toFilePath(t),{withFileTypes:!0}),u=[];return await Promise.all(o.map(async v=>{try{let D;v.isSymbolicLink()?D=(await this.stat((0,i.joinPath)(t,v.name))).type:D=this.toType(v),u.push([v.name,D])}catch(D){this.logService.trace(D)}})),u}catch(o){throw this.toFileSystemProviderError(o)}}toType(t,o){let u;return o?.dangling?u=f.FileType.Unknown:t.isFile()?u=f.FileType.File:t.isDirectory()?u=f.FileType.Directory:u=f.FileType.Unknown,o&&(u|=f.FileType.SymbolicLink),u}async readFile(t){try{const o=this.toFilePath(t);return await p.Promises.readFile(o)}catch(o){throw this.toFileSystemProviderError(o)}}readFileStream(t,o,u){const v=(0,T.newWriteableStream)(D=>C.VSBuffer.concat(D.map(h=>C.VSBuffer.wrap(h))).buffer);return(0,w.readFileIntoStream)(this,t,v,D=>D.buffer,{...o,bufferSize:256*1024},u),v}async writeFile(t,o,u){let v;try{const D=this.toFilePath(t);if(!u.create||!u.overwrite){if(await p.Promises.exists(D)){if(!u.overwrite)throw(0,f.createFileSystemProviderError)((0,b.localize)(0,null),f.FileSystemProviderErrorCode.FileExists)}else if(!u.create)throw(0,f.createFileSystemProviderError)((0,b.localize)(1,null),f.FileSystemProviderErrorCode.FileNotFound)}v=await this.open(t,{create:!0,unlock:u.unlock}),await this.write(v,0,o,0,o.byteLength)}catch(D){throw await this.toFileSystemProviderWriteError(t,D)}finally{typeof v=="number"&&await this.close(v)}}async open(t,o){try{const u=this.toFilePath(t);if((0,f.isFileOpenForWriteOptions)(o)&&o.unlock)try{const{stat:h}=await p.SymlinkSupport.stat(u);h.mode&128||await p.Promises.chmod(u,h.mode|128)}catch(h){this.logService.trace(h)}let v;if((0,f.isFileOpenForWriteOptions)(o)){if(E.isWindows)try{await p.Promises.truncate(u,0),v="r+"}catch(h){h.code!=="ENOENT"&&this.logService.trace(h)}v||(v="w")}else v="r";const D=await p.Promises.open(u,v);return this.mapHandleToPos.set(D,0),(0,f.isFileOpenForWriteOptions)(o)&&this.writeHandles.set(D,t),D}catch(u){throw(0,f.isFileOpenForWriteOptions)(o)?await this.toFileSystemProviderWriteError(t,u):this.toFileSystemProviderError(u)}}async close(t){try{if(this.mapHandleToPos.delete(t),this.writeHandles.delete(t)&&this.canFlush)try{await p.Promises.fdatasync(t)}catch(o){this.canFlush=!1,this.logService.error(o)}return await p.Promises.close(t)}catch(o){throw this.toFileSystemProviderError(o)}}async read(t,o,u,v,D){const h=this.normalizePos(t,o);let A=null;try{const N=await p.Promises.read(t,u,v,D,h);return typeof N=="number"?A=N:A=N.bytesRead,A}catch(N){throw this.toFileSystemProviderError(N)}finally{this.updatePos(t,h,A)}}normalizePos(t,o){return o===this.mapHandleToPos.get(t)?null:o}updatePos(t,o,u){const v=this.mapHandleToPos.get(t);typeof v=="number"&&(typeof o=="number"||(typeof u=="number"?this.mapHandleToPos.set(t,v+u):this.mapHandleToPos.delete(t)))}async write(t,o,u,v,D){return(0,y.retry)(()=>this.doWrite(t,o,u,v,D),100,3)}async doWrite(t,o,u,v,D){const h=this.normalizePos(t,o);let A=null;try{const N=await p.Promises.write(t,u,v,D,h);return typeof N=="number"?A=N:A=N.bytesWritten,A}catch(N){throw await this.toFileSystemProviderWriteError(this.writeHandles.get(t),N)}finally{this.updatePos(t,h,A)}}async mkdir(t){try{await p.Promises.mkdir(this.toFilePath(t))}catch(o){throw this.toFileSystemProviderError(o)}}async delete(t,o){try{const u=this.toFilePath(t);await this.doDelete(u,o)}catch(u){throw this.toFileSystemProviderError(u)}}async doDelete(t,o){o.recursive?await p.Promises.rm(t,p.RimRafMode.MOVE):await p.Promises.unlink(t)}async rename(t,o,u){const v=this.toFilePath(t),D=this.toFilePath(o);if(v!==D)try{await this.validateTargetDeleted(t,o,"move",u.overwrite),await p.Promises.move(v,D)}catch(h){throw(h.code==="EINVAL"||h.code==="EBUSY"||h.code==="ENAMETOOLONG")&&(h=new Error((0,b.localize)(2,null,(0,m.basename)(v),(0,m.basename)((0,m.dirname)(D)),h.toString()))),this.toFileSystemProviderError(h)}}async copy(t,o,u){const v=this.toFilePath(t),D=this.toFilePath(o);if(v!==D)try{await this.validateTargetDeleted(t,o,"copy",u.overwrite),await p.Promises.copy(v,D,{preserveSymlinks:!0})}catch(h){throw(h.code==="EINVAL"||h.code==="EBUSY"||h.code==="ENAMETOOLONG")&&(h=new Error((0,b.localize)(3,null,(0,m.basename)(v),(0,m.basename)((0,m.dirname)(D)),h.toString()))),this.toFileSystemProviderError(h)}}async validateTargetDeleted(t,o,u,v){const D=this.toFilePath(t),h=this.toFilePath(o);let A=!1;if(!!(this.capabilities&1024)||(A=(0,k.isEqual)(D,h,!0)),A&&u==="copy")throw(0,f.createFileSystemProviderError)((0,b.localize)(4,null),f.FileSystemProviderErrorCode.FileExists);if(!A&&await p.Promises.exists(h)){if(!v)throw(0,f.createFileSystemProviderError)((0,b.localize)(5,null),f.FileSystemProviderErrorCode.FileExists);await this.delete(o,{recursive:!0,useTrash:!1})}}createRecursiveWatcher(t,o,u,v){let D,h=!1;return this.options?.watcher?.usePolling?h=!1:this.options?.legacyWatcher==="on"||this.options?.legacyWatcher==="off"?h=this.options.legacyWatcher==="on":a.default.quality==="stable"&&(h=t===1),h?E.isLinux?D=c.FileWatcher:D=S.FileWatcher:D=g.FileWatcher,new D(A=>o(A),A=>u(A),v,this.options?.watcher)}doWatch(t,o){const u=this.options?.watcher?.usePolling;if(u===!0)for(const v of o)v.pollingInterval=this.options?.watcher?.pollingInterval??5e3;else if(Array.isArray(u))for(const v of o)u.includes(v.path)&&(v.pollingInterval=this.options?.watcher?.pollingInterval??5e3);return super.doWatch(t,o)}createNonRecursiveWatcher(t,o,u,v){return new d.FileWatcher(t,D=>o(D),D=>u(D),v)}toFileSystemProviderError(t){if(t instanceof f.FileSystemProviderError)return t;let o;switch(t.code){case"ENOENT":o=f.FileSystemProviderErrorCode.FileNotFound;break;case"EISDIR":o=f.FileSystemProviderErrorCode.FileIsADirectory;break;case"ENOTDIR":o=f.FileSystemProviderErrorCode.FileNotADirectory;break;case"EEXIST":o=f.FileSystemProviderErrorCode.FileExists;break;case"EPERM":case"EACCES":o=f.FileSystemProviderErrorCode.NoPermissions;break;default:o=f.FileSystemProviderErrorCode.Unknown}return(0,f.createFileSystemProviderError)(t,o)}async toFileSystemProviderWriteError(t,o){let u=this.toFileSystemProviderError(o);if(t&&u.code===f.FileSystemProviderErrorCode.NoPermissions)try{const{stat:v}=await p.SymlinkSupport.stat(this.toFilePath(t));v.mode&128||(u=(0,f.createFileSystemProviderError)(o,f.FileSystemProviderErrorCode.FileWriteLocked))}catch(v){this.logService.trace(v)}return u}}e.DiskFileSystemProvider=s}),define(he[37],de([0,1,7]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IProductService=void 0,e.IProductService=(0,P.createDecorator)("productService")}),define(he[32],de([0,1,115,12]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class y{constructor(){this.data=new Map}add(I,k){P.ok(_.isString(I)),P.ok(_.isObject(k)),P.ok(!this.data.has(I),"There is already an extension with this id"),this.data.set(I,k)}knows(I){return this.data.has(I)}as(I){return this.data.get(I)||null}}e.Registry=new y}),define(he[192],de([0,1,6,32]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function y(k){return k.length>0&&k.charAt(k.length-1)==="#"?k.substring(0,k.length-1):k}class C{constructor(){this._onDidChangeSchema=new P.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.schemasById={}}registerSchema(m,E){this.schemasById[y(m)]=E,this._onDidChangeSchema.fire(m)}notifySchemaChanged(m){this._onDidChangeSchema.fire(m)}getSchemaContributions(){return{schemas:this.schemasById}}}const I=new C;_.Registry.add(e.Extensions.JSONContribution,I)}),define(he[41],de([0,1,18,6,12,143,192,32]),function(Z,e,P,_,y,C,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getScopes=e.validateProperty=e.getDefaultValue=e.overrideIdentifierFromKey=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.ConfigurationScope=e.Extensions=e.EditPresentationTypes=void 0;var m;(function(g){g.Multiline="multilineText",g.Singleline="singlelineText"})(m=e.EditPresentationTypes||(e.EditPresentationTypes={})),e.Extensions={Configuration:"base.contributions.configuration"};var E;(function(g){g[g.APPLICATION=1]="APPLICATION",g[g.MACHINE=2]="MACHINE",g[g.WINDOW=3]="WINDOW",g[g.RESOURCE=4]="RESOURCE",g[g.LANGUAGE_OVERRIDABLE=5]="LANGUAGE_OVERRIDABLE",g[g.MACHINE_OVERRIDABLE=6]="MACHINE_OVERRIDABLE"})(E=e.ConfigurationScope||(e.ConfigurationScope={})),e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const i=k.Registry.as(I.Extensions.JSONContribution);class T{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new _.Emitter,this.onDidSchemaChange=this._onDidSchemaChange.event,this._onDidUpdateConfiguration=new _.Emitter,this.onDidUpdateConfiguration=this._onDidUpdateConfiguration.event,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:C.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},i.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema)}registerConfiguration(c,a=!0){this.registerConfigurations([c],a)}registerConfigurations(c,a=!0){const l=this.doRegisterConfigurations(c,a);i.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(l)}deregisterConfigurations(c){const a=this.doDeregisterConfigurations(c);i.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(a)}updateConfigurations({add:c,remove:a}){const l=[];l.push(...this.doDeregisterConfigurations(a)),l.push(...this.doRegisterConfigurations(c,!1)),i.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire((0,P.distinct)(l))}registerDefaultConfigurations(c){const a=[],l=[];for(const n of c)for(const s in n)if(a.push(s),e.OVERRIDE_PROPERTY_PATTERN.test(s)){this.defaultValues[s]={...this.defaultValues[s]||{},...n[s]};const r={type:"object",default:this.defaultValues[s],description:C.localize(1,null,s),$ref:e.resourceLanguageSettingsSchemaId};l.push(b(s)),this.configurationProperties[s]=r,this.defaultLanguageConfigurationOverridesNode.properties[s]=r}else{this.defaultValues[s]=n[s];const r=this.configurationProperties[s];r&&(this.updatePropertyDefaultValue(s,r),this.updateSchema(s,r))}this.registerOverrideIdentifiers(l),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(a)}deregisterDefaultConfigurations(c){const a=[];for(const l of c)for(const n in l)if(a.push(n),delete this.defaultValues[n],e.OVERRIDE_PROPERTY_PATTERN.test(n))delete this.configurationProperties[n],delete this.defaultLanguageConfigurationOverridesNode.properties[n];else{const s=this.configurationProperties[n];s&&(this.updatePropertyDefaultValue(n,s),this.updateSchema(n,s))}this.updateOverridePropertyPatternKey(),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(a)}notifyConfigurationSchemaUpdated(...c){this._onDidSchemaChange.fire()}registerOverrideIdentifiers(c){for(const a of c)this.overrideIdentifiers.add(a);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(c,a){const l=[];return c.forEach(n=>{l.push(...this.validateAndRegisterProperties(n,a,n.extensionInfo)),this.configurationContributors.push(n),this.registerJSONConfiguration(n)}),l}doDeregisterConfigurations(c){const a=[],l=n=>{if(n.properties)for(const s in n.properties)a.push(s),delete this.configurationProperties[s],this.removeFromSchema(s,n.properties[s]);n.allOf&&n.allOf.forEach(s=>l(s))};for(const n of c){l(n);const s=this.configurationContributors.indexOf(n);s!==-1&&this.configurationContributors.splice(s,1)}return a}validateAndRegisterProperties(c,a=!0,l,n=3){n=y.isUndefinedOrNull(c.scope)?n:c.scope;let s=[],r=c.properties;if(r)for(let o in r){if(a&&d(o)){delete r[o];continue}const u=r[o];if(this.updatePropertyDefaultValue(o,u),e.OVERRIDE_PROPERTY_PATTERN.test(o)?u.scope=void 0:(u.scope=y.isUndefinedOrNull(u.scope)?n:u.scope,u.restricted=y.isUndefinedOrNull(u.restricted)?!!l?.restrictedConfigurations?.includes(o):u.restricted),r[o].hasOwnProperty("included")&&!r[o].included){this.excludedConfigurationProperties[o]=r[o],delete r[o];continue}else this.configurationProperties[o]=r[o];!r[o].deprecationMessage&&r[o].markdownDeprecationMessage&&(r[o].deprecationMessage=r[o].markdownDeprecationMessage),s.push(o)}let t=c.allOf;if(t)for(let o of t)s.push(...this.validateAndRegisterProperties(o,a,l,n));return s}getConfigurations(){return this.configurationContributors}getConfigurationProperties(){return this.configurationProperties}getExcludedConfigurationProperties(){return this.excludedConfigurationProperties}registerJSONConfiguration(c){const a=l=>{let n=l.properties;if(n)for(const r in n)this.updateSchema(r,n[r]);let s=l.allOf;s&&s.forEach(a)};a(c)}updateSchema(c,a){switch(e.allSettings.properties[c]=a,a.scope){case 1:e.applicationSettings.properties[c]=a;break;case 2:e.machineSettings.properties[c]=a;break;case 6:e.machineOverridableSettings.properties[c]=a;break;case 3:e.windowSettings.properties[c]=a;break;case 4:e.resourceSettings.properties[c]=a;break;case 5:e.resourceSettings.properties[c]=a,this.resourceLanguageSettingsSchema.properties[c]=a;break}}removeFromSchema(c,a){switch(delete e.allSettings.properties[c],a.scope){case 1:delete e.applicationSettings.properties[c];break;case 2:delete e.machineSettings.properties[c];break;case 6:delete e.machineOverridableSettings.properties[c];break;case 3:delete e.windowSettings.properties[c];break;case 4:case 5:delete e.resourceSettings.properties[c];break}}updateOverridePropertyPatternKey(){for(const c of this.overrideIdentifiers.values()){const a=`[${c}]`,l={type:"object",description:C.localize(2,null),errorMessage:C.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(a,l),e.allSettings.properties[a]=l,e.applicationSettings.properties[a]=l,e.machineSettings.properties[a]=l,e.machineOverridableSettings.properties[a]=l,e.windowSettings.properties[a]=l,e.resourceSettings.properties[a]=l}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(c,a){let l=this.defaultValues[c];y.isUndefined(l)&&(l=a.default),y.isUndefined(l)&&(l=f(a.type)),a.default=l}}const p="\\[.*\\]$";e.OVERRIDE_PROPERTY_PATTERN=new RegExp(p);function b(g){return g.substring(1,g.length-1)}e.overrideIdentifierFromKey=b;function f(g){switch(Array.isArray(g)?g[0]:g){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=f;const w=new T;k.Registry.add(e.Extensions.Configuration,w);function d(g){return g.trim()?e.OVERRIDE_PROPERTY_PATTERN.test(g)?C.localize(5,null,g):w.getConfigurationProperties()[g]!==void 0?C.localize(6,null,g):null:C.localize(4,null)}e.validateProperty=d;function S(){const g=[],c=w.getConfigurationProperties();for(const a of Object.keys(c))g.push([a,c[a].scope]);return g.push(["launch",4]),g.push(["task",4]),g}e.getScopes=S}),define(he[27],de([0,1,20,12,5,41,7,32]),function(Z,e,P,_,y,C,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMigratedSettingValue=e.keyFromOverrideIdentifier=e.getDefaultValues=e.getConfigurationKeys=e.merge=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.toOverrides=e.compare=e.ConfigurationTargetToString=e.ConfigurationTarget=e.isConfigurationOverrides=e.IConfigurationService=void 0,e.IConfigurationService=(0,I.createDecorator)("configurationService");function m(s){return s&&typeof s=="object"&&(!s.overrideIdentifier||typeof s.overrideIdentifier=="string")&&(!s.resource||s.resource instanceof y.URI)}e.isConfigurationOverrides=m;var E;(function(s){s[s.USER=1]="USER",s[s.USER_LOCAL=2]="USER_LOCAL",s[s.USER_REMOTE=3]="USER_REMOTE",s[s.WORKSPACE=4]="WORKSPACE",s[s.WORKSPACE_FOLDER=5]="WORKSPACE_FOLDER",s[s.DEFAULT=6]="DEFAULT",s[s.MEMORY=7]="MEMORY"})(E=e.ConfigurationTarget||(e.ConfigurationTarget={}));function i(s){switch(s){case 1:return"USER";case 2:return"USER_LOCAL";case 3:return"USER_REMOTE";case 4:return"WORKSPACE";case 5:return"WORKSPACE_FOLDER";case 6:return"DEFAULT";case 7:return"MEMORY"}}e.ConfigurationTargetToString=i;function T(s,r){const t=r?s?r.keys.filter(N=>s.keys.indexOf(N)===-1):[...r.keys]:[],o=s?r?s.keys.filter(N=>r.keys.indexOf(N)===-1):[...s.keys]:[],u=[];if(r&&s){for(const N of s.keys)if(r.keys.indexOf(N)!==-1){const $=S(s.contents,N),K=S(r.contents,N);P.equals($,K)||u.push(N)}}const v=[],D=N=>{const $={};for(const K of N)for(const j of K.identifiers)$[l(j)]=K;return $},h=r?D(r.overrides):{},A=s?D(s.overrides):{};if(Object.keys(h).length)for(const N of t){const $=h[N];$&&v.push([(0,C.overrideIdentifierFromKey)(N),$.keys])}if(Object.keys(A).length)for(const N of o){const $=A[N];$&&v.push([(0,C.overrideIdentifierFromKey)(N),$.keys])}if(Object.keys(h).length&&Object.keys(A).length)for(const N of u){const $=A[N],K=h[N];if($&&K){const j=T({contents:$.contents,keys:$.keys,overrides:[]},{contents:K.contents,keys:K.keys,overrides:[]});v.push([(0,C.overrideIdentifierFromKey)(N),[...j.added,...j.removed,...j.updated]])}}return{added:t,removed:o,updated:u,overrides:v}}e.compare=T;function p(s,r){const t=[];for(const o of Object.keys(s))if(C.OVERRIDE_PROPERTY_PATTERN.test(o)){const u={};for(const v in s[o])u[v]=s[o][v];t.push({identifiers:[(0,C.overrideIdentifierFromKey)(o).trim()],keys:Object.keys(u),contents:b(u,r)})}return t}e.toOverrides=p;function b(s,r){const t=Object.create(null);for(let o in s)f(t,o,s[o],r);return t}e.toValuesTree=b;function f(s,r,t,o){const u=r.split("."),v=u.pop();let D=s;for(let h=0;h<u.length;h++){let A=u[h],N=D[A];switch(typeof N){case"undefined":N=D[A]=Object.create(null);break;case"object":break;default:o(`Ignoring ${r} as ${u.slice(0,h+1).join(".")} is ${JSON.stringify(N)}`);return}D=N}if(typeof D=="object"&&D!==null)try{D[v]=t}catch(h){o(`Ignoring ${r} as ${u.join(".")} is ${JSON.stringify(D)}`)}else o(`Ignoring ${r} as ${u.join(".")} is ${JSON.stringify(D)}`)}e.addToValueTree=f;function w(s,r){const t=r.split(".");d(s,t)}e.removeFromValueTree=w;function d(s,r){const t=r.shift();if(r.length===0){delete s[t];return}if(Object.keys(s).indexOf(t)!==-1){const o=s[t];typeof o=="object"&&!Array.isArray(o)&&(d(o,r),Object.keys(o).length===0&&delete s[t])}}function S(s,r,t){function o(D,h){let A=D;for(const N of h){if(typeof A!="object"||A===null)return;A=A[N]}return A}const u=r.split("."),v=o(s,u);return typeof v=="undefined"?t:v}e.getConfigurationValue=S;function g(s,r,t){Object.keys(r).forEach(o=>{o!=="__proto__"&&(o in s?_.isObject(s[o])&&_.isObject(r[o])?g(s[o],r[o],t):t&&(s[o]=r[o]):s[o]=r[o])})}e.merge=g;function c(){const s=k.Registry.as(C.Extensions.Configuration).getConfigurationProperties();return Object.keys(s)}e.getConfigurationKeys=c;function a(){const s=Object.create(null),r=k.Registry.as(C.Extensions.Configuration).getConfigurationProperties();for(let t in r){let o=r[t].default;f(s,t,o,u=>console.error(`Conflict in default settings: ${u}`))}return s}e.getDefaultValues=a;function l(s){return`[${s}]`}e.keyFromOverrideIdentifier=l;function n(s,r,t){const o=s.inspect(r),u=s.inspect(t);return typeof o.userValue!="undefined"||typeof o.workspaceValue!="undefined"||typeof o.workspaceFolderValue!="undefined"?o.value:typeof u.userValue!="undefined"||typeof u.workspaceValue!="undefined"||typeof u.workspaceFolderValue!="undefined"?u.value:o.defaultValue}e.getMigratedSettingValue=n}),define(he[193],de([0,1,18,6,38,2,28,20,12,5,27,41,32]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AllKeysConfigurationChangeEvent=e.ConfigurationChangeEvent=e.mergeChanges=e.Configuration=e.UserSettings=e.ConfigurationModelParser=e.DefaultConfigurationModel=e.ConfigurationModel=void 0;class b{constructor(n={},s=[],r=[]){this._contents=n,this._keys=s,this._overrides=r,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(n){return n?(0,i.getConfigurationValue)(this.contents,n):this.contents}getOverrideValue(n,s){const r=this.getContentsForOverrideIdentifer(s);return r?n?(0,i.getConfigurationValue)(r,n):r:void 0}getKeysForOverrideIdentifier(n){for(const s of this.overrides)if(s.identifiers.indexOf(n)!==-1)return s.keys;return[]}override(n){let s=this.overrideConfigurations.get(n);return s||(s=this.createOverrideConfigurationModel(n),this.overrideConfigurations.set(n,s)),s}merge(...n){const s=k.deepClone(this.contents),r=k.deepClone(this.overrides),t=[...this.keys];for(const o of n){this.mergeContents(s,o.contents);for(const u of o.overrides){const[v]=r.filter(D=>P.equals(D.identifiers,u.identifiers));v?this.mergeContents(v.contents,u.contents):r.push(k.deepClone(u))}for(const u of o.keys)t.indexOf(u)===-1&&t.push(u)}return new b(s,t,r)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(n){const s=this.getContentsForOverrideIdentifer(n);if(!s||typeof s!="object"||!Object.keys(s).length)return this;let r={};for(const t of P.distinct([...Object.keys(this.contents),...Object.keys(s)])){let o=this.contents[t],u=s[t];u&&(typeof o=="object"&&typeof u=="object"?(o=k.deepClone(o),this.mergeContents(o,u)):o=u),r[t]=o}return new b(r,this.keys,this.overrides)}mergeContents(n,s){for(const r of Object.keys(s)){if(r in n&&m.isObject(n[r])&&m.isObject(s[r])){this.mergeContents(n[r],s[r]);continue}n[r]=k.deepClone(s[r])}}checkAndFreeze(n){return this.isFrozen&&!Object.isFrozen(n)?k.deepFreeze(n):n}getContentsForOverrideIdentifer(n){for(const s of this.overrides)if(s.identifiers.indexOf(n)!==-1)return s.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(n,s){this.addKey(n),(0,i.addToValueTree)(this.contents,n,s,r=>{throw new Error(r)})}removeValue(n){this.removeKey(n)&&(0,i.removeFromValueTree)(this.contents,n)}addKey(n){let s=this.keys.length;for(let r=0;r<s;r++)n.indexOf(this.keys[r])===0&&(s=r);this.keys.splice(s,1,n)}removeKey(n){let s=this.keys.indexOf(n);return s!==-1?(this.keys.splice(s,1),!0):!1}}e.ConfigurationModel=b;class f extends b{constructor(){const n=(0,i.getDefaultValues)(),s=(0,i.getConfigurationKeys)(),r=[];for(const t of Object.keys(n))T.OVERRIDE_PROPERTY_PATTERN.test(t)&&r.push({identifiers:[(0,T.overrideIdentifierFromKey)(t).trim()],keys:Object.keys(n[t]),contents:(0,i.toValuesTree)(n[t],o=>console.error(`Conflict in default settings file: ${o}`))});super(n,s,r)}}e.DefaultConfigurationModel=f;class w{constructor(n){this._name=n,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[],this._parseErrors=[]}get configurationModel(){return this._configurationModel||new b}get restrictedConfigurations(){return this._restrictedConfigurations}get errors(){return this._parseErrors}parse(n,s){if(!m.isUndefinedOrNull(n)){const r=this.doParseContent(n);this.parseRaw(r,s)}}reparse(n){this._raw&&this.parseRaw(this._raw,n)}parseRaw(n,s){this._raw=n;const{contents:r,keys:t,overrides:o,restricted:u}=this.doParseRaw(n,s);this._configurationModel=new b(r,t,o),this._restrictedConfigurations=u||[]}doParseContent(n){let s={},r=null,t=[],o=[],u=[];function v(h){Array.isArray(t)?t.push(h):r!==null&&(t[r]=h)}let D={onObjectBegin:()=>{let h={};v(h),o.push(t),t=h,r=null},onObjectProperty:h=>{r=h},onObjectEnd:()=>{t=o.pop()},onArrayBegin:()=>{let h=[];v(h),o.push(t),t=h,r=null},onArrayEnd:()=>{t=o.pop()},onLiteralValue:v,onError:(h,A,N)=>{u.push({error:h,offset:A,length:N})}};if(n)try{y.visit(n,D),s=t[0]||{}}catch(h){console.error(`Error while parsing settings file ${this._name}: ${h}`),this._parseErrors=[h]}return s}doParseRaw(n,s){const r=p.Registry.as(T.Extensions.Configuration).getConfigurationProperties(),t=this.filter(n,r,!0,s);n=t.raw;const o=(0,i.toValuesTree)(n,D=>console.error(`Conflict in settings file ${this._name}: ${D}`)),u=Object.keys(n),v=(0,i.toOverrides)(n,D=>console.error(`Conflict in settings file ${this._name}: ${D}`));return{contents:o,keys:u,overrides:v,restricted:t.restricted}}filter(n,s,r,t){if(!t?.scopes&&!t?.skipRestricted)return{raw:n,restricted:[]};const o={},u=[];for(let v in n)if(T.OVERRIDE_PROPERTY_PATTERN.test(v)&&r){const D=this.filter(n[v],s,!1,t);o[v]=D.raw,u.push(...D.restricted)}else{const D=s[v],h=D?typeof D.scope!="undefined"?D.scope:3:void 0;D?.restricted&&u.push(v),(h===void 0||t.scopes===void 0||t.scopes.includes(h))&&(t.skipRestricted&&D?.restricted||(o[v]=n[v]))}return{raw:o,restricted:u}}}e.ConfigurationModelParser=w;class d extends C.Disposable{constructor(n,s,r,t){super();this.userSettingsResource=n,this.scopes=s,this.fileService=t,this._onDidChange=this._register(new _.Emitter),this.onDidChange=this._onDidChange.event,this.parser=new w(this.userSettingsResource.toString()),this.parseOptions={scopes:this.scopes},this._register(this.fileService.watch(r.dirname(this.userSettingsResource))),this._register(this.fileService.watch(this.userSettingsResource)),this._register(_.Event.filter(this.fileService.onDidFilesChange,o=>o.contains(this.userSettingsResource))(()=>this._onDidChange.fire()))}async loadConfiguration(){try{const n=await this.fileService.readFile(this.userSettingsResource);return this.parser.parse(n.value.toString()||"{}",this.parseOptions),this.parser.configurationModel}catch(n){return new b}}reparse(){return this.parser.reparse(this.parseOptions),this.parser.configurationModel}getRestrictedSettings(){return this.parser.restrictedConfigurations}}e.UserSettings=d;class S{constructor(n,s,r=new b,t=new b,o=new I.ResourceMap,u=new b,v=new I.ResourceMap,D=!0){this._defaultConfiguration=n,this._localUserConfiguration=s,this._remoteUserConfiguration=r,this._workspaceConfiguration=t,this._folderConfigurations=o,this._memoryConfiguration=u,this._memoryConfigurationByResource=v,this._freeze=D,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new I.ResourceMap,this._userConfiguration=null}getValue(n,s,r){return this.getConsolidateConfigurationModel(s,r).getValue(n)}updateValue(n,s,r={}){let t;r.resource?(t=this._memoryConfigurationByResource.get(r.resource),t||(t=new b,this._memoryConfigurationByResource.set(r.resource,t))):t=this._memoryConfiguration,s===void 0?t.removeValue(n):t.setValue(n,s),r.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(n,s,r){const t=this.getConsolidateConfigurationModel(s,r),o=this.getFolderConfigurationModelForResource(s.resource,r),u=s.resource?this._memoryConfigurationByResource.get(s.resource)||this._memoryConfiguration:this._memoryConfiguration,v=s.overrideIdentifier?this._defaultConfiguration.freeze().override(s.overrideIdentifier).getValue(n):this._defaultConfiguration.freeze().getValue(n),D=s.overrideIdentifier?this.userConfiguration.freeze().override(s.overrideIdentifier).getValue(n):this.userConfiguration.freeze().getValue(n),h=s.overrideIdentifier?this.localUserConfiguration.freeze().override(s.overrideIdentifier).getValue(n):this.localUserConfiguration.freeze().getValue(n),A=s.overrideIdentifier?this.remoteUserConfiguration.freeze().override(s.overrideIdentifier).getValue(n):this.remoteUserConfiguration.freeze().getValue(n),N=r?s.overrideIdentifier?this._workspaceConfiguration.freeze().override(s.overrideIdentifier).getValue(n):this._workspaceConfiguration.freeze().getValue(n):void 0,$=o?s.overrideIdentifier?o.freeze().override(s.overrideIdentifier).getValue(n):o.freeze().getValue(n):void 0,K=s.overrideIdentifier?u.override(s.overrideIdentifier).getValue(n):u.getValue(n),j=t.getValue(n),F=P.distinct(P.flatten(t.overrides.map(G=>G.identifiers))).filter(G=>t.getOverrideValue(n,G)!==void 0);return{defaultValue:v,userValue:D,userLocalValue:h,userRemoteValue:A,workspaceValue:N,workspaceFolderValue:$,memoryValue:K,value:j,default:v!==void 0?{value:this._defaultConfiguration.freeze().getValue(n),override:s.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(n,s.overrideIdentifier):void 0}:void 0,user:D!==void 0?{value:this.userConfiguration.freeze().getValue(n),override:s.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(n,s.overrideIdentifier):void 0}:void 0,userLocal:h!==void 0?{value:this.localUserConfiguration.freeze().getValue(n),override:s.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(n,s.overrideIdentifier):void 0}:void 0,userRemote:A!==void 0?{value:this.remoteUserConfiguration.freeze().getValue(n),override:s.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(n,s.overrideIdentifier):void 0}:void 0,workspace:N!==void 0?{value:this._workspaceConfiguration.freeze().getValue(n),override:s.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(n,s.overrideIdentifier):void 0}:void 0,workspaceFolder:$!==void 0?{value:o?.freeze().getValue(n),override:s.overrideIdentifier?o?.freeze().getOverrideValue(n,s.overrideIdentifier):void 0}:void 0,memory:K!==void 0?{value:u.getValue(n),override:s.overrideIdentifier?u.getOverrideValue(n,s.overrideIdentifier):void 0}:void 0,overrideIdentifiers:F.length?F:void 0}}keys(n){const s=this.getFolderConfigurationModelForResource(void 0,n);return{default:this._defaultConfiguration.freeze().keys,user:this.userConfiguration.freeze().keys,workspace:this._workspaceConfiguration.freeze().keys,workspaceFolder:s?s.freeze().keys:[]}}updateDefaultConfiguration(n){this._defaultConfiguration=n,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateLocalUserConfiguration(n){this._localUserConfiguration=n,this._userConfiguration=null,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateRemoteUserConfiguration(n){this._remoteUserConfiguration=n,this._userConfiguration=null,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateWorkspaceConfiguration(n){this._workspaceConfiguration=n,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateFolderConfiguration(n,s){this._folderConfigurations.set(n,s),this._foldersConsolidatedConfigurations.delete(n)}deleteFolderConfiguration(n){this.folderConfigurations.delete(n),this._foldersConsolidatedConfigurations.delete(n)}compareAndUpdateDefaultConfiguration(n,s){const r=s.filter(t=>T.OVERRIDE_PROPERTY_PATTERN.test(t)).map(t=>{const o=(0,T.overrideIdentifierFromKey)(t),u=this._defaultConfiguration.getKeysForOverrideIdentifier(o),v=n.getKeysForOverrideIdentifier(o),D=[...v.filter(h=>u.indexOf(h)===-1),...u.filter(h=>v.indexOf(h)===-1),...u.filter(h=>!k.equals(this._defaultConfiguration.override(o).getValue(h),n.override(o).getValue(h)))];return[o,D]});return this.updateDefaultConfiguration(n),{keys:s,overrides:r}}compareAndUpdateLocalUserConfiguration(n){const{added:s,updated:r,removed:t,overrides:o}=(0,i.compare)(this.localUserConfiguration,n),u=[...s,...r,...t];return u.length&&this.updateLocalUserConfiguration(n),{keys:u,overrides:o}}compareAndUpdateRemoteUserConfiguration(n){const{added:s,updated:r,removed:t,overrides:o}=(0,i.compare)(this.remoteUserConfiguration,n);let u=[...s,...r,...t];return u.length&&this.updateRemoteUserConfiguration(n),{keys:u,overrides:o}}compareAndUpdateWorkspaceConfiguration(n){const{added:s,updated:r,removed:t,overrides:o}=(0,i.compare)(this.workspaceConfiguration,n);let u=[...s,...r,...t];return u.length&&this.updateWorkspaceConfiguration(n),{keys:u,overrides:o}}compareAndUpdateFolderConfiguration(n,s){const r=this.folderConfigurations.get(n),{added:t,updated:o,removed:u,overrides:v}=(0,i.compare)(r,s);let D=[...t,...o,...u];return(D.length||!r)&&this.updateFolderConfiguration(n,s),{keys:D,overrides:v}}compareAndDeleteFolderConfiguration(n){const s=this.folderConfigurations.get(n);if(!s)throw new Error("Unknown folder");this.deleteFolderConfiguration(n);const{added:r,updated:t,removed:o,overrides:u}=(0,i.compare)(s,void 0);return{keys:[...r,...t,...o],overrides:u}}get defaults(){return this._defaultConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}get workspaceConfiguration(){return this._workspaceConfiguration}get folderConfigurations(){return this._folderConfigurations}getConsolidateConfigurationModel(n,s){let r=this.getConsolidatedConfigurationModelForResource(n,s);return n.overrideIdentifier?r.override(n.overrideIdentifier):r}getConsolidatedConfigurationModelForResource({resource:n},s){let r=this.getWorkspaceConsolidatedConfiguration();if(s&&n){const t=s.getFolder(n);t&&(r=this.getFolderConsolidatedConfiguration(t.uri)||r);const o=this._memoryConfigurationByResource.get(n);o&&(r=r.merge(o))}return r}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(n){let s=this._foldersConsolidatedConfigurations.get(n);if(!s){const r=this.getWorkspaceConsolidatedConfiguration(),t=this._folderConfigurations.get(n);t?(s=r.merge(t),this._freeze&&(s=s.freeze()),this._foldersConsolidatedConfigurations.set(n,s)):s=r}return s}getFolderConfigurationModelForResource(n,s){if(s&&n){const r=s.getFolder(n);if(r)return this._folderConfigurations.get(r.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((n,s)=>{const{contents:r,overrides:t,keys:o}=this._folderConfigurations.get(s);return n.push([s,{contents:r,overrides:t,keys:o}]),n},[])}}allKeys(){const n=new Set;return this._defaultConfiguration.freeze().keys.forEach(s=>n.add(s)),this.userConfiguration.freeze().keys.forEach(s=>n.add(s)),this._workspaceConfiguration.freeze().keys.forEach(s=>n.add(s)),this._folderConfigurations.forEach(s=>s.freeze().keys.forEach(r=>n.add(r))),[...n.values()]}getAllKeysForOverrideIdentifier(n){const s=new Set;return this._defaultConfiguration.getKeysForOverrideIdentifier(n).forEach(r=>s.add(r)),this.userConfiguration.getKeysForOverrideIdentifier(n).forEach(r=>s.add(r)),this._workspaceConfiguration.getKeysForOverrideIdentifier(n).forEach(r=>s.add(r)),this._folderConfigurations.forEach(r=>r.getKeysForOverrideIdentifier(n).forEach(t=>s.add(t))),[...s.values()]}static parse(n){const s=this.parseConfigurationModel(n.defaults),r=this.parseConfigurationModel(n.user),t=this.parseConfigurationModel(n.workspace),o=n.folders.reduce((u,v)=>(u.set(E.URI.revive(v[0]),this.parseConfigurationModel(v[1])),u),new I.ResourceMap);return new S(s,r,new b,t,o,new b,new I.ResourceMap,!1)}static parseConfigurationModel(n){return new b(n.contents,n.keys,n.overrides).freeze()}}e.Configuration=S;function g(...l){if(l.length===0)return{keys:[],overrides:[]};if(l.length===1)return l[0];const n=new Set,s=new Map;for(const t of l)t.keys.forEach(o=>n.add(o)),t.overrides.forEach(([o,u])=>{const v=(0,I.getOrSet)(s,o,new Set);u.forEach(D=>v.add(D))});const r=[];return s.forEach((t,o)=>r.push([o,[...t.values()]])),{keys:[...n.values()],overrides:r}}e.mergeChanges=g;class c{constructor(n,s,r,t){this.change=n,this.previous=s,this.currentConfiguraiton=r,this.currentWorkspace=t,this._previousConfiguration=void 0;const o=new Set;n.keys.forEach(v=>o.add(v)),n.overrides.forEach(([,v])=>v.forEach(D=>o.add(D))),this.affectedKeys=[...o.values()];const u=new b;this.affectedKeys.forEach(v=>u.setValue(v,{})),this.affectedKeysTree=u.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=S.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(n,s){if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,n)){if(s){const r=this.previousConfiguration?this.previousConfiguration.getValue(n,s,this.previous?.workspace):void 0,t=this.currentConfiguraiton.getValue(n,s,this.currentWorkspace);return!k.equals(r,t)}return!0}return!1}doesAffectedKeysTreeContains(n,s){let r=(0,i.toValuesTree)({[s]:!0},()=>{}),t;for(;typeof r=="object"&&(t=Object.keys(r)[0]);){if(n=n[t],!n)return!1;r=r[t]}return!0}}e.ConfigurationChangeEvent=c;class a extends c{constructor(n,s,r,t){super({keys:n.allKeys(),overrides:[]},void 0,n,s);this.source=r,this.sourceConfig=t}}e.AllKeysConfigurationChangeEvent=a}),define(he[93],de([0,1,13,6,2,21,27,193,41,32]),function(Z,e,P,_,y,C,I,k,m,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationService=void 0;class i extends y.Disposable{constructor(p,b){super();this.settingsResource=p,this._onDidChangeConfiguration=this._register(new _.Emitter),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this.userConfiguration=this._register(new k.UserSettings(this.settingsResource,void 0,C.extUriBiasedIgnorePathCase,b)),this.configuration=new k.Configuration(new k.DefaultConfigurationModel,new k.ConfigurationModel),this.reloadConfigurationScheduler=this._register(new P.RunOnceScheduler(()=>this.reloadConfiguration(),50)),this._register(E.Registry.as(m.Extensions.Configuration).onDidUpdateConfiguration(f=>this.onDidDefaultConfigurationChange(f))),this._register(this.userConfiguration.onDidChange(()=>this.reloadConfigurationScheduler.schedule()))}async initialize(){const p=await this.userConfiguration.loadConfiguration();this.configuration=new k.Configuration(new k.DefaultConfigurationModel,p)}getConfigurationData(){return this.configuration.toData()}getValue(p,b){const f=typeof p=="string"?p:void 0,w=(0,I.isConfigurationOverrides)(p)?p:(0,I.isConfigurationOverrides)(b)?b:{};return this.configuration.getValue(f,w,void 0)}updateValue(p,b,f,w){return Promise.reject(new Error("not supported"))}inspect(p){return this.configuration.inspect(p,{},void 0)}keys(){return this.configuration.keys(void 0)}async reloadConfiguration(){const p=await this.userConfiguration.loadConfiguration();this.onDidChangeUserConfiguration(p)}onDidChangeUserConfiguration(p){const b=this.configuration.toData(),f=this.configuration.compareAndUpdateLocalUserConfiguration(p);this.trigger(f,b,1)}onDidDefaultConfigurationChange(p){const b=this.configuration.toData(),f=this.configuration.compareAndUpdateDefaultConfiguration(new k.DefaultConfigurationModel,p);this.trigger(f,b,6)}trigger(p,b,f){const w=new k.ConfigurationChangeEvent(p,{data:b},this.configuration);w.source=f,w.sourceConfig=this.getTargetConfiguration(f),this._onDidChangeConfiguration.fire(w)}getTargetConfiguration(p){switch(p){case 6:return this.configuration.defaults.contents;case 1:return this.configuration.localUserConfiguration.contents}return{}}}e.ConfigurationService=i}),define(he[94],de([0,1,7]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RemoteAuthorityResolverError=e.RemoteAuthorityResolverErrorCode=e.IRemoteAuthorityResolverService=void 0,e.IRemoteAuthorityResolverService=(0,P.createDecorator)("remoteAuthorityResolverService");var _;(function(C){C.Unknown="Unknown",C.NotAvailable="NotAvailable",C.TemporarilyNotAvailable="TemporarilyNotAvailable",C.NoResolverFound="NoResolverFound"})(_=e.RemoteAuthorityResolverErrorCode||(e.RemoteAuthorityResolverErrorCode={}));class y extends Error{constructor(I,k=_.Unknown,m){super(I);this._message=I,this._code=k,this._detail=m,this.isHandled=k===_.NotAvailable&&m===!0,typeof Object.setPrototypeOf=="function"&&Object.setPrototypeOf(this,y.prototype)}static isTemporarilyNotAvailable(I){return I instanceof y&&I._code===_.TemporarilyNotAvailable}static isNoResolverFound(I){return I instanceof y&&I._code===_.NoResolverFound}static isHandled(I){return I instanceof y&&I.isHandled}}e.RemoteAuthorityResolverError=y}),define(he[95],de([0,1,8]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isVirtualWorkspace=e.getVirtualWorkspaceScheme=e.getVirtualWorkspaceLocation=e.isVirtualResource=e.getRemoteName=e.getRemoteAuthority=void 0;function _(E){return E.scheme===P.Schemas.vscodeRemote?E.authority:void 0}e.getRemoteAuthority=_;function y(E){if(!E)return;const i=E.indexOf("+");return i<0?E:E.substr(0,i)}e.getRemoteName=y;function C(E){return E.scheme!==P.Schemas.file&&E.scheme!==P.Schemas.vscodeRemote}e.isVirtualResource=C;function I(E){if(E.folders.length)return E.folders.every(i=>C(i.uri))?E.folders[0].uri:void 0;if(E.configuration&&C(E.configuration))return E.configuration}e.getVirtualWorkspaceLocation=I;function k(E){return I(E)?.scheme}e.getVirtualWorkspaceScheme=k;function m(E){return I(E)!==void 0}e.isVirtualWorkspace=m}),define(he[48],de([0,1,15,7,95]),function(Z,e,P,_,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IBuiltinExtensionsScannerService=e.isResolverExtension=e.isAuthenticationProviderExtension=e.isLanguagePackExtension=e.ExtensionIdentifier=e.ExtensionType=e.EXTENSION_CATEGORIES=e.isIExtensionIdentifier=e.getWorkspaceSupportTypeMessage=e.ALL_EXTENSION_KINDS=e.BUILTIN_MANIFEST_CACHE_FILE=e.USER_MANIFEST_CACHE_FILE=e.MANIFEST_CACHE_FOLDER=void 0,e.MANIFEST_CACHE_FOLDER="CachedExtensions",e.USER_MANIFEST_CACHE_FILE="user",e.BUILTIN_MANIFEST_CACHE_FILE="builtin",e.ALL_EXTENSION_KINDS=["ui","workspace","web"];function C(p){if(typeof p=="object"&&p!==null&&p.supported!==!0)return p.description}e.getWorkspaceSupportTypeMessage=C;function I(p){return p&&typeof p=="object"&&typeof p.id=="string"&&(!p.uuid||typeof p.uuid=="string")}e.isIExtensionIdentifier=I,e.EXTENSION_CATEGORIES=["Azure","Data Science","Debuggers","Extension Packs","Education","Formatters","Keymaps","Language Packs","Linters","Machine Learning","Notebooks","Programming Languages","SCM Providers","Snippets","Testing","Themes","Visualization","Other"];var k;(function(p){p[p.System=0]="System",p[p.User=1]="User"})(k=e.ExtensionType||(e.ExtensionType={}));class m{constructor(b){this.value=b,this._lower=b.toLowerCase()}static equals(b,f){if(typeof b=="undefined"||b===null)return typeof f=="undefined"||f===null;if(typeof f=="undefined"||f===null)return!1;if(typeof b=="string"||typeof f=="string"){let w=typeof b=="string"?b:b.value,d=typeof f=="string"?f:f.value;return P.equalsIgnoreCase(w,d)}return b._lower===f._lower}static toKey(b){return typeof b=="string"?b.toLowerCase():b._lower}}e.ExtensionIdentifier=m;function E(p){return p.contributes&&p.contributes.localizations?p.contributes.localizations.length>0:!1}e.isLanguagePackExtension=E;function i(p){return p.contributes&&p.contributes.authentication?p.contributes.authentication.length>0:!1}e.isAuthenticationProviderExtension=i;function T(p,b){if(b&&p.enableProposedApi){const f=`onResolveRemoteAuthority:${(0,y.getRemoteName)(b)}`;return p.activationEvents?.indexOf(f)!==-1}return!1}e.isResolverExtension=T,e.IBuiltinExtensionsScannerService=(0,_.createDecorator)("IBuiltinExtensionsScannerService")}),define(he[34],de([0,1,15,48]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getExtensionDependencies=e.getMaliciousExtensionsSet=e.BetterMergeId=e.getGalleryExtensionTelemetryData=e.getLocalExtensionTelemetryData=e.groupByExtension=e.getGalleryExtensionId=e.adoptToGalleryExtensionId=e.getExtensionId=e.ExtensionIdentifierWithVersion=e.areSameExtensions=void 0;function y(f,w){return f.uuid&&w.uuid?f.uuid===w.uuid:f.id===w.id?!0:(0,P.compareIgnoreCase)(f.id,w.id)===0}e.areSameExtensions=y;class C{constructor(w,d){this.version=d,this.id=w.id,this.uuid=w.uuid}key(){return`${this.id}-${this.version}`}equals(w){return w instanceof C?y(this,w)&&this.version===w.version:!1}}e.ExtensionIdentifierWithVersion=C;function I(f,w){return`${f}.${w}`}e.getExtensionId=I;function k(f){return f.toLocaleLowerCase()}e.adoptToGalleryExtensionId=k;function m(f,w){return k(I(f,w))}e.getGalleryExtensionId=m;function E(f,w){const d=[],S=g=>{for(const c of d)if(c.some(a=>y(w(a),w(g))))return c;return null};for(const g of f){const c=S(g);c?c.push(g):d.push([g])}return d}e.groupByExtension=E;function i(f){return{id:f.identifier.id,name:f.manifest.name,galleryId:null,publisherId:f.publisherId,publisherName:f.manifest.publisher,publisherDisplayName:f.publisherDisplayName,dependencies:f.manifest.extensionDependencies&&f.manifest.extensionDependencies.length>0}}e.getLocalExtensionTelemetryData=i;function T(f){return{id:f.identifier.id,name:f.name,galleryId:f.identifier.uuid,publisherId:f.publisherId,publisherName:f.publisher,publisherDisplayName:f.publisherDisplayName,dependencies:!!(f.properties.dependencies&&f.properties.dependencies.length>0),...f.telemetryData}}e.getGalleryExtensionTelemetryData=T,e.BetterMergeId=new _.ExtensionIdentifier("pprice.better-merge");function p(f){const w=new Set;for(const d of f)d.malicious&&w.add(d.id.id);return w}e.getMaliciousExtensionsSet=p;function b(f,w){const d=[],S=w.manifest.extensionDependencies?.slice(0)??[];for(;S.length;){const g=S.shift();if(g&&d.every(c=>!y(c.identifier,{id:g}))){const c=f.filter(a=>y(a.identifier,{id:g}));c.length===1&&(d.push(c[0]),S.push(...c[0].manifest.extensionDependencies?.slice(0)??[]))}}return d}e.getExtensionDependencies=b}),define(he[96],de([0,1,23,11,56,8,52,5,149,31,34,48]),function(Z,e,P,_,y,C,I,k,m,E,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionManagementCLIService=e.getIdAndVersion=void 0;const p=g=>(0,m.localize)(0,null,g),b=(0,m.localize)(1,null,"ms-dotnettools.csharp");function f(g,c){return c?`${g.publisher}.${g.name}@${g.version}`:`${g.publisher}.${g.name}`}const w=/^([^.]+\..+)@(\d+\.\d+\.\d+(-.*)?)$/;function d(g){const c=w.exec(g);return c&&c[1]?[(0,i.adoptToGalleryExtensionId)(c[1]),c[2]]:[(0,i.adoptToGalleryExtensionId)(g),void 0]}e.getIdAndVersion=d;let S=class{constructor(c,a){this.extensionManagementService=c,this.extensionGalleryService=a}get location(){}async listExtensions(c,a,l=console){let n=await this.extensionManagementService.getInstalled(1);const s=T.EXTENSION_CATEGORIES.map(t=>t.toLowerCase());if(a&&a!==""){if(s.indexOf(a.toLowerCase())<0){l.log("Invalid category please enter a valid category. To list valid categories run --category without a category specified");return}n=n.filter(t=>t.manifest.categories?t.manifest.categories.map(u=>u.toLowerCase()).indexOf(a.toLowerCase())>-1:!1)}else if(a===""){l.log("Possible Categories: "),s.forEach(t=>{l.log(t)});return}this.location&&l.log((0,m.localize)(2,null,this.location)),n=n.sort((t,o)=>t.identifier.id.localeCompare(o.identifier.id));let r;for(let t of n)r!==t.identifier.id&&(r=t.identifier.id,l.log(f(t.manifest,c)))}async installExtensions(c,a,l,n,s=console){const r=[],t=[];c.length&&s.log(this.location?(0,m.localize)(3,null,this.location):(0,m.localize)(4,null));const o=await this.extensionManagementService.getInstalled(1),u=(h,A)=>{const N=o.find($=>(0,i.areSameExtensions)($.identifier,{id:h}));if(N){if(!A&&!n)return s.log((0,m.localize)(5,null,h,N.manifest.version,h)),!1;if(A&&N.manifest.version===A)return s.log((0,m.localize)(6,null,`${h}@${A}`)),!1}return!0},v=[],D=[];for(const h of c)if(h instanceof k.URI)v.push(h);else{const[A,N]=d(h);u(A,N)&&D.push({id:A,version:N,installOptions:{isBuiltin:!1,isMachineScoped:l}})}for(const h of a){const[A,N]=d(h);u(A,N)&&D.push({id:A,version:N,installOptions:{isBuiltin:!0,isMachineScoped:!1}})}if(v.length&&await Promise.all(v.map(async h=>{try{const A=await this.installVSIX(h,{isBuiltin:!1,isMachineScoped:l},n,s);A&&t.push(A)}catch(A){s.error(A.message||A.stack||A),r.push(h.toString())}})),D.length){const h=await this.getGalleryExtensions(D);await Promise.all(D.map(async A=>{const N=h.get(A.id.toLowerCase());if(N)try{const $=await this.installFromGallery(A,N,o,n,s);$&&t.push($)}catch($){s.error($.message||$.stack||$),r.push(A.id)}else s.error(`${p(A.version?`${A.id}@${A.version}`:A.id)}
${b}`),r.push(A.id)}))}if(r.length)throw new Error((0,m.localize)(7,null,r.join(", ")))}async installVSIX(c,a,l,n){const s=await this.extensionManagementService.getManifest(c);if(!s)throw new Error("Invalid vsix");if(await this.validateVSIX(s,l,n))try{return await this.extensionManagementService.install(c,a),n.log((0,m.localize)(8,null,(0,y.getBaseLabel)(c))),s}catch(t){if((0,_.isPromiseCanceledError)(t))return n.log((0,m.localize)(9,null,(0,y.getBaseLabel)(c))),null;throw t}return null}async getGalleryExtensions(c){const a=new Map,l=await this.extensionGalleryService.getExtensions(c,P.CancellationToken.None);for(const n of l)a.set(n.identifier.id.toLowerCase(),n);return a}async installFromGallery({id:c,version:a,installOptions:l},n,s,r,t){const o=await this.extensionGalleryService.getManifest(n,P.CancellationToken.None);if(o&&!this.validateExtensionKind(o,t))return null;const u=s.find(v=>(0,i.areSameExtensions)(v.identifier,n.identifier));if(u){if(n.version===u.manifest.version)return t.log((0,m.localize)(10,null,a?`${c}@${a}`:c)),null;t.log((0,m.localize)(11,null,c,n.version))}try{return l.isBuiltin?t.log(a?(0,m.localize)(12,null,c,a):(0,m.localize)(13,null,c)):t.log(a?(0,m.localize)(14,null,c,a):(0,m.localize)(15,null,c)),await this.extensionManagementService.installFromGallery(n,{...l,installGivenVersion:!!a}),t.log((0,m.localize)(16,null,c,n.version)),o}catch(v){if((0,_.isPromiseCanceledError)(v))return t.log((0,m.localize)(17,null,c)),null;throw v}}validateExtensionKind(c,a){return!0}async validateVSIX(c,a,l){const n={id:(0,i.getGalleryExtensionId)(c.publisher,c.name)},r=(await this.extensionManagementService.getInstalled(1)).find(t=>(0,i.areSameExtensions)(n,t.identifier)&&(0,I.gt)(t.manifest.version,c.version));return r&&!a?(l.log((0,m.localize)(18,null,r.identifier.id,r.manifest.version,c.version)),!1):this.validateExtensionKind(c,l)}async uninstallExtensions(c,a,l=console){const n=async r=>{if(r instanceof k.URI){const t=await this.extensionManagementService.getManifest(r);return f(t)}return r},s=[];for(const r of c){const t=await n(r),u=(await this.extensionManagementService.getInstalled()).filter(v=>(0,i.areSameExtensions)(v.identifier,{id:t}));if(!u.length)throw new Error(`${this.notInstalled(t)}
${b}`);if(u.some(v=>v.type===0)){l.log((0,m.localize)(19,null,t));return}if(!a&&u.some(v=>v.isBuiltin)){l.log((0,m.localize)(20,null,t));return}l.log((0,m.localize)(21,null,t));for(const v of u)await this.extensionManagementService.uninstall(v),s.push(v);this.location?l.log((0,m.localize)(22,null,t,this.location)):l.log((0,m.localize)(23,null,t))}}async locateExtension(c,a=console){const l=await this.extensionManagementService.getInstalled();c.forEach(n=>{l.forEach(s=>{if(s.identifier.id===n&&s.location.scheme===C.Schemas.file){a.log(s.location.fsPath);return}})})}notInstalled(c){return this.location?(0,m.localize)(24,null,c,this.location):(0,m.localize)(25,null,c)}};S=Ne([Ge(0,E.IExtensionManagementService),Ge(1,E.IExtensionGalleryService)],S),e.ExtensionManagementCLIService=S}),define(he[194],de([0,1,13,11,2,4,21,52,5,24,16,26,31,34,19,14]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b,f,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionsDownloader=void 0;const d=/^([^.]+\..+)-(\d+\.\d+\.\d+)$/;let S=class extends y.Disposable{constructor(c,a,l,n){super();this.fileService=a,this.extensionGalleryService=l,this.logService=n,this.extensionsDownloadDir=m.URI.file(c.extensionsDownloadPath),this.cache=20,this.cleanUpPromise=this.cleanUp()}async downloadExtension(c,a){await this.cleanUpPromise;const l=this.getName(c),n=(0,I.joinPath)(this.extensionsDownloadDir,l);if(!await this.fileService.exists(n)){const s=(0,I.joinPath)(this.extensionsDownloadDir,`.${(0,E.generateUuid)()}`);await this.fileService.exists(s)||await this.extensionGalleryService.download(c,s,a);try{await this.rename(s,n,Date.now()+2*60*1e3)}catch(r){try{await this.fileService.del(s)}catch(t){}if(r.code==="ENOTEMPTY")this.logService.info("Rename failed because vsix was downloaded by another source. So ignoring renaming.",c.identifier.id);else throw this.logService.info(`Rename failed because of ${(0,_.getErrorMessage)(r)}. Deleted the vsix from downloaded location`,s.path),r}}return n}async delete(c){await this.cleanUpPromise,await this.fileService.del(c)}async rename(c,a,l){try{await i.Promises.rename(c.fsPath,a.fsPath)}catch(n){if(C.isWindows&&n&&n.code==="EPERM"&&Date.now()<l)return this.logService.info(`Failed renaming ${c} to ${a} with 'EPERM' error. Trying again...`),this.rename(c,a,l);throw n}}async cleanUp(){try{if(!await this.fileService.exists(this.extensionsDownloadDir)){this.logService.trace("Extension VSIX downlads cache dir does not exist");return}const c=await this.fileService.resolve(this.extensionsDownloadDir,{resolveMetadata:!0});if(c.children){const a=[],l=[];for(const r of c.children){const t=this.parse(r.name);t&&l.push([t,r])}const n=(0,b.groupByExtension)(l,([r])=>r),s=[];for(const r of n)r.sort((t,o)=>k.rcompare(t[0].version,o[0].version)),a.push(...r.slice(1).map(t=>t[1].resource)),s.push(r[0][1]);s.sort((r,t)=>r.mtime-t.mtime),a.push(...s.slice(0,Math.max(0,s.length-this.cache)).map(r=>r.resource)),await P.Promises.settled(a.map(r=>(this.logService.trace("Deleting vsix from cache",r.path),this.fileService.del(r))))}}catch(c){this.logService.error(c)}}getName(c){return this.cache?`${new b.ExtensionIdentifierWithVersion(c.identifier,c.version).key().toLowerCase()}${c.properties.targetPlatform!=="undefined"?`-${c.properties.targetPlatform}`:""}`:(0,E.generateUuid)()}parse(c){const a=d.exec(c);return a&&a[1]&&a[2]?new b.ExtensionIdentifierWithVersion({id:a[1]},a[2]):null}};S=Ne([Ge(0,T.INativeEnvironmentService),Ge(1,f.IFileService),Ge(2,p.IExtensionGalleryService),Ge(3,w.ILogService)],S),e.ExtensionsDownloader=S}),define(he[195],de([0,1,2,3,16,48]),function(Z,e,P,_,y,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionsManifestCache=void 0;class I extends P.Disposable{constructor(m,E){super();this.environmentService=m,this.extensionsManifestCache=(0,_.join)(this.environmentService.userDataPath,C.MANIFEST_CACHE_FOLDER,C.USER_MANIFEST_CACHE_FILE),this._register(E.onDidInstallExtensions(i=>this.onDidInstallExtensions(i))),this._register(E.onDidUninstallExtension(i=>this.onDidUnInstallExtension(i)))}onDidInstallExtensions(m){m.some(E=>!!E.local)&&this.invalidate()}onDidUnInstallExtension(m){m.error||this.invalidate()}invalidate(){y.Promises.rm(this.extensionsManifestCache,y.RimRafMode.MOVE).then(()=>{},()=>{})}}e.ExtensionsManifestCache=I}),define(he[196],de([0,1,6,2,21,5,26,34,19,14]),function(Z,e,P,_,y,C,I,k,m,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionsWatcher=void 0;let i=class extends _.Disposable{constructor(p,b,f,w){super();this.extensionsManagementService=p,this.logService=w,this._onDidChangeExtensionsByAnotherSource=this._register(new P.Emitter),this.onDidChangeExtensionsByAnotherSource=this._onDidChangeExtensionsByAnotherSource.event,this.startTimestamp=0,this.installingExtensions=[],this.extensionsManagementService.getInstalled(1).then(g=>{this.installedExtensions=g.map(c=>c.identifier),this.startTimestamp=Date.now()}),this._register(p.onInstallExtension(g=>this.onInstallExtension(g))),this._register(p.onDidInstallExtensions(g=>this.onDidInstallExtensions(g))),this._register(p.onDidUninstallExtension(g=>this.onDidUninstallExtension(g)));const d=C.URI.file(f.extensionsPath),S=new y.ExtUri(g=>!b.hasCapability(g,1024));this._register(b.watch(d)),this._register(P.Event.filter(b.onDidChangeFilesRaw,g=>g.changes.some(c=>this.doesChangeAffects(c,d,S)))(()=>this.onDidChange()))}doesChangeAffects(p,b,f){return f.isEqual(f.dirname(p.resource),b)?f.isEqual(p.resource,f.joinPath(b,".obsolete"))?!0:!(p.type!==1&&p.type!==2||f.basename(p.resource).startsWith(".")):!1}onInstallExtension(p){this.addInstallingExtension(p.identifier)}onDidInstallExtensions(p){for(const b of p)this.removeInstallingExtension(b.identifier),b.local&&this.addInstalledExtension(b.identifier)}onDidUninstallExtension(p){p.error||this.removeInstalledExtension(p.identifier)}addInstallingExtension(p){this.removeInstallingExtension(p),this.installingExtensions.push(p)}removeInstallingExtension(p){this.installingExtensions=this.installingExtensions.filter(b=>!(0,k.areSameExtensions)(b,p))}addInstalledExtension(p){this.installedExtensions&&(this.removeInstalledExtension(p),this.installedExtensions.push(p))}removeInstalledExtension(p){this.installedExtensions&&(this.installedExtensions=this.installedExtensions.filter(b=>!(0,k.areSameExtensions)(b,p)))}async onDidChange(){if(this.installedExtensions){const p=await this.extensionsManagementService.getInstalled(1),b=p.filter(w=>[...this.installingExtensions,...this.installedExtensions].some(d=>(0,k.areSameExtensions)(d,w.identifier))?!1:w.installedTimestamp&&w.installedTimestamp>this.startTimestamp?(this.logService.info("Detected extension installed from another source",w.identifier.id),!0):(this.logService.info("Ignored extension installed by another source because of invalid timestamp",w.identifier.id),!1)),f=this.installedExtensions.filter(w=>this.installingExtensions.some(d=>(0,k.areSameExtensions)(d,w))?!1:p.every(d=>!(0,k.areSameExtensions)(d.identifier,w))?(this.logService.info("Detected extension removed from another source",w.id),!0):!1);this.installedExtensions=p.map(w=>w.identifier),(b.length||f.length)&&this._onDidChangeExtensionsByAnotherSource.fire({added:b,removed:f})}}};i=Ne([Ge(1,m.IFileService),Ge(2,I.INativeEnvironmentService),Ge(3,E.ILogService)],i),e.ExtensionsWatcher=i}),define(he[97],de([0,1,70,18,13,2,8,3,16,26,31,34,68,14]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocalizationsService=void 0;let f=class extends C.Disposable{constructor(S,g,c){super();this.extensionManagementService=S,this.logService=c,this.cache=this._register(new w(g,c)),this.extensionManagementService.registerParticipant({postInstall:async a=>this.postInstallExtension(a),postUninstall:async a=>this.postUninstallExtension(a)})}async getLanguageIds(){const S=await this.cache.getLanguagePacks(),g=["en",...Object.keys(S)];return(0,_.distinct)(g)}async postInstallExtension(S){S&&S.manifest&&S.manifest.contributes&&S.manifest.contributes.localizations&&S.manifest.contributes.localizations.length&&(this.logService.info("Adding language packs from the extension",S.identifier.id),await this.update())}async postUninstallExtension(S){const g=await this.cache.getLanguagePacks();Object.keys(g).some(c=>g[c]&&g[c].extensions.some(a=>(0,T.areSameExtensions)(a.extensionIdentifier,S.identifier)))&&(this.logService.info("Removing language packs from the extension",S.identifier.id),await this.update())}async update(){const[S,g]=await Promise.all([this.cache.getLanguagePacks(),this.extensionManagementService.getInstalled()]),c=await this.cache.update(g);return!(0,_.equals)(Object.keys(S),Object.keys(c))}};f=Ne([Ge(0,i.IExtensionManagementService),Ge(1,E.INativeEnvironmentService),Ge(2,b.ILogService)],f),e.LocalizationsService=f;let w=class extends C.Disposable{constructor(S,g){super();this.logService=g,this.languagePacks={},this.languagePacksFilePath=(0,k.join)(S.userDataPath,"languagepacks.json"),this.languagePacksFileLimiter=new y.Queue}getLanguagePacks(){return this.languagePacksFileLimiter.size||!this.initializedCache?this.withLanguagePacks().then(()=>this.languagePacks):Promise.resolve(this.languagePacks)}update(S){return this.withLanguagePacks(g=>{Object.keys(g).forEach(c=>delete g[c]),this.createLanguagePacksFromExtensions(g,...S)}).then(()=>this.languagePacks)}createLanguagePacksFromExtensions(S,...g){for(const c of g)c&&c.manifest&&c.manifest.contributes&&c.manifest.contributes.localizations&&c.manifest.contributes.localizations.length&&this.createLanguagePacksFromExtension(S,c);Object.keys(S).forEach(c=>this.updateHash(S[c]))}createLanguagePacksFromExtension(S,g){const c=g.identifier,a=g.manifest.contributes&&g.manifest.contributes.localizations?g.manifest.contributes.localizations:[];for(const l of a)if(g.location.scheme===I.Schemas.file&&(0,p.isValidLocalization)(l)){let n=S[l.languageId];n||(n={hash:"",extensions:[],translations:{}},S[l.languageId]=n);let s=n.extensions.filter(r=>(0,T.areSameExtensions)(r.extensionIdentifier,c))[0];s?s.version=g.manifest.version:n.extensions.push({extensionIdentifier:c,version:g.manifest.version});for(const r of l.translations)n.translations[r.id]=(0,k.join)(g.location.fsPath,r.path)}}updateHash(S){if(S){const g=(0,P.createHash)("md5");for(const c of S.extensions)g.update(c.extensionIdentifier.uuid||c.extensionIdentifier.id).update(c.version);S.hash=g.digest("hex")}}withLanguagePacks(S=()=>null){return this.languagePacksFileLimiter.queue(()=>{let g=null;return m.Promises.readFile(this.languagePacksFilePath,"utf8").then(void 0,c=>c.code==="ENOENT"?Promise.resolve("{}"):Promise.reject(c)).then(c=>{try{return JSON.parse(c)}catch(a){return{}}}).then(c=>(g=S(c),c)).then(c=>{for(const l of Object.keys(c))c[l]||delete c[l];this.languagePacks=c,this.initializedCache=!0;const a=JSON.stringify(this.languagePacks);return this.logService.debug("Writing language packs",a),m.Promises.writeFile(this.languagePacksFilePath,a)}).then(()=>g,c=>this.logService.error(c))})}};w=Ne([Ge(0,E.INativeEnvironmentService),Ge(1,b.ILogService)],w)}),define(he[53],de([0,1,17,159,41,7,32]),function(Z,e,P,_,y,C,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateProxyConfigurationsScope=e.asJson=e.asText=e.isSuccess=e.IRequestService=void 0,e.IRequestService=(0,C.createDecorator)("requestService");function k(f){return f.res.statusCode&&f.res.statusCode>=200&&f.res.statusCode<300||f.res.statusCode===1223}e.isSuccess=k;function m(f){return f.res.statusCode===204}async function E(f){if(!k(f))throw new Error("Server returned "+f.res.statusCode);return m(f)?null:(await(0,P.streamToBuffer)(f.stream)).toString()}e.asText=E;async function i(f){if(!k(f))throw new Error("Server returned "+f.res.statusCode);if(m(f))return null;const d=(await(0,P.streamToBuffer)(f.stream)).toString();try{return JSON.parse(d)}catch(S){throw S.message+=`:
`+d,S}}e.asJson=i;function T(f){b(f)}e.updateProxyConfigurationsScope=T;let p;function b(f){const w=I.Registry.as(y.Extensions.Configuration),d=p;p={id:"http",order:15,title:(0,_.localize)(0,null),type:"object",scope:f,properties:{"http.proxy":{type:"string",pattern:"^https?://([^:]*(:[^@]*)?@)?([^:]+|\\[[:0-9a-fA-F]+\\])(:\\d+)?/?$|^$",markdownDescription:(0,_.localize)(1,null),restricted:!0},"http.proxyStrictSSL":{type:"boolean",default:!0,description:(0,_.localize)(2,null),restricted:!0},"http.proxyAuthorization":{type:["null","string"],default:null,markdownDescription:(0,_.localize)(3,null),restricted:!0},"http.proxySupport":{type:"string",enum:["off","on","fallback","override"],enumDescriptions:[(0,_.localize)(4,null),(0,_.localize)(5,null),(0,_.localize)(6,null),(0,_.localize)(7,null)],default:"override",description:(0,_.localize)(8,null),restricted:!0},"http.systemCertificates":{type:"boolean",default:!0,description:(0,_.localize)(9,null),restricted:!0}}},w.updateConfigurations({add:[p],remove:d?[d]:[]})}b(2)}),define(he[197],de([0,1,23,8,19,53]),function(Z,e,P,_,y,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DownloadService=void 0;let I=class{constructor(m,E){this.requestService=m,this.fileService=E}async download(m,E,i=P.CancellationToken.None){if(m.scheme===_.Schemas.file||m.scheme===_.Schemas.vscodeRemote){await this.fileService.copy(m,E);return}const T={type:"GET",url:m.toString()},p=await this.requestService.request(T,i);if(p.res.statusCode===200)await this.fileService.writeFile(E,p.stream);else{const b=await(0,C.asText)(p);throw new Error(`Expected 200, got back ${p.res.statusCode} instead.

${b}`)}}};I=Ne([Ge(0,C.IRequestService),Ge(1,y.IFileService)],I),e.DownloadService=I}),define(he[198],de([0,1,17,23]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RequestChannelClient=e.RequestChannel=void 0;class y{constructor(k){this.service=k}listen(k,m){throw new Error("Invalid listen")}call(k,m,E){switch(m){case"request":return this.service.request(E[0],_.CancellationToken.None).then(async({res:i,stream:T})=>{const p=await(0,P.streamToBuffer)(T);return[{statusCode:i.statusCode,headers:i.headers},p]})}throw new Error("Invalid call")}}e.RequestChannel=y;class C{constructor(k){this.channel=k}async request(k,m){return C.request(this.channel,k,m)}static async request(k,m,E){const[i,T]=await k.call("request",[m]);return{res:i,stream:(0,P.bufferToStream)(T)}}}e.RequestChannelClient=C}),define(he[199],de([0,1,71,12]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getProxyAgent=void 0;function y(I,k){return I.protocol==="http:"?k.HTTP_PROXY||k.http_proxy||null:I.protocol==="https:"&&(k.HTTPS_PROXY||k.https_proxy||k.HTTP_PROXY||k.http_proxy)||null}async function C(I,k,m={}){const E=(0,P.parse)(I),i=m.proxyUrl||y(E,k);if(!i)return null;const T=(0,P.parse)(i);if(!/^https?:$/.test(T.protocol||""))return null;const p={host:T.hostname||"",port:T.port||(T.protocol==="https"?"443":"80"),auth:T.auth,rejectUnauthorized:(0,_.isBoolean)(m.strictSSL)?m.strictSSL:!0};return E.protocol==="http:"?new(await new Promise((b,f)=>{Z(["http-proxy-agent"],b,f)}))(p):new(await new Promise((b,f)=>{Z(["https-proxy-agent"],b,f)}))(p)}e.getProxyAgent=C}),define(he[200],de([0,1,17,24]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getServiceMachineId=void 0;async function y(C,I,k){let m=k&&k.get("storage.serviceMachineId",0)||null;if(m)return m;try{const i=(await I.readFile(C.serviceMachineIdResource)).value.toString();m=(0,_.isUUID)(i)?i:null}catch(E){m=null}if(!m){m=(0,_.generateUuid)();try{await I.writeFile(C.serviceMachineIdResource,P.VSBuffer.fromString(m))}catch(E){}}return k&&k.store("storage.serviceMachineId",m,0,1),m}e.getServiceMachineId=y}),define(he[201],de([0,1,13,6,2,45,12,132,7]),function(Z,e,P,_,y,C,I,k,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logStorage=e.InMemoryStorageService=e.AbstractStorageService=e.StorageTarget=e.StorageScope=e.WillSaveStateReason=e.IStorageService=e.IS_NEW_KEY=void 0,e.IS_NEW_KEY="__$__isNewStorageMarker";const E="__$__targetStorageMarker";e.IStorageService=(0,m.createDecorator)("storageService");var i;(function(d){d[d.NONE=0]="NONE",d[d.SHUTDOWN=1]="SHUTDOWN"})(i=e.WillSaveStateReason||(e.WillSaveStateReason={}));var T;(function(d){d[d.GLOBAL=0]="GLOBAL",d[d.WORKSPACE=1]="WORKSPACE"})(T=e.StorageScope||(e.StorageScope={}));var p;(function(d){d[d.USER=0]="USER",d[d.MACHINE=1]="MACHINE"})(p=e.StorageTarget||(e.StorageTarget={}));class b extends y.Disposable{constructor(S={flushInterval:b.DEFAULT_FLUSH_INTERVAL}){super();this.options=S,this._onDidChangeValue=this._register(new _.PauseableEmitter),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new _.PauseableEmitter),this.onDidChangeTarget=this._onDidChangeTarget.event,this._onWillSaveState=this._register(new _.Emitter),this.onWillSaveState=this._onWillSaveState.event,this.flushWhenIdleScheduler=this._register(new P.RunOnceScheduler(()=>this.doFlushWhenIdle(),this.options.flushInterval)),this.runFlushWhenIdle=this._register(new y.MutableDisposable),this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}doFlushWhenIdle(){this.runFlushWhenIdle.value=(0,P.runWhenIdle)(()=>{this.shouldFlushWhenIdle()&&this.flush(),this.flushWhenIdleScheduler.schedule()})}shouldFlushWhenIdle(){return!0}stopFlushWhenIdle(){(0,y.dispose)([this.runFlushWhenIdle,this.flushWhenIdleScheduler])}initialize(){return this.initializationPromise||(this.initializationPromise=(async()=>{(0,C.mark)("code/willInitStorage");try{await this.doInitialize()}finally{(0,C.mark)("code/didInitStorage")}this.flushWhenIdleScheduler.schedule()})()),this.initializationPromise}emitDidChangeValue(S,g){g===E?(S===0?this._globalKeyTargets=void 0:S===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:S})):this._onDidChangeValue.fire({scope:S,key:g,target:this.getKeyTargets(S)[g]})}emitWillSaveState(S){this._onWillSaveState.fire({reason:S})}get(S,g,c){return this.getStorage(g)?.get(S,c)}getBoolean(S,g,c){return this.getStorage(g)?.getBoolean(S,c)}getNumber(S,g,c){return this.getStorage(g)?.getNumber(S,c)}store(S,g,c,a){if((0,I.isUndefinedOrNull)(g)){this.remove(S,c);return}this.withPausedEmitters(()=>{this.updateKeyTarget(S,c,a),this.getStorage(c)?.set(S,g)})}remove(S,g){this.withPausedEmitters(()=>{this.updateKeyTarget(S,g,void 0),this.getStorage(g)?.delete(S)})}withPausedEmitters(S){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{S()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}keys(S,g){const c=[],a=this.getKeyTargets(S);for(const l of Object.keys(a))a[l]===g&&c.push(l);return c}updateKeyTarget(S,g,c){const a=this.getKeyTargets(g);typeof c=="number"?a[S]!==c&&(a[S]=c,this.getStorage(g)?.set(E,JSON.stringify(a))):typeof a[S]=="number"&&(delete a[S],this.getStorage(g)?.set(E,JSON.stringify(a)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(S){return S===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(S){const g=this.get(E,S);if(g)try{return JSON.parse(g)}catch(c){}return Object.create(null)}isNew(S){return this.getBoolean(e.IS_NEW_KEY,S)===!0}async flush(S=i.NONE){this._onWillSaveState.fire({reason:S}),await P.Promises.settled([this.getStorage(0)?.whenFlushed()??Promise.resolve(),this.getStorage(1)?.whenFlushed()??Promise.resolve()])}async logStorage(){const S=this.getStorage(0)?.items??new Map,g=this.getStorage(1)?.items??new Map;return w(S,g,this.getLogDetails(0)??"",this.getLogDetails(1)??"")}}e.AbstractStorageService=b,b.DEFAULT_FLUSH_INTERVAL=60*1e3;class f extends b{constructor(){super();this.globalStorage=this._register(new k.Storage(new k.InMemoryStorageDatabase)),this.workspaceStorage=this._register(new k.Storage(new k.InMemoryStorageDatabase)),this._register(this.workspaceStorage.onDidChangeStorage(S=>this.emitDidChangeValue(1,S))),this._register(this.globalStorage.onDidChangeStorage(S=>this.emitDidChangeValue(0,S)))}getStorage(S){return S===0?this.globalStorage:this.workspaceStorage}getLogDetails(S){return S===0?"inMemory (global)":"inMemory (workspace)"}async doInitialize(){}async migrate(S){}}e.InMemoryStorageService=f;async function w(d,S,g,c){const a=u=>{try{return JSON.parse(u)}catch(v){return u}},l=new Map,n=new Map;d.forEach((u,v)=>{l.set(v,u),n.set(v,a(u))});const s=new Map,r=new Map;S.forEach((u,v)=>{s.set(v,u),r.set(v,a(u))}),console.group(`Storage: Global (path: ${g})`);let t=[];l.forEach((u,v)=>{t.push({key:v,value:u})}),console.table(t),console.groupEnd(),console.log(n),console.group(`Storage: Workspace (path: ${c})`);let o=[];s.forEach((u,v)=>{o.push({key:v,value:u})}),console.table(o),console.groupEnd(),console.log(r)}e.logStorage=w}),define(he[202],de([0,1,4,22,5,24]),function(Z,e,P,_,y,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.verifyMicrosoftInternalDomain=e.resolveCommonProperties=void 0;function I(E){if(P.platform===2&&/^penguin(\.|$)/i.test(E))return"chromebook"}async function k(E,i,T,p,b,f,w,d,S,g){const c=Object.create(null);c["common.machineId"]=w,c.sessionID=(0,C.generateUuid)()+Date.now(),c.commitHash=b,c.version=f,c["common.platformVersion"]=(i||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),c["common.platform"]=(0,P.PlatformToString)(P.platform),c["common.nodePlatform"]=_.platform,c["common.nodeArch"]=p,c["common.product"]=g||"desktop";const a=m(d||[]);a&&(c["common.msftInternal"]=a);let l=0;const n=Date.now();Object.defineProperties(c,{timestamp:{get:()=>new Date,enumerable:!0},"common.timesincesessionstart":{get:()=>Date.now()-n,enumerable:!0},"common.sequence":{get:()=>l++,enumerable:!0}}),P.isLinuxSnap&&(c["common.snap"]="true");const s=I(T);s&&(c["common.platformDetail"]=s);try{const r=await E.readFile(y.URI.file(S));c["common.source"]=r.value.toString().slice(0,30)}catch(r){}return c}e.resolveCommonProperties=k;function m(E){const i=_.env.USERDNSDOMAIN;if(!i)return!1;const T=i.toLowerCase();return E.some(p=>T===p)}e.verifyMicrosoftInternalDomain=m}),define(he[203],de([0,1,18,11,2,20]),function(Z,e,P,_,y,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorEvent=void 0;var I;(function(m){function E(i,T){return i.callstack<T.callstack?-1:i.callstack>T.callstack?1:0}m.compare=E})(I=e.ErrorEvent||(e.ErrorEvent={}));class k{constructor(E,i=k.ERROR_FLUSH_TIMEOUT){this._flushHandle=-1,this._buffer=[],this._disposables=new y.DisposableStore,this._telemetryService=E,this._flushDelay=i;const T=_.errorHandler.addListener(p=>this._onErrorEvent(p));this._disposables.add((0,y.toDisposable)(T)),this.installErrorListeners()}dispose(){clearTimeout(this._flushHandle),this._flushBuffer(),this._disposables.dispose()}installErrorListeners(){}_onErrorEvent(E){if(!E)return;E.detail&&E.detail.stack&&(E=E.detail);let i=Array.isArray(E.stack)?E.stack.join(`
`):E.stack,T=E.message?E.message:(0,C.safeStringify)(E);!i||this._enqueue({msg:T,callstack:i})}_enqueue(E){const i=(0,P.binarySearch)(this._buffer,E,I.compare);i<0?(E.count=1,this._buffer.splice(~i,0,E)):(this._buffer[i].count||(this._buffer[i].count=0),this._buffer[i].count+=1),this._flushHandle===-1&&(this._flushHandle=setTimeout(()=>{this._flushBuffer(),this._flushHandle=-1},this._flushDelay))}_flushBuffer(){for(let E of this._buffer)this._telemetryService.publicLogError2("UnhandledError",E);this._buffer.length=0}}e.default=k,k.ERROR_FLUSH_TIMEOUT=5*1e3}),define(he[33],de([0,1,7]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryConfiguration=e.TelemetryLevel=e.TELEMETRY_OLD_SETTING_ID=e.TELEMETRY_SETTING_ID=e.TELEMETRY_SECTION_ID=e.machineIdKey=e.lastSessionDateStorageKey=e.firstSessionDateStorageKey=e.currentSessionDateStorageKey=e.instanceStorageKey=e.ICustomEndpointTelemetryService=e.ITelemetryService=void 0,e.ITelemetryService=(0,P.createDecorator)("telemetryService"),e.ICustomEndpointTelemetryService=(0,P.createDecorator)("customEndpointTelemetryService"),e.instanceStorageKey="telemetry.instanceId",e.currentSessionDateStorageKey="telemetry.currentSessionDate",e.firstSessionDateStorageKey="telemetry.firstSessionDate",e.lastSessionDateStorageKey="telemetry.lastSessionDate",e.machineIdKey="telemetry.machineId",e.TELEMETRY_SECTION_ID="telemetry",e.TELEMETRY_SETTING_ID="telemetry.telemetryLevel",e.TELEMETRY_OLD_SETTING_ID="telemetry.enableTelemetry";var _;(function(C){C[C.NONE=0]="NONE",C[C.CRASH=1]="CRASH",C[C.ERROR=2]="ERROR",C[C.USAGE=3]="USAGE"})(_=e.TelemetryLevel||(e.TelemetryLevel={}));var y;(function(C){C.OFF="off",C.CRASH="crash",C.ERROR="error",C.ON="all"})(y=e.TelemetryConfiguration||(e.TelemetryConfiguration={}))}),define(he[204],de([0,1,25,49,13,38,8,3,4,5,81,16,84,179,19,37,33]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b,f,w,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagnosticsService=e.collectLaunchConfigs=e.getMachineInfo=e.collectWorkspaceStats=void 0;async function S(n,s){const r=[{tag:"grunt.js",filePattern:/^gruntfile\.js$/i},{tag:"gulp.js",filePattern:/^gulpfile\.js$/i},{tag:"tsconfig.json",filePattern:/^tsconfig\.json$/i},{tag:"package.json",filePattern:/^package\.json$/i},{tag:"jsconfig.json",filePattern:/^jsconfig\.json$/i},{tag:"tslint.json",filePattern:/^tslint\.json$/i},{tag:"eslint.json",filePattern:/^eslint\.json$/i},{tag:"tasks.json",filePattern:/^tasks\.json$/i},{tag:"launch.json",filePattern:/^launch\.json$/i},{tag:"settings.json",filePattern:/^settings\.json$/i},{tag:"webpack.config.js",filePattern:/^webpack\.config\.js$/i},{tag:"project.json",filePattern:/^project\.json$/i},{tag:"makefile",filePattern:/^makefile$/i},{tag:"sln",filePattern:/^.+\.sln$/i},{tag:"csproj",filePattern:/^.+\.csproj$/i},{tag:"cmake",filePattern:/^.+\.cmake$/i},{tag:"github-actions",filePattern:/^.+\.yml$/i,relativePathPattern:/^\.github(?:\/|\\)workflows$/i},{tag:"devcontainer.json",filePattern:/^devcontainer\.json$/i},{tag:"dockerfile",filePattern:/^(dockerfile|docker\-compose\.ya?ml)$/i}],t=new Map,o=new Map,u=2e4;function v(A,N,$,K){const j=N.substring(A.length+1);return y.Promises.withAsyncBody(async F=>{let G;try{G=await T.Promises.readdir(N,{withFileTypes:!0})}catch(H){F();return}if(K.count>=u){K.count+=G.length,K.maxReached=!0,F();return}let R=G.length;if(R===0){F();return}let B=G;K.count+G.length>u&&(K.maxReached=!0,R=u-K.count,B=G.slice(0,R)),K.count+=G.length;for(const H of B)if(H.isDirectory()){if($.includes(H.name)||await v(A,(0,k.join)(N,H.name),$,K),--R==0){F();return}}else{const q=H.name.lastIndexOf(".");if(q>=0){const W=H.name.substring(q+1);W&&t.set(W,(t.get(W)??0)+1)}for(const W of r)W.relativePathPattern?.test(j)!==!1&&W.filePattern.test(H.name)&&o.set(W.tag,(o.get(W.tag)??0)+1);if(--R==0){F();return}}})}const D={count:0,maxReached:!1};await v(n,n,s,D);const h=await a(n);return{configFiles:g(o),fileTypes:g(t),fileCount:D.count,maxFilesReached:D.maxReached,launchConfigFiles:h}}e.collectWorkspaceStats=S;function g(n){return[..._.Iterable.map(n.entries(),([s,r])=>({name:s,count:r}))].sort((s,r)=>r.count-s.count)}function c(){const n={os:`${P.type()} ${P.arch()} ${P.release()}`,memory:`${(P.totalmem()/f.ByteSize.GB).toFixed(2)}GB (${(P.freemem()/f.ByteSize.GB).toFixed(2)}GB free)`,vmHint:`${Math.round(i.virtualMachineHint.value()*100)}%`},s=P.cpus();return s&&s.length>0&&(n.cpus=`${s[0].model} (${s.length} x ${s[0].speed})`),n}e.getMachineInfo=c;async function a(n){try{const s=new Map,r=(0,k.join)(n,".vscode","launch.json"),t=await T.Promises.readFile(r),o=[],u=(0,C.parse)(t.toString(),o);if(o.length)return console.log(`Unable to parse ${r}`),[];if((0,C.getNodeType)(u)==="object"&&u.configurations)for(const v of u.configurations){const D=v.type;D&&(s.has(D)?s.set(D,s.get(D)+1):s.set(D,1))}return g(s)}catch(s){return[]}}e.collectLaunchConfigs=a;let l=class{constructor(s,r){this.telemetryService=s,this.productService=r}formatMachineInfo(s){const r=[];return r.push(`OS Version:       ${s.os}`),r.push(`CPUs:             ${s.cpus}`),r.push(`Memory (System):  ${s.memory}`),r.push(`VM:               ${s.vmHint}`),r.join(`
`)}formatEnvironment(s){const r=[];r.push(`Version:          ${this.productService.nameShort} ${this.productService.version} (${this.productService.commit||"Commit unknown"}, ${this.productService.date||"Date unknown"})`),r.push(`OS Version:       ${P.type()} ${P.arch()} ${P.release()}`);const t=P.cpus();return t&&t.length>0&&r.push(`CPUs:             ${t[0].model} (${t.length} x ${t[0].speed})`),r.push(`Memory (System):  ${(P.totalmem()/f.ByteSize.GB).toFixed(2)}GB (${(P.freemem()/f.ByteSize.GB).toFixed(2)}GB free)`),m.isWindows||r.push(`Load (avg):       ${P.loadavg().map(o=>Math.round(o)).join(", ")}`),r.push(`VM:               ${Math.round(i.virtualMachineHint.value()*100)}%`),r.push(`Screen Reader:    ${s.screenReader?"yes":"no"}`),r.push(`Process Argv:     ${s.mainArguments.join(" ")}`),r.push(`GPU Status:       ${this.expandGPUFeatures(s.gpuFeatureStatus)}`),r.join(`
`)}async getPerformanceInfo(s,r){return Promise.all([(0,p.listProcesses)(s.mainPID),this.formatWorkspaceMetadata(s)]).then(async t=>{let[o,u]=t,v=this.formatProcessList(s,o);return r.forEach(D=>{if((0,b.isRemoteDiagnosticError)(D))v+=`
${D.errorMessage}`,u+=`
${D.errorMessage}`;else if(v+=`

Remote: ${D.hostName}`,D.processes&&(v+=`
${this.formatProcessList(s,D.processes)}`),D.workspaceMetadata){u+=`
|  Remote: ${D.hostName}`;for(const h of Object.keys(D.workspaceMetadata)){const A=D.workspaceMetadata[h];let N=`${A.fileCount} files`;A.maxFilesReached&&(N=`more than ${N}`),u+=`|    Folder (${h}): ${N}`,u+=this.formatWorkspaceStats(A)}}}),{processInfo:v,workspaceInfo:u}})}async getSystemInfo(s,r){const{memory:t,vmHint:o,os:u,cpus:v}=c(),D={os:u,memory:t,cpus:v,vmHint:o,processArgs:`${s.mainArguments.join(" ")}`,gpuStatus:s.gpuFeatureStatus,screenReader:`${s.screenReader?"yes":"no"}`,remoteData:r};return m.isWindows||(D.load=`${P.loadavg().map(h=>Math.round(h)).join(", ")}`),m.isLinux&&(D.linuxEnv={desktopSession:process.env.DESKTOP_SESSION,xdgSessionDesktop:process.env.XDG_SESSION_DESKTOP,xdgCurrentDesktop:process.env.XDG_CURRENT_DESKTOP,xdgSessionType:process.env.XDG_SESSION_TYPE}),Promise.resolve(D)}async getDiagnostics(s,r){const t=[];return(0,p.listProcesses)(s.mainPID).then(async o=>(t.push(""),t.push(this.formatEnvironment(s)),t.push(""),t.push(this.formatProcessList(s,o)),s.windows.some(u=>u.folderURIs&&u.folderURIs.length>0&&!u.remoteAuthority)&&(t.push(""),t.push("Workspace Stats: "),t.push(await this.formatWorkspaceMetadata(s))),r.forEach(u=>{if((0,b.isRemoteDiagnosticError)(u))t.push(`
${u.errorMessage}`);else if(t.push(`

`),t.push(`Remote:           ${u.hostName}`),t.push(this.formatMachineInfo(u.machineInfo)),u.processes&&t.push(this.formatProcessList(s,u.processes)),u.workspaceMetadata)for(const v of Object.keys(u.workspaceMetadata)){const D=u.workspaceMetadata[v];let h=`${D.fileCount} files`;D.maxFilesReached&&(h=`more than ${h}`),t.push(`Folder (${v}): ${h}`),t.push(this.formatWorkspaceStats(D))}}),t.push(""),t.push(""),t.join(`
`)))}formatWorkspaceStats(s){const r=[],t=60;let o=0;const u=(A,N)=>{const $=` ${A}(${N})`;o+$.length>t?(r.push(v),v="|                 ",o=v.length):o+=$.length,v+=$};let v="|      File types:";const D=10;let h=s.fileTypes.length>D?D:s.fileTypes.length;for(let A=0;A<h;A++){const N=s.fileTypes[A];u(N.name,N.count)}if(r.push(v),s.configFiles.length>=0&&(v="|      Conf files:",o=0,s.configFiles.forEach(A=>{u(A.name,A.count)}),r.push(v)),s.launchConfigFiles.length>0){let A="|      Launch Configs:";s.launchConfigFiles.forEach(N=>{A+=N.count>1?` ${N.name}(${N.count})`:` ${N.name}`}),r.push(A)}return r.join(`
`)}expandGPUFeatures(s){const r=Math.max(...Object.keys(s).map(t=>t.length));return Object.keys(s).map(t=>`${t}:  ${" ".repeat(r-t.length)}  ${s[t]}`).join(`
                  `)}formatWorkspaceMetadata(s){const r=[],t=[];return s.windows.forEach(o=>{o.folderURIs.length===0||!!o.remoteAuthority||(r.push(`|  Window (${o.title})`),o.folderURIs.forEach(u=>{const v=E.URI.revive(u);if(v.scheme===I.Schemas.file){const D=v.fsPath;t.push(S(D,["node_modules",".git"]).then(h=>{let A=`${h.fileCount} files`;h.maxFilesReached&&(A=`more than ${A}`),r.push(`|    Folder (${(0,k.basename)(D)}): ${A}`),r.push(this.formatWorkspaceStats(h))}).catch(h=>{r.push(`|      Error: Unable to collect workspace stats for folder ${D} (${h.toString()})`)}))}else r.push(`|    Folder (${v.toString()}): Workspace stats not available.`)}))}),Promise.all(t).then(o=>r.join(`
`)).catch(o=>`Unable to collect workspace stats: ${o}`)}formatProcessList(s,r){const t=new Map;s.windows.forEach(u=>t.set(u.pid,u.title));const o=[];return o.push("CPU %	Mem MB	   PID	Process"),r&&this.formatProcessItem(s.mainPID,t,o,r,0),o.join(`
`)}formatProcessItem(s,r,t,o,u){const v=u===0;let D;v?D=o.pid===s?`${this.productService.applicationName} main`:"remote agent":(D=`${"  ".repeat(u)} ${o.name}`,o.name==="window"&&(D=`${D} (${r.get(o.pid)})`));const h=process.platform==="win32"?o.mem:P.totalmem()*(o.mem/100);t.push(`${o.load.toFixed(0).padStart(5," ")}	${(h/f.ByteSize.MB).toFixed(0).padStart(6," ")}	${o.pid.toFixed(0).padStart(6," ")}	${D}`),Array.isArray(o.children)&&o.children.forEach(A=>this.formatProcessItem(s,r,t,A,u+1))}async reportWorkspaceStats(s){for(const{uri:r}of s.folders){const t=E.URI.revive(r);if(t.scheme!==I.Schemas.file)continue;const o=t.fsPath;try{const u=await S(o,["node_modules",".git"]);this.telemetryService.publicLog2("workspace.stats",{"workspace.id":s.telemetryId,rendererSessionId:s.rendererSessionId}),u.fileTypes.forEach(v=>{this.telemetryService.publicLog2("workspace.stats.file",{rendererSessionId:s.rendererSessionId,type:v.name,count:v.count})}),u.launchConfigFiles.forEach(v=>{this.telemetryService.publicLog2("workspace.stats.launchConfigFile",{rendererSessionId:s.rendererSessionId,type:v.name,count:v.count})}),u.configFiles.forEach(v=>{this.telemetryService.publicLog2("workspace.stats.configFiles",{rendererSessionId:s.rendererSessionId,type:v.name,count:v.count})})}catch{}}}};l=Ne([Ge(0,d.ITelemetryService),Ge(1,w.IProductService)],l),e.DiagnosticsService=l}),define(he[205],de([0,1,18,13,23,11,6,2,4,5,147,31,34,14,37,33]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b,f,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractExtensionTask=e.reportTelemetry=e.joinErrors=e.AbstractExtensionManagementService=void 0;let d=class extends k.Disposable{constructor(l,n,s,r){super();this.galleryService=l,this.telemetryService=n,this.logService=s,this.productService=r,this.lastReportTimestamp=0,this.installingExtensions=new Map,this.uninstallingExtensions=new Map,this._onInstallExtension=this._register(new I.Emitter),this.onInstallExtension=this._onInstallExtension.event,this._onDidInstallExtensions=this._register(new I.Emitter),this.onDidInstallExtensions=this._onDidInstallExtensions.event,this._onUninstallExtension=this._register(new I.Emitter),this.onUninstallExtension=this._onUninstallExtension.event,this._onDidUninstallExtension=this._register(new I.Emitter),this.onDidUninstallExtension=this._onDidUninstallExtension.event,this.participants=[],this._register((0,k.toDisposable)(()=>{this.installingExtensions.forEach(t=>t.cancel()),this.uninstallingExtensions.forEach(t=>t.cancel()),this.installingExtensions.clear(),this.uninstallingExtensions.clear()}))}async canInstall(l){const n=await this.getTargetPlatform();return l.allTargetPlatforms.some(s=>(0,T.isTargetPlatformCompatible)(s,l.allTargetPlatforms,n))}async installFromGallery(l,n={}){if(!this.galleryService.isEnabled())throw new T.ExtensionManagementError(i.localize(0,null),T.ExtensionManagementErrorCode.Internal);if(!await this.canInstall(l)){const r=await this.getTargetPlatform(),t=new T.ExtensionManagementError(i.localize(1,null,l.identifier.id,this.productService.nameLong,(0,T.TargetPlatformToString)(r)),T.ExtensionManagementErrorCode.Incompatible);throw this.logService.error("Cannot install extension.",l.identifier.id,t.message),g(this.telemetryService,"extensionGallery:install",(0,p.getGalleryExtensionTelemetryData)(l),void 0,t),t}try{l=await this.checkAndGetCompatibleVersion(l,!n.installGivenVersion)}catch(r){throw this.logService.error((0,C.getErrorMessage)(r)),g(this.telemetryService,"extensionGallery:install",(0,p.getGalleryExtensionTelemetryData)(l),void 0,r),r}const s=await this.galleryService.getManifest(l,y.CancellationToken.None);if(s===null){const r=new T.ExtensionManagementError(`Missing manifest for extension ${l.identifier.id}`,T.ExtensionManagementErrorCode.Invalid);throw this.logService.error("Failed to install extension:",l.identifier.id,r.message),g(this.telemetryService,"extensionGallery:install",(0,p.getGalleryExtensionTelemetryData)(l),void 0,r),r}if(s.version!==l.version){const r=new T.ExtensionManagementError(`Cannot install '${l.identifier.id}' extension because of version mismatch in Marketplace`,T.ExtensionManagementErrorCode.Invalid);throw this.logService.error(r.message),g(this.telemetryService,"extensionGallery:install",(0,p.getGalleryExtensionTelemetryData)(l),void 0,r),r}return this.installExtension(s,l,n)}async uninstall(l,n={}){return this.logService.trace("ExtensionManagementService#uninstall",l.identifier.id),this.unininstallExtension(l,n)}async reinstallFromGallery(l){if(this.logService.trace("ExtensionManagementService#reinstallFromGallery",l.identifier.id),!this.galleryService.isEnabled())throw new Error(i.localize(2,null));const n=await this.findGalleryExtension(l);if(!n)throw new Error(i.localize(3,null));await this.createUninstallExtensionTask(l,{remove:!0,versionOnly:!0}).run(),await this.installFromGallery(n)}getExtensionsReport(){const l=new Date().getTime();return(!this.reportedExtensions||l-this.lastReportTimestamp>1e3*60*5)&&(this.reportedExtensions=this.updateReportCache(),this.lastReportTimestamp=l),this.reportedExtensions}registerParticipant(l){this.participants.push(l)}async installExtension(l,n,s){if(!E.URI.isUri(n)){let v=this.installingExtensions.get(new p.ExtensionIdentifierWithVersion(n.identifier,n.version).key());if(v)return this.logService.info("Extensions is already requested to install",n.identifier.id),v.waitUntilTaskIsFinished();s={...s,installOnlyNewlyAddedFromExtensionPack:!0}}const r=[],t=[],o=this.createInstallExtensionTask(l,n,s);E.URI.isUri(n)||this.installingExtensions.set(new p.ExtensionIdentifierWithVersion(o.identifier,l.version).key(),o),this._onInstallExtension.fire({identifier:o.identifier,source:n}),this.logService.info("Installing extension:",o.identifier.id),r.push({task:o,manifest:l});let u=!1;try{if(s.donotIncludePackAndDependencies)this.logService.info("Installing the extension without checking dependencies and pack",o.identifier.id);else try{const D=await this.getAllDepsAndPackExtensionsToInstall(o.identifier,l,!!s.installOnlyNewlyAddedFromExtensionPack);for(const{gallery:h,manifest:A}of D)if(u=u||!!A.extensionDependencies?.some(N=>(0,p.areSameExtensions)({id:N},o.identifier)),this.installingExtensions.has(new p.ExtensionIdentifierWithVersion(h.identifier,h.version).key()))this.logService.info("Extension is already requested to install",h.identifier.id);else{const N=this.createInstallExtensionTask(A,h,{...s,donotIncludePackAndDependencies:!0});this.installingExtensions.set(new p.ExtensionIdentifierWithVersion(N.identifier,A.version).key(),N),this._onInstallExtension.fire({identifier:N.identifier,source:h}),this.logService.info("Installing extension:",N.identifier.id),r.push({task:N,manifest:A})}}catch(D){if(E.URI.isUri(o.source))(0,P.isNonEmptyArray)(l.extensionDependencies)&&this.logService.warn("Cannot install dependencies of extension:",o.identifier.id,D.message),(0,P.isNonEmptyArray)(l.extensionPack)&&this.logService.warn("Cannot install packed extensions of extension:",o.identifier.id,D.message);else throw this.logService.error("Error while preparing to install dependencies and extension packs of the extension:",o.identifier.id),this.logService.error(D),D}const v=r.reduce((D,{task:h,manifest:A})=>(D.set(h.identifier.id.toLowerCase(),{task:h,manifest:A}),D),new Map);for(;v.size;){let D;const h=[...v.values()].filter(({manifest:A})=>!A.extensionDependencies?.some(N=>v.has(N.toLowerCase())));h.length?D=v.size===1?h:h.filter(({task:A})=>!(A===o&&!u)):(this.logService.info("Found extensions with circular dependencies",h.map(({task:A})=>A.identifier.id)),D=[...v.values()]),await this.joinAllSettled(D.map(async({task:A})=>{const N=new Date().getTime();try{const $=await A.run();if(await this.joinAllSettled(this.participants.map(K=>K.postInstall($,A.source,s,y.CancellationToken.None))),!E.URI.isUri(A.source)&&(g(this.telemetryService,A.operation===2?"extensionGallery:update":"extensionGallery:install",(0,p.getGalleryExtensionTelemetryData)(A.source),new Date().getTime()-N,void 0),m.isWeb&&A.operation===1))try{await this.galleryService.reportStatistic($.manifest.publisher,$.manifest.name,$.manifest.version,"install")}catch(K){}t.push({local:$,identifier:A.identifier,operation:A.operation,source:A.source})}catch($){throw E.URI.isUri(A.source)||g(this.telemetryService,A.operation===2?"extensionGallery:update":"extensionGallery:install",(0,p.getGalleryExtensionTelemetryData)(A.source),new Date().getTime()-N,$),this.logService.error("Error while installing the extension:",A.identifier.id),this.logService.error($),$}finally{v.delete(A.identifier.id.toLowerCase())}}))}return t.forEach(({identifier:D})=>this.logService.info("Extension installed successfully:",D.id)),this._onDidInstallExtensions.fire(t),t.filter(({identifier:D})=>(0,p.areSameExtensions)(D,o.identifier))[0].local}catch(v){if(r.forEach(({task:D})=>D.cancel()),t.length)try{const D=await Promise.allSettled(t.map(({local:h})=>this.createUninstallExtensionTask(h,{versionOnly:!0}).run()));for(let h=0;h<D.length;h++){const A=D[h],{identifier:N}=t[h];A.status==="fulfilled"?this.logService.info("Rollback: Uninstalled extension",N.id):this.logService.warn("Rollback: Error while uninstalling extension",N.id,(0,C.getErrorMessage)(A.reason))}}catch(D){this.logService.warn("Error while rolling back extensions",(0,C.getErrorMessage)(D),t.map(({identifier:h})=>h.id))}throw this.logService.error("Failed to install extension:",o.identifier.id,(0,C.getErrorMessage)(v)),this._onDidInstallExtensions.fire(r.map(({task:D})=>({identifier:D.identifier,operation:1,source:D.source}))),v instanceof Error&&(v.name=v&&v.code?v.code:T.ExtensionManagementErrorCode.Internal),v}finally{for(const{task:v,manifest:D}of r)if(!E.URI.isUri(v.source)){const h=new p.ExtensionIdentifierWithVersion(v.identifier,D.version).key();this.installingExtensions.delete(h)||this.logService.warn("Installation task is not found in the cache",h)}}}async joinAllSettled(l){const n=[],s=[],r=await Promise.allSettled(l);for(const t of r)t.status==="fulfilled"?n.push(t.value):s.push(t.reason);if(s.length)throw S(s);return n}async getAllDepsAndPackExtensionsToInstall(l,n,s){if(!this.galleryService.isEnabled())return[];let r=await this.getInstalled();const t=[l,...r.map(v=>v.identifier)],o=[],u=async(v,D)=>{const h=D.extensionDependencies||[],A=[...h];if(D.extensionPack){const N=s?r.find($=>(0,p.areSameExtensions)($.identifier,v)):void 0;for(const $ of D.extensionPack)N&&N.manifest.extensionPack&&N.manifest.extensionPack.some(K=>(0,p.areSameExtensions)({id:K},{id:$}))||A.every(K=>!(0,p.areSameExtensions)({id:K},{id:$}))&&A.push($)}if(A.length){const N=[...t,...o.map(K=>K.gallery.identifier)],$=A.filter(K=>N.every(j=>!(0,p.areSameExtensions)(j,{id:K})));if($.length){const K=await this.galleryService.query({names:$,pageSize:A.length},y.CancellationToken.None);for(const j of K.firstPage){if(N.find(B=>(0,p.areSameExtensions)(B,j.identifier)))continue;if(!h.some(B=>(0,p.areSameExtensions)({id:B},j.identifier))&&!await this.canInstall(j)){this.logService.info("Skipping the packed extension as it cannot be installed",j.identifier.id);continue}const G=await this.checkAndGetCompatibleVersion(j,!0),R=await this.galleryService.getManifest(G,y.CancellationToken.None);if(R===null)throw new T.ExtensionManagementError(`Missing manifest for extension ${G.identifier.id}`,T.ExtensionManagementErrorCode.Invalid);o.push({gallery:G,manifest:R}),await u(G.identifier,R)}}}};return await u(l,n),r=await this.getInstalled(),o.filter(v=>!r.some(D=>(0,p.areSameExtensions)(D.identifier,v.gallery.identifier)))}async checkAndGetCompatibleVersion(l,n){if(await this.isMalicious(l))throw new T.ExtensionManagementError(i.localize(4,null,l.identifier.id),T.ExtensionManagementErrorCode.Malicious);const s=await this.getCompatibleVersion(l,n);if(!s)throw new T.ExtensionManagementError(i.localize(5,null,l.identifier.id,this.productService.nameLong,this.productService.version),T.ExtensionManagementErrorCode.Incompatible);return s}async getCompatibleVersion(l,n){const s=await this.getTargetPlatform();let r=null;return await this.galleryService.isExtensionCompatible(l,s)&&(r=l),!r&&n&&(r=await this.galleryService.getCompatibleExtension(l,s)),r}async isMalicious(l){const n=await this.getExtensionsReport();return(0,p.getMaliciousExtensionsSet)(n).has(l.identifier.id)}async unininstallExtension(l,n){const s=this.uninstallingExtensions.get(l.identifier.id.toLowerCase());if(s)return this.logService.info("Extensions is already requested to uninstall",l.identifier.id),s.waitUntilTaskIsFinished();const r=(v,D)=>{const h=this.createUninstallExtensionTask(v,D);return this.uninstallingExtensions.set(h.extension.identifier.id.toLowerCase(),h),this.logService.info("Uninstalling extension:",v.identifier.id),this._onUninstallExtension.fire(v.identifier),h},t=(v,D)=>{D?this.logService.error("Failed to uninstall extension:",v.identifier.id,D.message):this.logService.info("Successfully uninstalled extension:",v.identifier.id),g(this.telemetryService,"extensionGallery:uninstall",(0,p.getLocalExtensionTelemetryData)(v),void 0,D),this._onDidUninstallExtension.fire({identifier:v.identifier,error:D?.code})},o=[],u=[];try{o.push(r(l,{}));const v=await this.getInstalled(1);if(n.donotIncludePack)this.logService.info("Uninstalling the extension without including packed extension",l.identifier.id);else{const D=this.getAllPackExtensionsToUninstall(l,v);for(const h of D)this.uninstallingExtensions.has(h.identifier.id.toLowerCase())?this.logService.info("Extensions is already requested to uninstall",h.identifier.id):o.push(r(h,{}))}n.donotCheckDependents?this.logService.info("Uninstalling the extension without checking dependents",l.identifier.id):this.checkForDependents(o.map(D=>D.extension),v,l),await this.joinAllSettled(o.map(async D=>{try{if(await D.run(),await this.joinAllSettled(this.participants.map(h=>h.postUninstall(D.extension,n,y.CancellationToken.None))),D.extension.identifier.uuid)try{await this.galleryService.reportStatistic(D.extension.manifest.publisher,D.extension.manifest.name,D.extension.manifest.version,"uninstall")}catch(h){}t(D.extension)}catch(h){const A=h instanceof T.ExtensionManagementError?h:new T.ExtensionManagementError((0,C.getErrorMessage)(h),T.ExtensionManagementErrorCode.Internal);throw t(D.extension,A),A}finally{u.push(D)}}))}catch(v){const D=v instanceof T.ExtensionManagementError?v:new T.ExtensionManagementError((0,C.getErrorMessage)(v),T.ExtensionManagementErrorCode.Internal);for(const h of o){try{h.cancel()}catch(A){}u.includes(h)||t(h.extension,D)}throw D}finally{for(const v of o)this.uninstallingExtensions.delete(v.extension.identifier.id.toLowerCase())||this.logService.warn("Uninstallation task is not found in the cache",v.extension.identifier.id)}}checkForDependents(l,n,s){for(const r of l){const t=this.getDependents(r,n);if(t.length){const o=t.filter(u=>!l.some(v=>(0,p.areSameExtensions)(v.identifier,u.identifier)));if(o.length)throw new Error(this.getDependentsErrorMessage(r,o,s))}}}getDependentsErrorMessage(l,n,s){return s===l?n.length===1?i.localize(6,null,s.manifest.displayName||s.manifest.name,n[0].manifest.displayName||n[0].manifest.name):n.length===2?i.localize(7,null,s.manifest.displayName||s.manifest.name,n[0].manifest.displayName||n[0].manifest.name,n[1].manifest.displayName||n[1].manifest.name):i.localize(8,null,s.manifest.displayName||s.manifest.name,n[0].manifest.displayName||n[0].manifest.name,n[1].manifest.displayName||n[1].manifest.name):n.length===1?i.localize(9,null,s.manifest.displayName||s.manifest.name,l.manifest.displayName||l.manifest.name,n[0].manifest.displayName||n[0].manifest.name):n.length===2?i.localize(10,null,s.manifest.displayName||s.manifest.name,l.manifest.displayName||l.manifest.name,n[0].manifest.displayName||n[0].manifest.name,n[1].manifest.displayName||n[1].manifest.name):i.localize(11,null,s.manifest.displayName||s.manifest.name,l.manifest.displayName||l.manifest.name,n[0].manifest.displayName||n[0].manifest.name,n[1].manifest.displayName||n[1].manifest.name)}getAllPackExtensionsToUninstall(l,n,s=[]){if(s.indexOf(l)!==-1)return[];s.push(l);const r=l.manifest.extensionPack?l.manifest.extensionPack:[];if(r.length){const t=n.filter(u=>!u.isBuiltin&&r.some(v=>(0,p.areSameExtensions)({id:v},u.identifier))),o=[];for(const u of t)o.push(...this.getAllPackExtensionsToUninstall(u,n,s));return[...t,...o]}return[]}getDependents(l,n){return n.filter(s=>s.manifest.extensionDependencies&&s.manifest.extensionDependencies.some(r=>(0,p.areSameExtensions)({id:r},l.identifier)))}async findGalleryExtension(l){if(l.identifier.uuid){const n=await this.findGalleryExtensionById(l.identifier.uuid);return n||this.findGalleryExtensionByName(l.identifier.id)}return this.findGalleryExtensionByName(l.identifier.id)}async findGalleryExtensionById(l){return(await this.galleryService.query({ids:[l],pageSize:1},y.CancellationToken.None)).firstPage[0]}async findGalleryExtensionByName(l){return(await this.galleryService.query({names:[l],pageSize:1},y.CancellationToken.None)).firstPage[0]}async updateReportCache(){try{this.logService.trace("ExtensionManagementService.refreshReportedCache");const l=await this.galleryService.getExtensionsReport();return this.logService.trace(`ExtensionManagementService.refreshReportedCache - got ${l.length} reported extensions from service`),l}catch(l){return this.logService.trace("ExtensionManagementService.refreshReportedCache - failed to get extension report"),[]}}};d=Ne([Ge(0,T.IExtensionGalleryService),Ge(1,w.ITelemetryService),Ge(2,b.ILogService),Ge(3,f.IProductService)],d),e.AbstractExtensionManagementService=d;function S(a){const l=Array.isArray(a)?a:[a];return l.length===1?l[0]instanceof Error?l[0]:new Error(l[0]):l.reduce((n,s)=>new Error(`${n.message}${n.message?",":""}${s instanceof Error?s.message:s}`),new Error(""))}e.joinErrors=S;function g(a,l,n,s,r){const t=r?r instanceof T.ExtensionManagementError?r.code:T.ExtensionManagementErrorCode.Internal:void 0;a.publicLogError(l,{...n,success:!r,duration:s,errorcode:t})}e.reportTelemetry=g;class c{constructor(){this.barrier=new _.Barrier}async waitUntilTaskIsFinished(){return await this.barrier.wait(),this.cancellablePromise}async run(){return this.cancellablePromise||(this.cancellablePromise=(0,_.createCancelablePromise)(l=>this.doRun(l))),this.barrier.open(),this.cancellablePromise}cancel(){this.cancellablePromise||(this.cancellablePromise=(0,_.createCancelablePromise)(l=>new Promise((n,s)=>{const r=l.onCancellationRequested(()=>{r.dispose(),s((0,C.canceled)())})})),this.barrier.open()),this.cancellablePromise.cancel()}}e.AbstractExtensionTask=c}),define(he[42],de([0,1,20,12,27,33]),function(Z,e,P,_,y,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanRemoteAuthority=e.validateTelemetryData=e.getTelemetryLevel=e.supportsTelemetry=e.configurationTelemetry=e.NullAppender=e.NullEndpointTelemetryService=e.NullTelemetryService=e.NullTelemetryServiceShape=void 0;class I{constructor(){this.sendErrorTelemetry=!1,this.telemetryLevel=0}publicLog(S,g){return Promise.resolve(void 0)}publicLog2(S,g){return this.publicLog(S,g)}publicLogError(S,g){return Promise.resolve(void 0)}publicLogError2(S,g){return this.publicLogError(S,g)}setExperimentProperty(){}getTelemetryInfo(){return Promise.resolve({instanceId:"someValue.instanceId",sessionId:"someValue.sessionId",machineId:"someValue.machineId",firstSessionDate:"someValue.firstSessionDate"})}}e.NullTelemetryServiceShape=I,e.NullTelemetryService=new I;class k{async publicLog(S,g,c){}async publicLogError(S,g,c){}}e.NullEndpointTelemetryService=k,e.NullAppender={log:()=>null,flush:()=>Promise.resolve(null)};function m(d,S){return S.onDidChangeConfiguration(g=>{g.source!==6&&d.publicLog2("updateConfiguration",{configurationSource:(0,y.ConfigurationTargetToString)(g.source),configurationKeys:f(g.sourceConfig)})})}e.configurationTelemetry=m;function E(d,S){return!(S.disableTelemetry||!d.enableTelemetry)}e.supportsTelemetry=E;function i(d){const S=d.getValue(C.TELEMETRY_SETTING_ID),g=d.getValue("telemetry.enableCrashReporter");if(d.getValue(C.TELEMETRY_OLD_SETTING_ID)===!1||g===!1)return 0;switch(S??"all"){case"all":return 3;case"error":return 2;case"crash":return 1;case"off":return 0}}e.getTelemetryLevel=i;function T(d){const S=Object.create(null),g=Object.create(null),c=Object.create(null);b(d,c);for(let a in c){a=a.length>150?a.substr(a.length-149):a;const l=c[a];typeof l=="number"?g[a]=l:typeof l=="boolean"?g[a]=l?1:0:typeof l=="string"?S[a]=l.substring(0,1023):typeof l!="undefined"&&l!==null&&(S[a]=l)}return{properties:S,measurements:g}}e.validateTelemetryData=T;function p(d){if(!d)return"none";let S="other";return["ssh-remote","dev-container","attached-container","wsl"].forEach(c=>{d.indexOf(`${c}+`)===0&&(S=c)}),S}e.cleanRemoteAuthority=p;function b(d,S,g=0,c){if(!!d)for(let a of Object.getOwnPropertyNames(d)){const l=d[a],n=c?c+a:a;Array.isArray(l)?S[n]=(0,P.safeStringify)(l):l instanceof Date?S[n]=l.toISOString():(0,_.isObject)(l)?g<2?b(l,S,g+1,n+"."):S[n]=(0,P.safeStringify)(l):S[n]=l}}function f(d){if(!d)return[];const S=[];return w(S,"",d),S}function w(d,S,g){g&&typeof g=="object"&&!Array.isArray(g)?Object.keys(g).forEach(c=>w(d,S?`${S}.${c}`:c,g[c])):d.push(S)}}),define(he[98],de([0,1,18,23,11,20,4,22,5,27,26,31,34,62,19,14,37,53,200,201,33,42]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b,f,w,d,S,g,c,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolveMarketplaceHeaders=e.ExtensionGalleryServiceWithNoStorageService=e.ExtensionGalleryService=e.sortExtensionVersions=void 0;const n=I.isWeb?"web":(0,T.getTargetPlatform)(I.platform,k.arch);var s;(function(se){se[se.None=0]="None",se[se.IncludeVersions=1]="IncludeVersions",se[se.IncludeFiles=2]="IncludeFiles",se[se.IncludeCategoryAndTags=4]="IncludeCategoryAndTags",se[se.IncludeSharedAccounts=8]="IncludeSharedAccounts",se[se.IncludeVersionProperties=16]="IncludeVersionProperties",se[se.ExcludeNonValidated=32]="ExcludeNonValidated",se[se.IncludeInstallationTargets=64]="IncludeInstallationTargets",se[se.IncludeAssetUri=128]="IncludeAssetUri",se[se.IncludeStatistics=256]="IncludeStatistics",se[se.IncludeLatestVersionOnly=512]="IncludeLatestVersionOnly",se[se.Unpublished=4096]="Unpublished"})(s||(s={}));function r(...se){return String(se.reduce((ne,Se)=>ne|Se,0))}var t;(function(se){se[se.Tag=1]="Tag",se[se.ExtensionId=4]="ExtensionId",se[se.Category=5]="Category",se[se.ExtensionName=7]="ExtensionName",se[se.Target=8]="Target",se[se.Featured=9]="Featured",se[se.SearchText=10]="SearchText",se[se.ExcludeWithFlags=12]="ExcludeWithFlags"})(t||(t={}));const o={Icon:"Microsoft.VisualStudio.Services.Icons.Default",Details:"Microsoft.VisualStudio.Services.Content.Details",Changelog:"Microsoft.VisualStudio.Services.Content.Changelog",Manifest:"Microsoft.VisualStudio.Code.Manifest",VSIX:"Microsoft.VisualStudio.Services.VSIXPackage",License:"Microsoft.VisualStudio.Services.Content.License",Repository:"Microsoft.VisualStudio.Services.Links.Source"},u={Dependency:"Microsoft.VisualStudio.Code.ExtensionDependencies",ExtensionPack:"Microsoft.VisualStudio.Code.ExtensionPack",Engine:"Microsoft.VisualStudio.Code.Engine",LocalizedLanguages:"Microsoft.VisualStudio.Code.LocalizedLanguages",WebExtension:"Microsoft.VisualStudio.Code.WebExtension"},D={pageNumber:1,pageSize:10,sortBy:0,sortOrder:0,flags:s.None,criteria:[],assetTypes:[]};class h{constructor(ne=D){this.state=ne}get pageNumber(){return this.state.pageNumber}get pageSize(){return this.state.pageSize}get sortBy(){return this.state.sortBy}get sortOrder(){return this.state.sortOrder}get flags(){return this.state.flags}withPage(ne,Se=this.state.pageSize){return new h({...this.state,pageNumber:ne,pageSize:Se})}withFilter(ne,...Se){const ye=[...this.state.criteria,...Se.length?Se.map(Ae=>({filterType:ne,value:Ae})):[{filterType:ne}]];return new h({...this.state,criteria:ye})}withSortBy(ne){return new h({...this.state,sortBy:ne})}withSortOrder(ne){return new h({...this.state,sortOrder:ne})}withFlags(...ne){return new h({...this.state,flags:ne.reduce((Se,ye)=>Se|ye,0)})}withAssetTypes(...ne){return new h({...this.state,assetTypes:ne})}get raw(){const{criteria:ne,pageNumber:Se,pageSize:ye,sortBy:Ae,sortOrder:Fe,flags:qe,assetTypes:Be}=this.state;return{filters:[{criteria:ne,pageNumber:Se,pageSize:ye,sortBy:Ae,sortOrder:Fe}],assetTypes:Be,flags:qe}}get searchText(){const ne=this.state.criteria.filter(Se=>Se.filterType===t.SearchText)[0];return ne&&ne.value?ne.value:""}get telemetryData(){return{filterTypes:this.state.criteria.map(ne=>String(ne.filterType)),sortBy:String(this.sortBy),sortOrder:String(this.sortOrder)}}}function A(se,ne){const Se=(se||[]).filter(ye=>ye.statisticName===ne)[0];return Se?Se.value:0}function N(se){const ne="Microsoft.VisualStudio.Code.Translation.";return se.files.filter(ye=>ye.assetType.indexOf(ne)===0).reduce((ye,Ae)=>{const Fe=F(se,Ae.assetType);return Fe&&ye.push([Ae.assetType.substring(ne.length),Fe]),ye},[])}function $(se){if(se.properties){const ne=se.properties.filter(Ae=>Ae.key===o.Repository),Se=new RegExp("((git|ssh|http(s)?)|(git@[\\w.]+))(:(//)?)([\\w.@:/\\-~]+)(.git)(/)?"),ye=ne.filter(Ae=>Se.test(Ae.value))[0];return ye?{uri:ye.value,fallbackUri:ye.value}:null}return F(se,o.Repository)}function K(se){return{uri:`${se.fallbackAssetUri}/${o.VSIX}?redirect=true${se.targetPlatform?`&targetPlatform=${se.targetPlatform}`:""}`,fallbackUri:`${se.fallbackAssetUri}/${o.VSIX}${se.targetPlatform?`?targetPlatform=${se.targetPlatform}`:""}`}}function j(se){const ne=F(se,o.Icon);if(ne)return ne;const Se=T.DefaultIconPath;return{uri:Se,fallbackUri:Se}}function F(se,ne){return se.files.filter(ye=>ye.assetType===ne)[0]?{uri:`${se.assetUri}/${ne}`,fallbackUri:`${se.fallbackAssetUri}/${ne}`}:null}function G(se,ne){const Se=se.properties?se.properties.filter(Ae=>Ae.key===ne):[],ye=Se.length>0&&Se[0].value;return ye?ye.split(",").map(Ae=>(0,p.adoptToGalleryExtensionId)(Ae)):[]}function R(se){const ne=se.properties?se.properties.filter(Se=>Se.key===u.Engine):[];return ne.length>0&&ne[0].value||""}function B(se){const ne=se.properties?se.properties.filter(ye=>ye.key===u.LocalizedLanguages):[],Se=ne.length>0&&ne[0].value||"";return Se?Se.split(","):[]}function H(se){return se.indexOf("preview")!==-1}function q(se){return se.targetPlatform?(0,T.toTargetPlatform)(se.targetPlatform):"undefined"}function W(se){const ne=(0,P.distinct)(se.versions.map(q)),Se=!!se.tags?.includes(T.WEB_EXTENSION_TAG),ye=ne.indexOf("web");return Se?ye===-1&&ne.push("web"):ye!==-1&&ne.splice(ye,1),ne}function U(se,ne){const Se=(0,T.getFallbackTargetPlarforms)(ne);for(let ye=0;ye<se.length;ye++){const Ae=se[ye];if(Ae.version===se[ye-1]?.version){let Fe=ye;const qe=q(Ae);if(qe===ne)for(;Fe>0&&se[Fe-1].version===Ae.version;)Fe--;else if(Se.includes(qe))for(;Fe>0&&se[Fe-1].version===Ae.version&&q(se[Fe-1])!==ne;)Fe--;Fe!==ye&&(se.splice(ye,1),se.splice(Fe,0,Ae))}}return se}e.sortExtensionVersions=U;function x(se,ne,Se,ye,Ae){const Fe=W(se);let qe=se.versions[0];return qe=se.versions.find(Be=>Be.version===qe.version&&(0,T.isTargetPlatformCompatible)(q(Be),Fe,Ae))||qe,z(se,qe,Fe,ne,Se,ye)}function z(se,ne,Se,ye,Ae,Fe){const qe={manifest:F(ne,o.Manifest),readme:F(ne,o.Details),changelog:F(ne,o.Changelog),license:F(ne,o.License),repository:$(ne),download:K(ne),icon:j(ne),coreTranslations:N(ne)};return{identifier:{id:(0,p.getGalleryExtensionId)(se.publisher.publisherName,se.extensionName),uuid:se.extensionId},name:se.extensionName,version:ne.version,displayName:se.displayName,publisherId:se.publisher.publisherId,publisher:se.publisher.publisherName,publisherDisplayName:se.publisher.displayName,publisherDomain:se.publisher.domain?{link:se.publisher.domain,verified:!!se.publisher.isDomainVerified}:void 0,description:se.shortDescription||"",installCount:A(se.statistics,"install"),rating:A(se.statistics,"averagerating"),ratingCount:A(se.statistics,"ratingcount"),categories:se.categories||[],tags:se.tags||[],releaseDate:Date.parse(se.releaseDate),lastUpdated:Date.parse(se.lastUpdated),allTargetPlatforms:Se,assets:qe,properties:{dependencies:G(ne,u.Dependency),extensionPack:G(ne,u.ExtensionPack),engine:R(ne),localizedLanguages:B(ne),targetPlatform:q(ne)},preview:H(se.flags),telemetryData:{index:(Ae.pageNumber-1)*Ae.pageSize+ye,querySource:Fe}}}let te=class{constructor(ne,Se,ye,Ae,Fe,qe,Be,nt){this.requestService=Se,this.logService=ye,this.environmentService=Ae,this.telemetryService=Fe,this.fileService=qe,this.productService=Be,this.configurationService=nt;const ge=Be.extensionsGallery;this.extensionsGalleryUrl=ge&&ge.serviceUrl,this.extensionsControlUrl=ge&&ge.controlUrl,this.commonHeadersPromise=pe(Be.version,Be,this.environmentService,this.configurationService,this.fileService,ne)}api(ne=""){return`${this.extensionsGalleryUrl}${ne}`}isEnabled(){return!!this.extensionsGalleryUrl}async getExtensions(ne,Se){const ye=[];let Ae=new h().withFlags(s.IncludeAssetUri,s.IncludeStatistics,s.IncludeCategoryAndTags,s.IncludeFiles,s.IncludeVersionProperties).withPage(1,ne.length).withFilter(t.Target,"Microsoft.VisualStudio.Code").withFilter(t.ExtensionName,...ne.map(({id:qe})=>qe.toLowerCase()));ne.every(qe=>!qe.version)&&(Ae=Ae.withFlags(s.IncludeAssetUri,s.IncludeStatistics,s.IncludeCategoryAndTags,s.IncludeFiles,s.IncludeVersionProperties,s.IncludeLatestVersionOnly));const{galleryExtensions:Fe}=await this.queryGallery(Ae,n,_.CancellationToken.None);for(let qe=0;qe<Fe.length;qe++){const Be=Fe[qe];if(!Be.versions.length)continue;const nt=(0,p.getGalleryExtensionId)(Be.publisher.publisherName,Be.extensionName),ge=ne.find(ve=>(0,p.areSameExtensions)(ve,{id:nt}))?.version;if(ge){const ve=Be.versions.find(Pe=>Pe.version===ge);ve&&ye.push(z(Be,ve,W(Be),qe,Ae))}else ye.push(x(Be,qe,Ae,void 0,n))}return ye}async getCompatibleExtension(ne,Se){const ye=(0,T.isIExtensionIdentifier)(ne)?null:ne;if(ye){if((0,T.isNotWebExtensionInWebTargetPlatform)(ye.allTargetPlatforms,Se))return null;if(await this.isExtensionCompatible(ye,Se))return ye}const{id:Ae,uuid:Fe}=ye?ye.identifier:ne;let qe=new h().withFlags(s.IncludeAssetUri,s.IncludeStatistics,s.IncludeCategoryAndTags,s.IncludeFiles,s.IncludeVersionProperties).withPage(1,1).withFilter(t.Target,"Microsoft.VisualStudio.Code");Fe?qe=qe.withFilter(t.ExtensionId,Fe):qe=qe.withFilter(t.ExtensionName,Ae);const{galleryExtensions:Be}=await this.queryGallery(qe,Se,_.CancellationToken.None),[nt]=Be;if(!nt||!nt.versions.length)return null;const ge=W(nt);if((0,T.isNotWebExtensionInWebTargetPlatform)(ge,Se))return null;for(let ve of nt.versions){if(!R(ve)){const Pe=await this.getEngine(ve);ve={...ve,properties:[...ve.properties||[],{key:u.Engine,value:Pe}]}}if(await this.isRawExtensionVersionCompatible(ve,ge,Se))return z(nt,ve,ge,0,qe)}return null}async isExtensionCompatible(ne,Se){if(!(0,T.isTargetPlatformCompatible)(ne.properties.targetPlatform,ne.allTargetPlatforms,Se))return!1;let ye=ne.properties.engine;if(!ye){const Ae=await this.getManifest(ne,_.CancellationToken.None);if(!Ae)throw new Error("Manifest was not found");ye=Ae.engines.vscode}return(0,b.isEngineValid)(ye,this.productService.version,this.productService.date)}async isRawExtensionVersionCompatible(ne,Se,ye){if(!(0,T.isTargetPlatformCompatible)(q(ne),Se,ye))return!1;const Ae=await this.getEngine(ne);return(0,b.isEngineValid)(Ae,this.productService.version,this.productService.date)}async query(ne,Se){const ye=_.CancellationToken.isCancellationToken(ne)?{}:ne,Ae=_.CancellationToken.isCancellationToken(ne)?ne:Se;if(!this.isEnabled())throw new Error("No extension gallery service configured.");let Fe=ye.text||"";const qe=(0,C.getOrDefault)(ye,Le=>Le.pageSize,50);let Be=new h().withFlags(s.IncludeLatestVersionOnly,s.IncludeAssetUri,s.IncludeStatistics,s.IncludeCategoryAndTags,s.IncludeFiles,s.IncludeVersionProperties).withPage(1,qe).withFilter(t.Target,"Microsoft.VisualStudio.Code");Fe?(Fe=Fe.replace(/\bcategory:("([^"]*)"|([^"]\S*))(\s+|\b|$)/g,(Le,Me,He)=>(Be=Be.withFilter(t.Category,He||Me),"")),Fe=Fe.replace(/\btag:("([^"]*)"|([^"]\S*))(\s+|\b|$)/g,(Le,Me,He)=>(Be=Be.withFilter(t.Tag,He||Me),"")),Fe=Fe.replace(/\bfeatured(\s+|\b|$)/g,()=>(Be=Be.withFilter(t.Featured),"")),Fe=Fe.trim(),Fe&&(Fe=Fe.length<200?Fe:Fe.substring(0,200),Be=Be.withFilter(t.SearchText,Fe)),Be=Be.withSortBy(0)):ye.ids?Be=Be.withFilter(t.ExtensionId,...ye.ids):ye.names?Be=Be.withFilter(t.ExtensionName,...ye.names):Be=Be.withSortBy(4),typeof ye.sortBy=="number"&&(Be=Be.withSortBy(ye.sortBy)),typeof ye.sortOrder=="number"&&(Be=Be.withSortOrder(ye.sortOrder));const{galleryExtensions:nt,total:ge}=await this.queryGallery(Be,n,Ae),ve=nt.map((Le,Me)=>x(Le,Me,Be,ye.source,n)),Pe=async(Le,Me)=>{if(Me.isCancellationRequested)throw(0,y.canceled)();const He=Be.withPage(Le+1),{galleryExtensions:Ye}=await this.queryGallery(He,n,Me);return Ye.map((Ze,ot)=>x(Ze,ot,He,ye.source,n))};return{firstPage:ve,total:ge,pageSize:Be.pageSize,getPage:Pe}}async queryGallery(ne,Se,ye){if(!this.isEnabled())throw new Error("No extension gallery service configured.");ne=ne.withFlags(ne.flags,s.ExcludeNonValidated).withFilter(t.ExcludeWithFlags,r(s.Unpublished));const Ae=await this.commonHeadersPromise,Fe=JSON.stringify(ne.raw),qe={...Ae,"Content-Type":"application/json",Accept:"application/json;api-version=3.0-preview.1","Accept-Encoding":"gzip","Content-Length":String(Fe.length)},Be=new Date().getTime();let nt,ge,ve=0;try{if(nt=await this.requestService.request({type:"POST",url:this.api("/extensionquery"),data:Fe,headers:qe},ye),nt.res.statusCode&&nt.res.statusCode>=400&&nt.res.statusCode<500)return{galleryExtensions:[],total:ve};const Pe=await(0,S.asJson)(nt);if(Pe){const Le=Pe.results[0],Me=Le.extensions;Me.forEach(Ye=>U(Ye.versions,Se));const He=Le.resultMetadata&&Le.resultMetadata.filter(Ye=>Ye.metadataType==="ResultCount")[0];return ve=He&&He.metadataItems.filter(Ye=>Ye.name==="TotalCount")[0].count||0,{galleryExtensions:Me,total:ve}}return{galleryExtensions:[],total:ve}}catch(Pe){throw ge=Pe,Pe}finally{this.telemetryService.publicLog2("galleryService:query",{...ne.telemetryData,requestBodySize:String(Fe.length),duration:new Date().getTime()-Be,success:!!nt&&(0,S.isSuccess)(nt),responseBodySize:nt?.res.headers["Content-Length"],statusCode:nt?String(nt.res.statusCode):void 0,errorCode:ge?(0,y.isPromiseCanceledError)(ge)?"canceled":(0,y.getErrorMessage)(ge).startsWith("XHR timeout")?"timeout":"failed":void 0,count:String(ve)})}}async reportStatistic(ne,Se,ye,Ae){if(!this.isEnabled())return;const Fe=I.isWeb?this.api(`/itemName/${ne}.${Se}/version/${ye}/statType/${Ae==="install"?"1":"3"}/vscodewebextension`):this.api(`/publishers/${ne}/extensions/${Se}/${ye}/stats?statType=${Ae}`),qe=I.isWeb?"api-version=6.1-preview.1":"*/*;api-version=4.0-preview.1",nt={...await this.commonHeadersPromise,Accept:qe};try{await this.requestService.request({type:"POST",url:Fe,headers:nt},_.CancellationToken.None)}catch(ge){}}async download(ne,Se,ye){this.logService.trace("ExtensionGalleryService#download",ne.identifier.id);const Ae=(0,p.getGalleryExtensionTelemetryData)(ne),Fe=new Date().getTime(),qe=ve=>this.telemetryService.publicLog("galleryService:downloadVSIX",{...Ae,duration:ve}),Be=ye===1?"install":ye===2?"update":"",nt=Be?{uri:`${ne.assets.download.uri}${m.URI.parse(ne.assets.download.uri).query?"&":"?"}${Be}=true`,fallbackUri:`${ne.assets.download.fallbackUri}${m.URI.parse(ne.assets.download.fallbackUri).query?"&":"?"}${Be}=true`}:ne.assets.download,ge=await this.getAsset(nt);await this.fileService.writeFile(Se,ge.stream),qe(new Date().getTime()-Fe)}async getReadme(ne,Se){if(ne.assets.readme){const ye=await this.getAsset(ne.assets.readme,{},Se);return await(0,S.asText)(ye)||""}return""}async getManifest(ne,Se){if(ne.assets.manifest){const ye=await this.getAsset(ne.assets.manifest,{},Se),Ae=await(0,S.asText)(ye);return Ae?JSON.parse(Ae):null}return null}async getManifestFromRawExtensionVersion(ne,Se){const ye=F(ne,o.Manifest);if(!ye)throw new Error("Manifest was not found");const Ae={"Accept-Encoding":"gzip"},Fe=await this.getAsset(ye,{headers:Ae});return await(0,S.asJson)(Fe)}async getCoreTranslation(ne,Se){const ye=ne.assets.coreTranslations.filter(Ae=>Ae[0]===Se.toUpperCase())[0];if(ye){const Ae=await this.getAsset(ye[1]),Fe=await(0,S.asText)(Ae);return Fe?JSON.parse(Fe):null}return null}async getChangelog(ne,Se){if(ne.assets.changelog){const ye=await this.getAsset(ne.assets.changelog,{},Se);return await(0,S.asText)(ye)||""}return""}async getAllCompatibleVersions(ne,Se){let ye=new h().withFlags(s.IncludeVersions,s.IncludeCategoryAndTags,s.IncludeFiles,s.IncludeVersionProperties).withPage(1,1).withFilter(t.Target,"Microsoft.VisualStudio.Code");ne.identifier.uuid?ye=ye.withFilter(t.ExtensionId,ne.identifier.uuid):ye=ye.withFilter(t.ExtensionName,ne.identifier.id);const{galleryExtensions:Ae}=await this.queryGallery(ye,Se,_.CancellationToken.None);if(!Ae.length)return[];const Fe=W(Ae[0]);if((0,T.isNotWebExtensionInWebTargetPlatform)(Fe,Se))return[];const qe=[];for(const Be of Ae[0].versions)try{qe[qe.length-1]?.version!==Be.version&&await this.isRawExtensionVersionCompatible(Be,Fe,Se)&&qe.push({version:Be.version,date:Be.lastUpdated})}catch(nt){}return qe}async getAsset(ne,Se={},ye=_.CancellationToken.None){const Ae=await this.commonHeadersPromise,Fe={type:"GET"},qe={...Ae,...Se.headers||{}};Se={...Se,...Fe,headers:qe};const Be=ne.uri,nt=ne.fallbackUri,ge={...Se,url:Be};try{const ve=await this.requestService.request(ge,ye);if(ve.res.statusCode===200)return ve;const Pe=await(0,S.asText)(ve);throw new Error(`Expected 200, got back ${ve.res.statusCode} instead.

${Pe}`)}catch(ve){if((0,y.isPromiseCanceledError)(ve))throw ve;const Pe=(0,y.getErrorMessage)(ve);this.telemetryService.publicLog2("galleryService:cdnFallback",{url:Be,message:Pe});const Le={...Se,url:nt};return this.requestService.request(Le,ye)}}async getEngine(ne){let Se=R(ne);if(!Se){const ye=await this.getManifestFromRawExtensionVersion(ne,_.CancellationToken.None);if(!ye)throw new Error("Manifest was not found");Se=ye.engines.vscode}return Se}async getExtensionsReport(){if(!this.isEnabled())throw new Error("No extension gallery service configured.");if(!this.extensionsControlUrl)return[];const ne=await this.requestService.request({type:"GET",url:this.extensionsControlUrl},_.CancellationToken.None);if(ne.res.statusCode!==200)throw new Error("Could not get extensions report.");const Se=await(0,S.asJson)(ne),ye=new Map;if(Se)for(const Ae of Se.malicious){const Fe=ye.get(Ae)||{id:{id:Ae},malicious:!0,slow:!1};Fe.malicious=!0,ye.set(Ae,Fe)}return[...ye.values()]}};te=Ne([Ge(1,S.IRequestService),Ge(2,w.ILogService),Ge(3,i.IEnvironmentService),Ge(4,a.ITelemetryService),Ge(5,f.IFileService),Ge(6,d.IProductService),Ge(7,E.IConfigurationService)],te);let X=class extends te{constructor(ne,Se,ye,Ae,Fe,qe,Be,nt){super(ne,Se,ye,Ae,Fe,qe,Be,nt)}};X=Ne([Ge(0,c.IStorageService),Ge(1,S.IRequestService),Ge(2,w.ILogService),Ge(3,i.IEnvironmentService),Ge(4,a.ITelemetryService),Ge(5,f.IFileService),Ge(6,d.IProductService),Ge(7,E.IConfigurationService)],X),e.ExtensionGalleryService=X;let me=class extends te{constructor(ne,Se,ye,Ae,Fe,qe,Be){super(void 0,ne,Se,ye,Ae,Fe,qe,Be)}};me=Ne([Ge(0,S.IRequestService),Ge(1,w.ILogService),Ge(2,i.IEnvironmentService),Ge(3,a.ITelemetryService),Ge(4,f.IFileService),Ge(5,d.IProductService),Ge(6,E.IConfigurationService)],me),e.ExtensionGalleryServiceWithNoStorageService=me;async function pe(se,ne,Se,ye,Ae,Fe){const qe={"X-Market-Client-Id":`VSCode ${se}`,"User-Agent":`VSCode ${se}`},Be=await(0,g.getServiceMachineId)(Se,Ae,Fe);return(0,l.supportsTelemetry)(ne,Se)&&(0,l.getTelemetryLevel)(ye)===3&&(qe["X-Market-User-Id"]=Be),qe}e.resolveMarketplaceHeaders=pe}),define(he[206],de([0,1,2,20,4,15,160,27,41,47,32,33,42]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryService=void 0;let b=class{constructor(d,S){this._configurationService=S,this._experimentProperties={},this._disposables=new P.DisposableStore,this._cleanupPatterns=[],this._appenders=d.appenders,this._commonProperties=d.commonProperties||Promise.resolve({}),this._piiPaths=d.piiPaths||[],this._telemetryLevel=3,this.sendErrorTelemetry=!!d.sendErrorTelemetry,this._cleanupPatterns=[/file:\/\/\/.*?\/resources\/app\//gi];for(let g of this._piiPaths)this._cleanupPatterns.push(new RegExp((0,C.escapeRegExpCharacters)(g),"gi"));this._updateTelemetryLevel(),this._configurationService.onDidChangeConfiguration(this._updateTelemetryLevel,this,this._disposables),this.publicLog2("optInStatus",{optIn:this._telemetryLevel===3}),this._commonProperties.then(g=>{const c=/^[a-f0-9]+$/i.test(g["common.machineId"]);this.publicLog2("machineIdFallback",{usingFallbackGuid:!c})})}setExperimentProperty(d,S){this._experimentProperties[d]=S}_updateTelemetryLevel(){this._telemetryLevel=(0,p.getTelemetryLevel)(this._configurationService)}get telemetryLevel(){return this._telemetryLevel}async getTelemetryInfo(){const d=await this._commonProperties;let S=d.sessionID,g=d["common.instanceId"],c=d["common.machineId"],a=d["common.firstSessionDate"],l=d["common.msftInternal"];return{sessionId:S,instanceId:g,machineId:c,firstSessionDate:a,msftInternal:l}}dispose(){this._disposables.dispose()}_log(d,S,g,c){return this.telemetryLevel<S?Promise.resolve(void 0):this._commonProperties.then(a=>{g=(0,_.mixin)(g,a),g=(0,_.mixin)(g,this._experimentProperties),g=(0,_.cloneAndChange)(g,l=>{if(typeof l=="string")return this._cleanupInfo(l,c)}),this._appenders.forEach(l=>l.log(d,g))},a=>{console.error(a)})}publicLog(d,S,g){return this._log(d,3,S,g)}publicLog2(d,S,g){return this.publicLog(d,S,g)}publicLogError(d,S){return this.sendErrorTelemetry?this._log(d,2,S,!0):Promise.resolve(void 0)}publicLogError2(d,S){return this.publicLogError(d,S)}_anonymizeFilePaths(d){let S=d;const g=[];for(let n of this._cleanupPatterns)for(;;){const s=n.exec(d);if(!s)break;g.push([s.index,n.lastIndex])}const c=/^[\\\/]?(node_modules|node_modules\.asar)[\\\/]/,a=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-\._]+(\\\\|\\|\/))+[\w-\._]*/g;let l=0;for(S="";;){const n=a.exec(d);if(!n)break;!c.test(n[0])&&g.every(([s,r])=>n.index<s||n.index>=r)&&(S+=d.substring(l,n.index)+"<REDACTED: user-file-path>",l=a.lastIndex)}return l<d.length&&(S+=d.substr(l)),S}_removePropertiesWithPossibleUserInfo(d){if(!d)return d;const S=d.toLowerCase(),g=/@[a-zA-Z0-9-.]+/;return/\S*(key|token|sig|password|passwd|pwd)[="':\s]+\S*/.test(S)?"<REDACTED: secret>":g.test(S)?"<REDACTED: email>":d}_cleanupInfo(d,S){let g=d;S&&(g=this._anonymizeFilePaths(g));for(let c of this._cleanupPatterns)g=g.replace(c,"");return g=this._removePropertiesWithPossibleUserInfo(g),g}};b.IDLE_START_EVENT_NAME="UserIdleStart",b.IDLE_STOP_EVENT_NAME="UserIdleStop",b=Ne([Ge(1,k.IConfigurationService)],b),e.TelemetryService=b;function f(){const w=(0,I.localize)(0,null,E.default.nameLong),d=E.default.privacyStatementUrl?(0,I.localize)(2,null,"https://aka.ms/vscode-telemetry",E.default.privacyStatementUrl):(0,I.localize)(1,null,"https://aka.ms/vscode-telemetry"),S=y.isWeb?"":(0,I.localize)(3,null),g=(0,I.localize)(4,null),c=(0,I.localize)(5,null),a=(0,I.localize)(6,null),l=(0,I.localize)(7,null),n=`
|       | ${g} | ${c} | ${a} |
|:------|:---------------------:|:---------------:|:--------------:|
| all   |            \u2713          |        \u2713        |        \u2713       |
| error |            \u2713          |        \u2713        |        -       |
| crash |            \u2713          |        -        |        -       |
| off   |            -          |        -        |        -       |
`,s=(0,I.localize)(8,null);return`
${w} ${d} ${S}

&nbsp;

${l}
${n}

&nbsp;

${s}
`}i.Registry.as(m.Extensions.Configuration).registerConfiguration({id:T.TELEMETRY_SECTION_ID,order:110,type:"object",title:(0,I.localize)(9,null),properties:{[T.TELEMETRY_SETTING_ID]:{type:"string",enum:["all","error","crash","off"],enumDescriptions:[(0,I.localize)(10,null),(0,I.localize)(11,null),(0,I.localize)(12,null),(0,I.localize)(13,null)],markdownDescription:f(),default:"all",restricted:!0,scope:1,tags:["usesOnlineServices","telemetry"]}}}),i.Registry.as(m.Extensions.Configuration).registerConfiguration({id:T.TELEMETRY_SECTION_ID,order:110,type:"object",title:(0,I.localize)(14,null),properties:{[T.TELEMETRY_OLD_SETTING_ID]:{type:"boolean",markdownDescription:E.default.privacyStatementUrl?(0,I.localize)(16,null,E.default.nameLong,E.default.privacyStatementUrl):(0,I.localize)(15,null,E.default.nameLong),default:!0,restricted:!0,markdownDeprecationMessage:(0,I.localize)(17,null,`\`#${T.TELEMETRY_SETTING_ID}#\``),scope:1,tags:["usesOnlineServices","telemetry"]}}})}),define(he[207],de([0,1,11,20,42]),function(Z,e,P,_,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AppInsightsAppender=void 0;async function C(k){const m=await new Promise((i,T)=>{Z(["applicationinsights"],i,T)});let E;return m.defaultClient?(E=new m.TelemetryClient(k),E.channel.setUseDiskRetryCaching(!0)):(m.setup(k).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setInternalLogging(!1,!1).setUseDiskRetryCaching(!0).start(),E=m.defaultClient),k.indexOf("AIF-")===0&&(E.config.endpointUrl="https://vortex.data.microsoft.com/collect/v1"),E}class I{constructor(m,E,i){this._eventPrefix=m,this._defaultData=E,this._defaultData||(this._defaultData=Object.create(null)),typeof i=="function"?this._aiClient=i():this._aiClient=i,this._asyncAIClient=null}_withAIClient(m){if(!!this._aiClient){if(typeof this._aiClient!="string"){m(this._aiClient);return}this._asyncAIClient||(this._asyncAIClient=C(this._aiClient)),this._asyncAIClient.then(E=>{m(E)},E=>{(0,P.onUnexpectedError)(E),console.error(E)})}}log(m,E){!this._aiClient||(E=(0,_.mixin)(E,this._defaultData),E=(0,y.validateTelemetryData)(E),this._withAIClient(i=>i.trackEvent({name:this._eventPrefix+"/"+m,properties:E.properties,measurements:E.measurements})))}flush(){return this._aiClient?new Promise(m=>{this._withAIClient(E=>{E.flush({callback:()=>{this._aiClient=void 0,m(void 0)}})})}):Promise.resolve(void 0)}}e.AppInsightsAppender=I}),define(he[208],de([0,1,11,203]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class y extends _.default{installErrorListeners(){(0,P.setUnexpectedErrorHandler)(k=>console.error(k));const I=[];process.on("unhandledRejection",(k,m)=>{I.push(m),setTimeout(()=>{const E=I.indexOf(m);E>=0&&m.catch(i=>{I.splice(E,1),(0,P.isPromiseCanceledError)(i)||(console.warn(`rejected promise not handled within 1 second: ${i}`),i.stack&&console.warn(`stack trace: ${i.stack}`),(0,P.onUnexpectedError)(k))})},1e3)}),process.on("rejectionHandled",k=>{const m=I.indexOf(k);m>=0&&I.splice(m,1)}),process.on("uncaughtException",k=>{(0,P.onUnexpectedError)(k)})}}e.default=y}),define(he[209],de([0,1,13,23,6,2,14]),function(Z,e,P,_,y,C,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RequestStore=void 0;let k=class extends C.Disposable{constructor(E,i){super();this._logService=i,this._lastRequestId=0,this._pendingRequests=new Map,this._pendingRequestDisposables=new Map,this._onCreateRequest=this._register(new y.Emitter),this.onCreateRequest=this._onCreateRequest.event,this._timeout=E===void 0?15e3:E}createRequest(E){return new Promise((i,T)=>{const p=++this._lastRequestId;this._pendingRequests.set(p,i),this._onCreateRequest.fire({requestId:p,...E});const b=new _.CancellationTokenSource;(0,P.timeout)(this._timeout,b.token).then(()=>T(`Request ${p} timed out (${this._timeout}ms)`)),this._pendingRequestDisposables.set(p,[(0,C.toDisposable)(()=>b.cancel())])})}acceptReply(E,i){const T=this._pendingRequests.get(E);T?(this._pendingRequests.delete(E),(0,C.dispose)(this._pendingRequestDisposables.get(E)||[]),this._pendingRequestDisposables.delete(E),T(i)):this._logService.warn(`RequestStore#acceptReply was called without receiving a matching request ${E}`)}};k=Ne([Ge(1,I.ILogService)],k),e.RequestStore=k}),define(he[99],de([0,1,7]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProfileSource=e.FlowControlConstants=e.LocalReconnectConstants=e.ProcessCapability=e.TerminalLocationString=e.TerminalLocation=e.HeartbeatConstants=e.ProcessPropertyType=e.IPtyService=e.TerminalIpcChannels=e.TitleEventSource=e.WindowsShellType=e.TerminalSettingId=e.TerminalSettingPrefix=void 0;var _;(function(d){d.Shell="terminal.integrated.shell.",d.ShellArgs="terminal.integrated.shellArgs.",d.DefaultProfile="terminal.integrated.defaultProfile.",d.Profiles="terminal.integrated.profiles."})(_=e.TerminalSettingPrefix||(e.TerminalSettingPrefix={}));var y;(function(d){d.ShellLinux="terminal.integrated.shell.linux",d.ShellMacOs="terminal.integrated.shell.osx",d.ShellWindows="terminal.integrated.shell.windows",d.SendKeybindingsToShell="terminal.integrated.sendKeybindingsToShell",d.AutomationShellLinux="terminal.integrated.automationShell.linux",d.AutomationShellMacOs="terminal.integrated.automationShell.osx",d.AutomationShellWindows="terminal.integrated.automationShell.windows",d.ShellArgsLinux="terminal.integrated.shellArgs.linux",d.ShellArgsMacOs="terminal.integrated.shellArgs.osx",d.ShellArgsWindows="terminal.integrated.shellArgs.windows",d.ProfilesWindows="terminal.integrated.profiles.windows",d.ProfilesMacOs="terminal.integrated.profiles.osx",d.ProfilesLinux="terminal.integrated.profiles.linux",d.DefaultProfileLinux="terminal.integrated.defaultProfile.linux",d.DefaultProfileMacOs="terminal.integrated.defaultProfile.osx",d.DefaultProfileWindows="terminal.integrated.defaultProfile.windows",d.UseWslProfiles="terminal.integrated.useWslProfiles",d.TabsEnabled="terminal.integrated.tabs.enabled",d.TabsEnableAnimation="terminal.integrated.tabs.enableAnimation",d.TabsHideCondition="terminal.integrated.tabs.hideCondition",d.TabsShowActiveTerminal="terminal.integrated.tabs.showActiveTerminal",d.TabsShowActions="terminal.integrated.tabs.showActions",d.TabsLocation="terminal.integrated.tabs.location",d.TabsFocusMode="terminal.integrated.tabs.focusMode",d.MacOptionIsMeta="terminal.integrated.macOptionIsMeta",d.MacOptionClickForcesSelection="terminal.integrated.macOptionClickForcesSelection",d.AltClickMovesCursor="terminal.integrated.altClickMovesCursor",d.CopyOnSelection="terminal.integrated.copyOnSelection",d.DrawBoldTextInBrightColors="terminal.integrated.drawBoldTextInBrightColors",d.FontFamily="terminal.integrated.fontFamily",d.FontSize="terminal.integrated.fontSize",d.LetterSpacing="terminal.integrated.letterSpacing",d.LineHeight="terminal.integrated.lineHeight",d.MinimumContrastRatio="terminal.integrated.minimumContrastRatio",d.FastScrollSensitivity="terminal.integrated.fastScrollSensitivity",d.MouseWheelScrollSensitivity="terminal.integrated.mouseWheelScrollSensitivity",d.BellDuration="terminal.integrated.bellDuration",d.FontWeight="terminal.integrated.fontWeight",d.FontWeightBold="terminal.integrated.fontWeightBold",d.CursorBlinking="terminal.integrated.cursorBlinking",d.CursorStyle="terminal.integrated.cursorStyle",d.CursorWidth="terminal.integrated.cursorWidth",d.Scrollback="terminal.integrated.scrollback",d.DetectLocale="terminal.integrated.detectLocale",d.DefaultLocation="terminal.integrated.defaultLocation",d.GpuAcceleration="terminal.integrated.gpuAcceleration",d.TerminalTitleSeparator="terminal.integrated.tabs.separator",d.TerminalTitle="terminal.integrated.tabs.title",d.TerminalDescription="terminal.integrated.tabs.description",d.RightClickBehavior="terminal.integrated.rightClickBehavior",d.Cwd="terminal.integrated.cwd",d.ConfirmOnExit="terminal.integrated.confirmOnExit",d.ConfirmOnKill="terminal.integrated.confirmOnKill",d.EnableBell="terminal.integrated.enableBell",d.CommandsToSkipShell="terminal.integrated.commandsToSkipShell",d.AllowChords="terminal.integrated.allowChords",d.AllowMnemonics="terminal.integrated.allowMnemonics",d.EnvMacOs="terminal.integrated.env.osx",d.EnvLinux="terminal.integrated.env.linux",d.EnvWindows="terminal.integrated.env.windows",d.EnvironmentChangesIndicator="terminal.integrated.environmentChangesIndicator",d.EnvironmentChangesRelaunch="terminal.integrated.environmentChangesRelaunch",d.ShowExitAlert="terminal.integrated.showExitAlert",d.SplitCwd="terminal.integrated.splitCwd",d.WindowsEnableConpty="terminal.integrated.windowsEnableConpty",d.WordSeparators="terminal.integrated.wordSeparators",d.EnableFileLinks="terminal.integrated.enableFileLinks",d.UnicodeVersion="terminal.integrated.unicodeVersion",d.ExperimentalLinkProvider="terminal.integrated.experimentalLinkProvider",d.LocalEchoLatencyThreshold="terminal.integrated.localEchoLatencyThreshold",d.LocalEchoExcludePrograms="terminal.integrated.localEchoExcludePrograms",d.LocalEchoStyle="terminal.integrated.localEchoStyle",d.EnablePersistentSessions="terminal.integrated.enablePersistentSessions",d.PersistentSessionReviveProcess="terminal.integrated.persistentSessionReviveProcess",d.CustomGlyphs="terminal.integrated.customGlyphs",d.PersistentSessionScrollback="terminal.integrated.persistentSessionScrollback",d.InheritEnv="terminal.integrated.inheritEnv",d.ShowLinkHover="terminal.integrated.showLinkHover",d.IgnoreProcessNames="terminal.integrated.ignoreProcessNames"})(y=e.TerminalSettingId||(e.TerminalSettingId={}));var C;(function(d){d.CommandPrompt="cmd",d.PowerShell="pwsh",d.Wsl="wsl",d.GitBash="gitbash"})(C=e.WindowsShellType||(e.WindowsShellType={}));var I;(function(d){d[d.Api=0]="Api",d[d.Process=1]="Process",d[d.Sequence=2]="Sequence",d[d.Config=3]="Config"})(I=e.TitleEventSource||(e.TitleEventSource={}));var k;(function(d){d.LocalPty="localPty",d.PtyHost="ptyHost",d.Log="log",d.Heartbeat="heartbeat"})(k=e.TerminalIpcChannels||(e.TerminalIpcChannels={})),e.IPtyService=(0,P.createDecorator)("ptyService");var m;(function(d){d.Cwd="cwd",d.InitialCwd="initialCwd",d.FixedDimensions="fixedDimensions"})(m=e.ProcessPropertyType||(e.ProcessPropertyType={}));var E;(function(d){d[d.BeatInterval=5e3]="BeatInterval",d[d.FirstWaitMultiplier=1.2]="FirstWaitMultiplier",d[d.SecondWaitMultiplier=1]="SecondWaitMultiplier",d[d.CreateProcessTimeout=5e3]="CreateProcessTimeout"})(E=e.HeartbeatConstants||(e.HeartbeatConstants={}));var i;(function(d){d[d.Panel=1]="Panel",d[d.Editor=2]="Editor"})(i=e.TerminalLocation||(e.TerminalLocation={}));var T;(function(d){d.TerminalView="view",d.Editor="editor"})(T=e.TerminalLocationString||(e.TerminalLocationString={}));var p;(function(d){d.CwdDetection="cwdDetection"})(p=e.ProcessCapability||(e.ProcessCapability={}));var b;(function(d){d[d.GraceTime=6e4]="GraceTime",d[d.ShortGraceTime=6e3]="ShortGraceTime"})(b=e.LocalReconnectConstants||(e.LocalReconnectConstants={}));var f;(function(d){d[d.HighWatermarkChars=1e5]="HighWatermarkChars",d[d.LowWatermarkChars=5e3]="LowWatermarkChars",d[d.CharCountAckSize=5e3]="CharCountAckSize"})(f=e.FlowControlConstants||(e.FlowControlConstants={}));var w;(function(d){d.GitBash="Git Bash",d.Pwsh="PowerShell"})(w=e.ProfileSource||(e.ProfileSource={}))}),define(he[210],de([0,1,25,20,3,4,22,12,16]),function(Z,e,P,_,y,C,I,k,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findExecutable=e.getWindowsBuildNumber=void 0;function E(){const T=/(\d+)\.(\d+)\.(\d+)/g.exec(P.release());let p=0;return T&&T.length===4&&(p=parseInt(T[3])),p}e.getWindowsBuildNumber=E;async function i(T,p,b,f=I.env,w=m.Promises.exists){if(y.isAbsolute(T))return await w(T)?T:void 0;if(p===void 0&&(p=I.cwd()),y.dirname(T)!=="."){const c=y.join(p,T);return await w(c)?c:void 0}const S=(0,_.getCaseInsensitive)(f,"PATH");if(b===void 0&&(0,k.isString)(S)&&(b=S.split(y.delimiter)),b===void 0||b.length===0){const c=y.join(p,T);return await w(c)?c:void 0}for(let c of b){let a;if(y.isAbsolute(c)?a=y.join(c,T):a=y.join(p,c,T),await w(a))return a;if(C.isWindows){let l=a+".com";if(await w(l)||(l=a+".exe",await w(l)))return l}}const g=y.join(p,T);return await w(g)?g:void 0}e.findExecutable=i}),define(he[211],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScheme=void 0;var P;(function(_){_.DARK="dark",_.LIGHT="light",_.HIGH_CONTRAST="hc"})(P=e.ColorScheme||(e.ColorScheme={}))}),define(he[100],de([0,1,39,6,2,7,32,211]),function(Z,e,P,_,y,C,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.FolderThemeIcon=e.FileThemeIcon=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=(0,C.createDecorator)("themeService");var m;(function(d){function S(g){return g&&typeof g=="object"&&typeof g.id=="string"}d.isThemeColor=S})(m=e.ThemeColor||(e.ThemeColor={}));function E(d){return{id:d}}e.themeColorFromId=E;var i;(function(d){function S(s){return s&&typeof s=="object"&&typeof s.id=="string"&&(typeof s.color=="undefined"||m.isThemeColor(s.color))}d.isThemeIcon=S;const g=new RegExp(`^\\$\\((${P.CSSIcon.iconNameExpression}(?:${P.CSSIcon.iconModifierExpression})?)\\)$`);function c(s){const r=g.exec(s);if(!r)return;let[,t]=r;return{id:t}}d.fromString=c;function a(s,r){let t=s.id;const o=t.lastIndexOf("~");return o!==-1&&(t=t.substring(0,o)),r&&(t=`${t}~${r}`),{id:t}}d.modify=a;function l(s,r){return s.id===r.id&&s.color?.id===r.color?.id}d.isEqual=l;function n(s,r){return{id:s.id,color:r?E(r):void 0}}d.asThemeIcon=n,d.asClassNameArray=P.CSSIcon.asClassNameArray,d.asClassName=P.CSSIcon.asClassName,d.asCSSSelector=P.CSSIcon.asCSSSelector})(i=e.ThemeIcon||(e.ThemeIcon={})),e.FileThemeIcon=P.Codicon.file,e.FolderThemeIcon=P.Codicon.folder;function T(d){switch(d){case k.ColorScheme.DARK:return"vs-dark";case k.ColorScheme.HIGH_CONTRAST:return"hc-black";default:return"vs"}}e.getThemeTypeSelector=T,e.Extensions={ThemingContribution:"base.contributions.theming"};class p{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new _.Emitter}onColorThemeChange(S){return this.themingParticipants.push(S),this.onThemingParticipantAddedEmitter.fire(S),(0,y.toDisposable)(()=>{const g=this.themingParticipants.indexOf(S);this.themingParticipants.splice(g,1)})}get onThemingParticipantAdded(){return this.onThemingParticipantAddedEmitter.event}getThemingParticipants(){return this.themingParticipants}}let b=new p;I.Registry.add(e.Extensions.ThemingContribution,b);function f(d){return b.onColorThemeChange(d)}e.registerThemingParticipant=f;class w extends y.Disposable{constructor(S){super();this.themeService=S,this.theme=S.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(g=>this.onThemeChange(g)))}onThemeChange(S){this.theme=S,this.updateStyles()}updateStyles(){}getColor(S,g){let c=this.theme.getColor(S);return c&&g&&(c=g(c,this.theme)),c?c.toString():null}}e.Themable=w}),define(he[212],de([0,1,39,100]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createProfileSchemaEnums=void 0;function y(k,m){const E=k.map(i=>({name:i.profileName,description:C(i)}));return m&&E.push(...m.map(i=>({name:i.title,description:I(i)}))),{values:E.map(i=>i.name),markdownDescriptions:E.map(i=>i.description)}}e.createProfileSchemaEnums=y;function C(k){let m=`$(${_.ThemeIcon.isThemeIcon(k.icon)?k.icon.id:k.icon?k.icon:P.Codicon.terminal.id}) ${k.profileName}
- path: ${k.path}`;return k.args&&(typeof k.args=="string"?m+=`
- args: "${k.args}"`:m+=`
- args: [${k.args.length===0?"":`'${k.args.join("','")}'`}]`),k.overrideName!==void 0&&(m+=`
- overrideName: ${k.overrideName}`),k.color&&(m+=`
- color: ${k.color}`),k.env&&(m+=`
- env: ${JSON.stringify(k.env)}`),m}function I(k){return`$(${_.ThemeIcon.isThemeIcon(k.icon)?k.icon.id:k.icon?k.icon:P.Codicon.terminal.id}) ${k.title}
- extensionIdenfifier: ${k.extensionIdentifier}`}}),define(he[213],de([0,1,39,161,41,32,212]),function(Z,e,P,_,y,C,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerTerminalDefaultProfileConfiguration=e.registerTerminalPlatformConfiguration=void 0;const k={args:{description:(0,_.localize)(0,null),type:"array",items:{type:"string"}},overrideName:{description:(0,_.localize)(1,null),type:"boolean"},icon:{description:(0,_.localize)(2,null),type:"string",enum:Array.from(P.iconRegistry.all,d=>d.id),markdownEnumDescriptions:Array.from(P.iconRegistry.all,d=>`$(${d.id})`)},color:{description:(0,_.localize)(3,null),type:["string","null"],enum:["terminal.ansiBlack","terminal.ansiRed","terminal.ansiGreen","terminal.ansiYellow","terminal.ansiBlue","terminal.ansiMagenta","terminal.ansiCyan","terminal.ansiWhite"],default:null},env:{markdownDescription:(0,_.localize)(4,null),type:"object",additionalProperties:{type:["string","null"]},default:{}}},m={type:"object",required:["path"],properties:{path:{description:(0,_.localize)(5,null),type:["string","array"],items:{type:"string"}},...k}},E=(0,_.localize)(6,null,"`#terminal.integrated.profiles.linux#`","`#terminal.integrated.defaultProfile.linux#`"),i=(0,_.localize)(7,null,"`#terminal.integrated.profiles.osx#`","`#terminal.integrated.defaultProfile.osx#`"),T=(0,_.localize)(8,null,"`#terminal.integrated.profiles.windows#`","`#terminal.integrated.defaultProfile.windows#`"),p={id:"terminal",order:100,title:(0,_.localize)(9,null),type:"object",properties:{["terminal.integrated.automationShell.linux"]:{restricted:!0,markdownDescription:(0,_.localize)(10,null,"`terminal.integrated.shell.linux`","`shellArgs`"),type:["string","null"],default:null},["terminal.integrated.automationShell.osx"]:{restricted:!0,markdownDescription:(0,_.localize)(11,null,"`terminal.integrated.shell.osx`","`shellArgs`"),type:["string","null"],default:null},["terminal.integrated.automationShell.windows"]:{restricted:!0,markdownDescription:(0,_.localize)(12,null,"`terminal.integrated.shell.windows`","`shellArgs`"),type:["string","null"],default:null},["terminal.integrated.shell.linux"]:{restricted:!0,markdownDescription:(0,_.localize)(13,null),type:["string","null"],default:null,markdownDeprecationMessage:E},["terminal.integrated.shell.osx"]:{restricted:!0,markdownDescription:(0,_.localize)(14,null),type:["string","null"],default:null,markdownDeprecationMessage:i},["terminal.integrated.shell.windows"]:{restricted:!0,markdownDescription:(0,_.localize)(15,null),type:["string","null"],default:null,markdownDeprecationMessage:T},["terminal.integrated.shellArgs.linux"]:{restricted:!0,markdownDescription:(0,_.localize)(16,null),type:"array",items:{type:"string"},default:[],markdownDeprecationMessage:E},["terminal.integrated.shellArgs.osx"]:{restricted:!0,markdownDescription:(0,_.localize)(17,null),type:"array",items:{type:"string"},default:["-l"],markdownDeprecationMessage:i},["terminal.integrated.shellArgs.windows"]:{restricted:!0,markdownDescription:(0,_.localize)(18,null),anyOf:[{type:"array",items:{type:"string",markdownDescription:(0,_.localize)(19,null)}},{type:"string",markdownDescription:(0,_.localize)(20,null)}],default:[],markdownDeprecationMessage:T},["terminal.integrated.profiles.windows"]:{restricted:!0,markdownDescription:(0,_.localize)(21,null,"`source`","`path`","`args`","`null`",'`"Ubuntu-20.04 (WSL)": null`'),type:"object",default:{PowerShell:{source:"PowerShell",icon:"terminal-powershell"},"Command Prompt":{path:["${env:windir}\\Sysnative\\cmd.exe","${env:windir}\\System32\\cmd.exe"],args:[],icon:"terminal-cmd"},"Git Bash":{source:"Git Bash"}},additionalProperties:{anyOf:[{type:"object",required:["source"],properties:{source:{description:(0,_.localize)(22,null),enum:["PowerShell","Git Bash"]},...k}},{type:"object",required:["extensionIdentifier","id","title"],properties:{extensionIdentifier:{description:(0,_.localize)(23,null),type:"string"},id:{description:(0,_.localize)(24,null),type:"string"},title:{description:(0,_.localize)(25,null),type:"string"},...k}},{type:"null"},m]}},["terminal.integrated.profiles.osx"]:{restricted:!0,markdownDescription:(0,_.localize)(26,null,"`path`","`args`","`null`",'`"bash": null`'),type:"object",default:{bash:{path:"bash",args:["-l"],icon:"terminal-bash"},zsh:{path:"zsh",args:["-l"]},fish:{path:"fish",args:["-l"]},tmux:{path:"tmux",icon:"terminal-tmux"},pwsh:{path:"pwsh",icon:"terminal-powershell"}},additionalProperties:{anyOf:[{type:"object",required:["extensionIdentifier","id","title"],properties:{extensionIdentifier:{description:(0,_.localize)(27,null),type:"string"},id:{description:(0,_.localize)(28,null),type:"string"},title:{description:(0,_.localize)(29,null),type:"string"},...k}},{type:"null"},m]}},["terminal.integrated.profiles.linux"]:{restricted:!0,markdownDescription:(0,_.localize)(30,null,"`path`","`args`","`null`",'`"bash": null`'),type:"object",default:{bash:{path:"bash",icon:"terminal-bash"},zsh:{path:"zsh"},fish:{path:"fish"},tmux:{path:"tmux",icon:"terminal-tmux"},pwsh:{path:"pwsh",icon:"terminal-powershell"}},additionalProperties:{anyOf:[{type:"object",required:["extensionIdentifier","id","title"],properties:{extensionIdentifier:{description:(0,_.localize)(31,null),type:"string"},id:{description:(0,_.localize)(32,null),type:"string"},title:{description:(0,_.localize)(33,null),type:"string"},...k}},{type:"null"},m]}},["terminal.integrated.useWslProfiles"]:{description:(0,_.localize)(34,null),type:"boolean",default:!0},["terminal.integrated.inheritEnv"]:{scope:1,description:(0,_.localize)(35,null),type:"boolean",default:!0},["terminal.integrated.persistentSessionScrollback"]:{scope:1,markdownDescription:(0,_.localize)(36,null),type:"number",default:100},["terminal.integrated.showLinkHover"]:{scope:1,description:(0,_.localize)(37,null),type:"boolean",default:!0},["terminal.integrated.ignoreProcessNames"]:{description:(0,_.localize)(38,null),type:"array",items:{type:"string",uniqueItems:!0},default:["starship","oh-my-posh","bash","zsh"]}}};function b(){C.Registry.as(y.Extensions.Configuration).registerConfiguration(p),w()}e.registerTerminalPlatformConfiguration=b;let f;function w(d,S){const g=C.Registry.as(y.Extensions.Configuration);let c;d&&(c=(0,I.createProfileSchemaEnums)(d?.profiles,S));const a=f;f={id:"terminal",order:100,title:(0,_.localize)(39,null),type:"object",properties:{["terminal.integrated.defaultProfile.linux"]:{restricted:!0,markdownDescription:(0,_.localize)(40,null,"`terminal.integrated.shell.linux`","`terminal.integrated.shellArgs.linux`"),type:["string","null"],default:null,enum:d?.os===3?c?.values:void 0,markdownEnumDescriptions:d?.os===3?c?.markdownDescriptions:void 0},["terminal.integrated.defaultProfile.osx"]:{restricted:!0,markdownDescription:(0,_.localize)(41,null,"`terminal.integrated.shell.osx`","`terminal.integrated.shellArgs.osx`"),type:["string","null"],default:null,enum:d?.os===2?c?.values:void 0,markdownEnumDescriptions:d?.os===2?c?.markdownDescriptions:void 0},["terminal.integrated.defaultProfile.windows"]:{restricted:!0,markdownDescription:(0,_.localize)(42,null,"`terminal.integrated.shell.windows`","`terminal.integrated.shellArgs.windows`"),type:["string","null"],default:null,enum:d?.os===1?c?.values:void 0,markdownEnumDescriptions:d?.os===1?c?.markdownDescriptions:void 0}}},g.updateConfigurations({add:[f],remove:a?[a]:[]})}e.registerTerminalDefaultProfileConfiguration=w}),define(he[214],de([0,1,40,39,3,4,16,83,210,100]),function(Z,e,P,_,y,C,I,k,m,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.detectAvailableProfiles=void 0;let i,T=!0;function p(s,r,t,o,u=process.env,v,D,h,A){return v=v||{existsFile:I.SymlinkSupport.existsFile,readFile:I.Promises.readFile},C.isWindows?b(t,v,u,D,o.getValue("terminal.integrated.useWslProfiles")!==!1,s&&typeof s=="object"?{...s}:o.getValue("terminal.integrated.profiles.windows"),typeof r=="string"?r:o.getValue("terminal.integrated.defaultProfile.windows"),A,h):a(v,D,t,s&&typeof s=="object"?{...s}:o.getValue(C.isLinux?"terminal.integrated.profiles.linux":"terminal.integrated.profiles.osx"),typeof r=="string"?r:o.getValue(C.isLinux?"terminal.integrated.defaultProfile.linux":"terminal.integrated.defaultProfile.osx"),A,h,u)}e.detectAvailableProfiles=p;async function b(s,r,t,o,u,v,D,h,A){const N=process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432"),$=`${process.env.windir}\\${N?"Sysnative":"System32"}`;let K=!1;(0,m.getWindowsBuildNumber)()>=16299&&(K=!0),await d(h);const j=new Map;s&&(j.set("PowerShell",{source:"PowerShell",icon:_.Codicon.terminalPowershell,isAutoDetected:!0}),j.set("Windows PowerShell",{path:`${$}\\WindowsPowerShell\\v1.0\\powershell.exe`,icon:_.Codicon.terminalPowershell,isAutoDetected:!0}),j.set("Git Bash",{source:"Git Bash",isAutoDetected:!0}),j.set("Cygwin",{path:[`${process.env.HOMEDRIVE}\\cygwin64\\bin\\bash.exe`,`${process.env.HOMEDRIVE}\\cygwin\\bin\\bash.exe`],args:["--login"],isAutoDetected:!0}),j.set("Command Prompt",{path:`${$}\\cmd.exe`,icon:_.Codicon.terminalCmd,isAutoDetected:!0})),l(v,j);const F=await f(j.entries(),D,r,t,o,A);if(s||!s&&u)try{const G=await g(`${$}\\${K?"wsl":"bash"}.exe`,D);for(const R of G)(!v||!(R.profileName in v))&&F.push(R)}catch(G){T&&(o?.info("WSL is not installed, so could not detect WSL profiles"),T=!1)}return F}async function f(s,r,t,o=process.env,u,v){const D=[];for(const[h,A]of s){if(A===null)continue;let N,$,K;if("source"in A){const G=i?.get(A.source);if(!G)continue;N=G.paths,$=A.args||G.args,A.icon?K=w(A.icon):G.icon&&(K=G.icon)}else N=Array.isArray(A.path)?A.path:[A.path],$=C.isWindows||Array.isArray(A.args)?A.args:void 0,K=w(A.icon)||void 0;const j=await v?.(N)||N.slice(),F=await n(h,r,j,t,o,$,A.env,A.overrideName,A.isAutoDetected,u);F?(F.isAutoDetected=A.isAutoDetected,F.icon=K,F.color=A.color,D.push(F)):u?.trace("profile not validated",h,N)}return D}function w(s){return typeof s=="string"?{id:s}:s}async function d(s){i&&!s||(i=new Map,i.set("Git Bash",{profileName:"Git Bash",paths:[`${process.env.ProgramW6432}\\Git\\bin\\bash.exe`,`${process.env.ProgramW6432}\\Git\\usr\\bin\\bash.exe`,`${process.env.ProgramFiles}\\Git\\bin\\bash.exe`,`${process.env.ProgramFiles}\\Git\\usr\\bin\\bash.exe`,`${process.env.LocalAppData}\\Programs\\Git\\bin\\bash.exe`,`${process.env.UserProfile}\\scoop\\apps\\git-with-openssh\\current\\bin\\bash.exe`,`${process.env.AllUsersProfile}\\scoop\\apps\\git-with-openssh\\current\\bin\\bash.exe`],args:["--login"]}),i.set("PowerShell",{profileName:"PowerShell",paths:s||await S(),icon:E.ThemeIcon.asThemeIcon(_.Codicon.terminalPowershell)}))}async function S(){const s=[];for await(const r of(0,k.enumeratePowerShellInstallations)())s.push(r.exePath);return s}async function g(s,r){const t=[],o=await new Promise((D,h)=>{P.exec("wsl.exe -l -q",{encoding:"utf16le"},(A,N)=>{if(A)return h("Problem occurred when getting wsl distros");D(N)})});if(!o)return[];const u=new RegExp(/[\r?\n]/),v=o.split(u).filter(D=>D.trim().length>0&&D!=="");for(const D of v){if(D===""||D.startsWith("docker-desktop"))continue;const h=`${D} (WSL)`,A={profileName:h,path:s,args:["-d",`${D}`],isDefault:h===r,icon:c(D)};t.push(A)}return t}function c(s){return s.includes("Ubuntu")?E.ThemeIcon.asThemeIcon(_.Codicon.terminalUbuntu):s.includes("Debian")?E.ThemeIcon.asThemeIcon(_.Codicon.terminalDebian):E.ThemeIcon.asThemeIcon(_.Codicon.terminalLinux)}async function a(s,r,t,o,u,v,D,h){const A=new Map;if(t){const N=(await s.readFile("/etc/shells")).toString(),$=v||N.split(`
`).filter(j=>j.trim().indexOf("#")!==0&&j.trim().length>0),K=new Map;for(const j of $){let F=(0,y.basename)(j),G=K.get(F)||0;G++,G>1&&(F=`${F} (${G})`),K.set(F,G),A.set(F,{path:j,isAutoDetected:!0})}}return l(o,A),await f(A.entries(),u,s,h,r,D)}function l(s,r){if(!!s)for(const[t,o]of Object.entries(s))o===null||!("path"in o)&&!("source"in o)?r.delete(t):r.set(t,o)}async function n(s,r,t,o,u,v,D,h,A,N){if(t.length===0)return Promise.resolve(void 0);const $=t.shift();if($==="")return n(s,r,t,o,u,v,D,h,A);const K={profileName:s,path:$,args:v,env:D,overrideName:h,isAutoDetected:A,isDefault:s===r};if((0,y.basename)($)===$){const F=u.PATH?u.PATH.split(y.delimiter):void 0;return await(0,m.findExecutable)($,void 0,F,void 0,o.existsFile)?K:n(s,r,t,o,u,v)}return await o.existsFile((0,y.normalize)($))?K:n(s,r,t,o,u,v,D,h,A)}}),define(he[215],de([0,1,6,2,8,4,35,51,27,26,87,66,14,91,33,209,99,213,214]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b,f,w,d,S,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PtyHostService=void 0;var c;(function(n){n[n.MaxRestarts=5]="MaxRestarts"})(c||(c={}));let a=0,l=class extends _.Disposable{constructor(s,r,t,o,u){super();this._reconnectConstants=s,this._configurationService=r,this._environmentService=t,this._logService=o,this._telemetryService=u,this._restartCount=0,this._isResponsive=!0,this._isDisposed=!1,this._onPtyHostExit=this._register(new P.Emitter),this.onPtyHostExit=this._onPtyHostExit.event,this._onPtyHostStart=this._register(new P.Emitter),this.onPtyHostStart=this._onPtyHostStart.event,this._onPtyHostUnresponsive=this._register(new P.Emitter),this.onPtyHostUnresponsive=this._onPtyHostUnresponsive.event,this._onPtyHostResponsive=this._register(new P.Emitter),this.onPtyHostResponsive=this._onPtyHostResponsive.event,this._onPtyHostRequestResolveVariables=this._register(new P.Emitter),this.onPtyHostRequestResolveVariables=this._onPtyHostRequestResolveVariables.event,this._onProcessData=this._register(new P.Emitter),this.onProcessData=this._onProcessData.event,this._onProcessExit=this._register(new P.Emitter),this.onProcessExit=this._onProcessExit.event,this._onProcessReady=this._register(new P.Emitter),this.onProcessReady=this._onProcessReady.event,this._onProcessReplay=this._register(new P.Emitter),this.onProcessReplay=this._onProcessReplay.event,this._onProcessTitleChanged=this._register(new P.Emitter),this.onProcessTitleChanged=this._onProcessTitleChanged.event,this._onProcessShellTypeChanged=this._register(new P.Emitter),this.onProcessShellTypeChanged=this._onProcessShellTypeChanged.event,this._onProcessOverrideDimensions=this._register(new P.Emitter),this.onProcessOverrideDimensions=this._onProcessOverrideDimensions.event,this._onProcessResolvedShellLaunchConfig=this._register(new P.Emitter),this.onProcessResolvedShellLaunchConfig=this._onProcessResolvedShellLaunchConfig.event,this._onProcessOrphanQuestion=this._register(new P.Emitter),this.onProcessOrphanQuestion=this._onProcessOrphanQuestion.event,this._onDidRequestDetach=this._register(new P.Emitter),this.onDidRequestDetach=this._onDidRequestDetach.event,this._onProcessDidChangeHasChildProcesses=this._register(new P.Emitter),this.onProcessDidChangeHasChildProcesses=this._onProcessDidChangeHasChildProcesses.event,this._onDidChangeProperty=this._register(new P.Emitter),this.onDidChangeProperty=this._onDidChangeProperty.event,(0,S.registerTerminalPlatformConfiguration)(),this._shellEnv=this._resolveShellEnv(),this._register((0,_.toDisposable)(()=>this._disposePtyHost())),this._resolveVariablesRequestStore=this._register(new w.RequestStore(void 0,this._logService)),this._resolveVariablesRequestStore.onCreateRequest(this._onPtyHostRequestResolveVariables.fire,this._onPtyHostRequestResolveVariables),[this._client,this._proxy]=this._startPtyHost(),this._register(this._configurationService.onDidChangeConfiguration(async v=>{v.affectsConfiguration("terminal.integrated.ignoreProcessNames")&&await this._refreshIgnoreProcessNames()}))}async initialize(){await this._refreshIgnoreProcessNames()}get _ignoreProcessNames(){return this._configurationService.getValue("terminal.integrated.ignoreProcessNames")}async _refreshIgnoreProcessNames(){return this._proxy.refreshIgnoreProcessNames?.(this._ignoreProcessNames)}async _resolveShellEnv(){if(C.isWindows)return process.env;try{return await(0,T.resolveShellEnv)(this._logService,{_:[]},process.env)}catch(s){return this._logService.error("ptyHost was unable to resolve shell environment",s),{}}}_startPtyHost(){const s={serverName:"Pty Host",args:["--type=ptyHost"],env:{VSCODE_LAST_PTY_ID:a,VSCODE_AMD_ENTRYPOINT:"vs/platform/terminal/node/ptyHostMain",VSCODE_PIPE_LOGGING:"true",VSCODE_VERBOSE_LOGGING:"true",VSCODE_RECONNECT_GRACE_TIME:this._reconnectConstants.graceTime,VSCODE_RECONNECT_SHORT_GRACE_TIME:this._reconnectConstants.shortGraceTime,VSCODE_RECONNECT_SCROLLBACK:this._reconnectConstants.scrollback}},r=(0,i.parsePtyHostPort)(this._environmentService.args,this._environmentService.isBuilt);r&&(r.break&&r.port?s.debugBrk=r.port:!r.break&&r.port&&(s.debug=r.port));const t=new k.Client(y.FileAccess.asFileUri("bootstrap-fork",Z).fsPath,s);this._onPtyHostStart.fire(),I.ProxyChannel.toService(t.getChannel(d.TerminalIpcChannels.Heartbeat)).onBeat(()=>this._handleHeartbeat()),this._handleHeartbeat(),this._register(t.onDidProcessExit(D=>{this._telemetryService.publicLog("ptyHost/exit"),this._onPtyHostExit.fire(D.code),this._isDisposed||(this._restartCount<=c.MaxRestarts?(this._logService.error(`ptyHost terminated unexpectedly with code ${D.code}`),this._restartCount++,this.restartPtyHost()):this._logService.error(`ptyHost terminated unexpectedly with code ${D.code}, giving up`))}));const u=t.getChannel(d.TerminalIpcChannels.Log);b.LogLevelChannelClient.setLevel(u,this._logService.getLevel()),this._register(this._logService.onDidChangeLogLevel(()=>{b.LogLevelChannelClient.setLevel(u,this._logService.getLevel())}));const v=I.ProxyChannel.toService(t.getChannel(d.TerminalIpcChannels.PtyHost));return this._register(v.onProcessData(D=>this._onProcessData.fire(D))),this._register(v.onProcessExit(D=>this._onProcessExit.fire(D))),this._register(v.onProcessReady(D=>this._onProcessReady.fire(D))),this._register(v.onProcessTitleChanged(D=>this._onProcessTitleChanged.fire(D))),this._register(v.onProcessShellTypeChanged(D=>this._onProcessShellTypeChanged.fire(D))),this._register(v.onProcessOverrideDimensions(D=>this._onProcessOverrideDimensions.fire(D))),this._register(v.onProcessResolvedShellLaunchConfig(D=>this._onProcessResolvedShellLaunchConfig.fire(D))),this._register(v.onProcessDidChangeHasChildProcesses(D=>this._onProcessDidChangeHasChildProcesses.fire(D))),this._register(v.onDidChangeProperty(D=>this._onDidChangeProperty.fire(D))),this._register(v.onProcessReplay(D=>this._onProcessReplay.fire(D))),this._register(v.onProcessOrphanQuestion(D=>this._onProcessOrphanQuestion.fire(D))),this._register(v.onDidRequestDetach(D=>this._onDidRequestDetach.fire(D))),[t,v]}dispose(){this._isDisposed=!0,super.dispose()}async createProcess(s,r,t,o,u,v,D,h,A,N,$){const K=setTimeout(()=>this._handleUnresponsiveCreateProcess(),d.HeartbeatConstants.CreateProcessTimeout),j=await this._proxy.createProcess(s,r,t,o,u,v,D,h,A,N,$);return clearTimeout(K),a=Math.max(a,j),j}updateTitle(s,r,t){return this._proxy.updateTitle(s,r,t)}updateIcon(s,r,t){return this._proxy.updateIcon(s,r,t)}attachToProcess(s){return this._proxy.attachToProcess(s)}detachFromProcess(s){return this._proxy.detachFromProcess(s)}listProcesses(){return this._proxy.listProcesses()}reduceConnectionGraceTime(){return this._proxy.reduceConnectionGraceTime()}start(s){return this._proxy.start(s)}shutdown(s,r){return this._proxy.shutdown(s,r)}input(s,r){return this._proxy.input(s,r)}processBinary(s,r){return this._proxy.processBinary(s,r)}resize(s,r,t){return this._proxy.resize(s,r,t)}acknowledgeDataEvent(s,r){return this._proxy.acknowledgeDataEvent(s,r)}setUnicodeVersion(s,r){return this._proxy.setUnicodeVersion(s,r)}getInitialCwd(s){return this._proxy.getInitialCwd(s)}getCwd(s){return this._proxy.getCwd(s)}getLatency(s){return this._proxy.getLatency(s)}orphanQuestionReply(s){return this._proxy.orphanQuestionReply(s)}getDefaultSystemShell(s){return this._proxy.getDefaultSystemShell(s)}async getProfiles(s,r,t,o=!1){const u=await this._shellEnv;return(0,g.detectAvailableProfiles)(r,t,o,this._configurationService,u,void 0,this._logService,this._resolveVariables.bind(this,s))}getEnvironment(){return this._proxy.getEnvironment()}getWslPath(s){return this._proxy.getWslPath(s)}setTerminalLayoutInfo(s){return this._proxy.setTerminalLayoutInfo(s)}async getTerminalLayoutInfo(s){return await this._proxy.getTerminalLayoutInfo(s)}async requestDetachInstance(s,r){return this._proxy.requestDetachInstance(s,r)}async acceptDetachInstanceReply(s,r){return this._proxy.acceptDetachInstanceReply(s,r)}async serializeTerminalState(s){return this._proxy.serializeTerminalState(s)}async reviveTerminalProcesses(s){return this._proxy.reviveTerminalProcesses(s)}async refreshProperty(s,r){return this._proxy.refreshProperty(s,r)}async updateProperty(s,r,t){return this._proxy.updateProperty(s,r,t)}async restartPtyHost(){this._telemetryService.publicLog("ptyHost/restart"),this._isResponsive=!0,this._disposePtyHost(),[this._client,this._proxy]=this._startPtyHost()}_disposePtyHost(){this._proxy.shutdownAll?.(),this._client.dispose()}_handleHeartbeat(){this._clearHeartbeatTimeouts(),this._heartbeatFirstTimeout=setTimeout(()=>this._handleHeartbeatFirstTimeout(),d.HeartbeatConstants.BeatInterval*d.HeartbeatConstants.FirstWaitMultiplier),this._isResponsive||(this._telemetryService.publicLog("ptyHost/responsive"),this._isResponsive=!0),this._onPtyHostResponsive.fire()}_handleHeartbeatFirstTimeout(){this._logService.warn(`No ptyHost heartbeat after ${d.HeartbeatConstants.BeatInterval*d.HeartbeatConstants.FirstWaitMultiplier/1e3} seconds`),this._heartbeatFirstTimeout=void 0,this._heartbeatSecondTimeout=setTimeout(()=>this._handleHeartbeatSecondTimeout(),d.HeartbeatConstants.BeatInterval*d.HeartbeatConstants.SecondWaitMultiplier)}_handleHeartbeatSecondTimeout(){this._logService.error(`No ptyHost heartbeat after ${(d.HeartbeatConstants.BeatInterval*d.HeartbeatConstants.FirstWaitMultiplier+d.HeartbeatConstants.BeatInterval*d.HeartbeatConstants.FirstWaitMultiplier)/1e3} seconds`),this._heartbeatSecondTimeout=void 0,this._isResponsive&&(this._telemetryService.publicLog("ptyHost/unresponsive"),this._isResponsive=!1),this._onPtyHostUnresponsive.fire()}_handleUnresponsiveCreateProcess(){this._clearHeartbeatTimeouts(),this._logService.error(`No ptyHost response to createProcess after ${d.HeartbeatConstants.CreateProcessTimeout/1e3} seconds`),this._telemetryService.publicLog("ptyHost/responsive"),this._onPtyHostUnresponsive.fire()}_clearHeartbeatTimeouts(){this._heartbeatFirstTimeout&&(clearTimeout(this._heartbeatFirstTimeout),this._heartbeatFirstTimeout=void 0),this._heartbeatSecondTimeout&&(clearTimeout(this._heartbeatSecondTimeout),this._heartbeatSecondTimeout=void 0)}_resolveVariables(s,r){return this._resolveVariablesRequestStore.createRequest({workspaceId:s,originalText:r})}async acceptPtyHostResolvedVariables(s,r){this._resolveVariablesRequestStore.acceptReply(s,r)}};l=Ne([Ge(1,m.IConfigurationService),Ge(2,E.IEnvironmentService),Ge(3,p.ILogService),Ge(4,f.ITelemetryService)],l),e.PtyHostService=l}),define(he[101],de([0,1,28,21,5,7]),function(Z,e,P,_,y,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toWorkspaceFolder=e.WorkspaceFolder=e.Workspace=e.isWorkspaceFolder=e.isWorkspace=e.WorkbenchState=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,C.createDecorator)("contextService");var I;(function(p){p[p.EMPTY=1]="EMPTY",p[p.FOLDER=2]="FOLDER",p[p.WORKSPACE=3]="WORKSPACE"})(I=e.WorkbenchState||(e.WorkbenchState={}));function k(p){const b=p;return!!(b&&typeof b=="object"&&typeof b.id=="string"&&Array.isArray(b.folders))}e.isWorkspace=k;function m(p){const b=p;return!!(b&&typeof b=="object"&&y.URI.isUri(b.uri)&&typeof b.name=="string"&&typeof b.toResource=="function")}e.isWorkspaceFolder=m;class E{constructor(b,f,w,d,S){this._id=b,this._transient=w,this._configuration=d,this._ignorePathCasing=S,this._foldersMap=P.TernarySearchTree.forUris(this._ignorePathCasing),this.folders=f}update(b){this._id=b.id,this._configuration=b.configuration,this._transient=b.transient,this._ignorePathCasing=b._ignorePathCasing,this.folders=b.folders}get folders(){return this._folders}set folders(b){this._folders=b,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(b){this._configuration=b}getFolder(b){return b&&this._foldersMap.findSubstr(b.with({scheme:b.scheme,authority:b.authority,path:b.path}))||null}updateFoldersMap(){this._foldersMap=P.TernarySearchTree.forUris(this._ignorePathCasing);for(const b of this.folders)this._foldersMap.set(b.uri,b)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=E;class i{constructor(b,f){this.raw=f,this.uri=b.uri,this.index=b.index,this.name=b.name}toResource(b){return(0,_.joinPath)(this.uri,b)}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=i;function T(p){return new i({uri:p,index:0,name:(0,_.basenameOrAuthority)(p)},{uri:p.toString()})}e.toWorkspaceFolder=T}),define(he[216],de([0,1,29,38,117,56,8,3,4,21,5,162,7,95,101]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toStoreData=e.restoreRecentlyOpened=e.useSlashForPath=e.rewriteWorkspaceFileForNewLocation=e.toWorkspaceFolders=e.getStoredWorkspaceFolder=e.isRawUriWorkspaceFolder=e.isRawFileWorkspaceFolder=e.isStoredWorkspaceFolder=e.isUntitledWorkspace=e.reviveIdentifier=e.isWorkspaceIdentifier=e.toWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.isRecentFile=e.isRecentFolder=e.isRecentWorkspace=e.IWorkspacesService=e.hasWorkspaceFileExtension=e.UNTITLED_WORKSPACE_NAME=e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=void 0,e.WORKSPACE_EXTENSION="code-workspace";const w=`.${e.WORKSPACE_EXTENSION}`;e.WORKSPACE_FILTER=[{name:(0,T.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}],e.UNTITLED_WORKSPACE_NAME="workspace.json";function d(R){return(typeof R=="string"?(0,k.extname)(R):(0,E.extname)(R))===w}e.hasWorkspaceFileExtension=d,e.IWorkspacesService=(0,p.createDecorator)("workspacesService");function S(R){return R.hasOwnProperty("workspace")}e.isRecentWorkspace=S;function g(R){return R.hasOwnProperty("folderUri")}e.isRecentFolder=g;function c(R){return R.hasOwnProperty("fileUri")}e.isRecentFile=c;function a(R){const B=R;return typeof B?.id=="string"&&i.URI.isUri(B.uri)}e.isSingleFolderWorkspaceIdentifier=a;function l(R){if(R.configuration)return{id:R.id,configPath:R.configuration};if(R.folders.length===1)return{id:R.id,uri:R.folders[0].uri}}e.toWorkspaceIdentifier=l;function n(R){const B=R;return typeof B?.id=="string"&&i.URI.isUri(B.configPath)}e.isWorkspaceIdentifier=n;function s(R){const B=R;if(B?.uri)return{id:B.id,uri:i.URI.revive(B.uri)};const H=R;if(H?.configPath)return{id:H.id,configPath:i.URI.revive(H.configPath)};if(R?.id)return{id:R.id}}e.reviveIdentifier=s;function r(R,B){return E.extUriBiasedIgnorePathCase.isEqualOrParent(R,B.untitledWorkspacesHome)}e.isUntitledWorkspace=r;function t(R){return o(R)||u(R)}e.isStoredWorkspaceFolder=t;function o(R){const B=R;return typeof B?.path=="string"&&(!B.name||typeof B.name=="string")}e.isRawFileWorkspaceFolder=o;function u(R){const B=R;return typeof B?.uri=="string"&&(!B.name||typeof B.name=="string")}e.isRawUriWorkspaceFolder=u;function v(R,B,H,q,W=!m.isWindows,U){if(R.scheme!==q.scheme)return{name:H,uri:R.toString(!0)};let x=B?void 0:U.relativePath(q,R);if(x!==void 0)x.length===0?x=".":m.isWindows&&R.scheme===I.Schemas.file&&!W&&(x=x.replace(/\//g,"\\"));else if(R.scheme===I.Schemas.file)x=R.fsPath,m.isWindows&&(x=(0,C.normalizeDriveLetter)(x),W&&(x=(0,P.toSlashes)(x)));else{if(!U.isEqualAuthority(R.authority,q.authority))return{name:H,uri:R.toString(!0)};x=R.path}return{name:H,path:x}}e.getStoredWorkspaceFolder=v;function D(R,B,H){let q=[],W=new Set;const U=H.dirname(B);for(let x of R){let z;if(o(x))x.path&&(z=H.resolvePath(U,x.path));else if(u(x))try{z=i.URI.parse(x.uri),z.path[0]!=="/"&&(z=z.with({path:"/"+z.path}))}catch(te){console.warn(te)}if(z){let te=H.getComparisonKey(z);if(!W.has(te)){W.add(te);const X=x.name||H.basenameOrAuthority(z);q.push(new f.WorkspaceFolder({uri:z,name:X,index:q.length},x))}}}return q}e.toWorkspaceFolders=D;function h(R,B,H,q,W){let U=A(B,R);const x=W.dirname(B),z=W.dirname(q),te=[],X=N(U.folders);for(const ne of U.folders){const Se=o(ne)?W.resolvePath(x,ne.path):i.URI.parse(ne.uri);let ye;H?ye=!1:ye=!o(ne)||(0,k.isAbsolute)(ne.path),te.push(v(Se,ye,ne.name,z,X,W))}const me={insertSpaces:!1,tabSize:4,eol:m.isLinux||m.isMacintosh?`
`:`\r
`},pe=y.setProperty(R,["folders"],te,me);let se=y.applyEdits(R,pe);return U.remoteAuthority===(0,b.getRemoteAuthority)(q)&&(se=y.applyEdits(se,y.removeProperty(se,["remoteAuthority"],me))),se}e.rewriteWorkspaceFileForNewLocation=h;function A(R,B){let H=_.parse(B);if(H&&Array.isArray(H.folders))H.folders=H.folders.filter(q=>t(q));else throw new Error(`${R} looks like an invalid workspace file.`);return H}function N(R){return m.isWindows?R.some(B=>o(B)&&B.path.indexOf("/")>=0):!0}e.useSlashForPath=N;function $(R){return R.workspace&&typeof R.workspace=="object"&&typeof R.workspace.id=="string"&&typeof R.workspace.configPath=="string"}function K(R){return typeof R.folderUri=="string"}function j(R){return typeof R.fileUri=="string"}function F(R,B){const H={workspaces:[],files:[]};if(R){const q=function(U,x){for(let z=0;z<U.length;z++)try{x(U[z],z)}catch(te){B.warn(`Error restoring recent entry ${JSON.stringify(U[z])}: ${te.toString()}. Skip entry.`)}},W=R;if(Array.isArray(W.entries))q(W.entries,U=>{const x=U.label,z=U.remoteAuthority;$(U)?H.workspaces.push({label:x,remoteAuthority:z,workspace:{id:U.workspace.id,configPath:i.URI.parse(U.workspace.configPath)}}):K(U)?H.workspaces.push({label:x,remoteAuthority:z,folderUri:i.URI.parse(U.folderUri)}):j(U)&&H.files.push({label:x,remoteAuthority:z,fileUri:i.URI.parse(U.fileUri)})});else{const U=R;Array.isArray(U.workspaces3)&&q(U.workspaces3,(x,z)=>{const te=Array.isArray(U.workspaceLabels)&&U.workspaceLabels[z]||void 0;typeof x=="object"&&typeof x.id=="string"&&typeof x.configURIPath=="string"?H.workspaces.push({label:te,workspace:{id:x.id,configPath:i.URI.parse(x.configURIPath)}}):typeof x=="string"&&H.workspaces.push({label:te,folderUri:i.URI.parse(x)})}),Array.isArray(U.files2)&&q(U.files2,(x,z)=>{const te=Array.isArray(U.fileLabels)&&U.fileLabels[z]||void 0;typeof x=="string"&&H.files.push({label:te,fileUri:i.URI.parse(x)})})}}return H}e.restoreRecentlyOpened=F;function G(R){const B={entries:[]};for(const H of R.workspaces)g(H)?B.entries.push({folderUri:H.folderUri.toString(),label:H.label,remoteAuthority:H.remoteAuthority}):B.entries.push({workspace:{id:H.workspace.id,configPath:H.workspace.configPath.toString()},label:H.label,remoteAuthority:H.remoteAuthority});for(const H of R.files)B.entries.push({fileUri:H.fileUri.toString(),label:H.label,remoteAuthority:H.remoteAuthority});return B}e.toStoreData=G}),define(he[217],de([0,1,6,13]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ManagementConnection=e.printTime=void 0;function y(I){let k=0,m=0,E=0;I>=1e3&&(E=Math.floor(I/1e3),I-=E*1e3),E>=60&&(m=Math.floor(E/60),E-=m*60),m>=60&&(k=Math.floor(m/60),m-=k*60);const i=k?`${k}h`:"",T=m?`${m}m`:"",p=E?`${E}s`:"",b=I?`${I}ms`:"";return`${i}${T}${p}${b}`}e.printTime=y;class C{constructor(k,m,E,i){this._logService=k,this._reconnectionToken=m,this._onClose=new P.Emitter,this.onClose=this._onClose.event,this._reconnectionGraceTime=108e5,this._reconnectionShortGraceTime=3e5,this._remoteAddress=E,this.protocol=i,this._disposed=!1,this._disconnectRunner1=new _.ProcessTimeRunOnceScheduler(()=>{this._log(`The reconnection grace time of ${y(this._reconnectionGraceTime)} has expired, so the connection will be disposed.`),this._cleanResources()},this._reconnectionGraceTime),this._disconnectRunner2=new _.ProcessTimeRunOnceScheduler(()=>{this._log(`The reconnection short grace time of ${y(this._reconnectionShortGraceTime)} has expired, so the connection will be disposed.`),this._cleanResources()},this._reconnectionShortGraceTime),this.protocol.onDidDispose(()=>{this._log("The client has disconnected gracefully, so the connection will be disposed."),this._cleanResources()}),this.protocol.onSocketClose(()=>{this._log(`The client has disconnected, will wait for reconnection ${y(this._reconnectionGraceTime)} before disposing...`),this._disconnectRunner1.schedule()}),this._log("New connection established.")}_log(k){this._logService.info(`[${this._remoteAddress}][${this._reconnectionToken.substr(0,8)}][ManagementConnection] ${k}`)}shortenReconnectionGraceTimeIfNecessary(){this._disconnectRunner2.isScheduled()||this._disconnectRunner1.isScheduled()&&(this._log(`Another client has connected, will shorten the wait for reconnection ${y(this._reconnectionShortGraceTime)} before disposing...`),this._disconnectRunner2.schedule())}_cleanResources(){if(this._disposed)return;this._disposed=!0,this._disconnectRunner1.dispose(),this._disconnectRunner2.dispose();const k=this.protocol.getSocket();this.protocol.sendDisconnect(),this.protocol.dispose(),k.end(),this._onClose.fire(void 0)}acceptReconnection(k,m,E){this._remoteAddress=k,this._log("The client has reconnected."),this._disconnectRunner1.cancel(),this._disconnectRunner2.cancel(),this.protocol.beginAcceptReconnection(m,E),this.protocol.endAcceptReconnection()}}e.ManagementConnection=C}),define(he[102],de([0,1,30,8,3,125,47]),function(Z,e,P,_,y,C,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalNLSConfiguration=e.getNLSConfiguration=void 0;const k=y.join(_.FileAccess.asFileUri("",Z).fsPath,"nls.metadata.json"),m=new Map;function E(p){return new Promise(b=>P.exists(p,b))}function i(p,b){return E(k).then(f=>{if(!f||!I.default.commit)return Promise.resolve({locale:"en",availableLanguages:{}});let w=`${p}||${b}`,d=m.get(w);return d||(d=C.getNLSConfiguration(I.default.commit,b,k,p).then(S=>(T.is(S)&&(S._languagePackSupport=!0),S)),m.set(w,d)),d})}e.getNLSConfiguration=i;var T;(function(p){function b(f){let w=f;return w&&typeof w._languagePackId=="string"}p.is=b})(T=e.InternalNLSConfiguration||(e.InternalNLSConfiguration={}))}),define(he[218],de([0,1,27,7,33,206,42]),function(Z,e,P,_,y,C,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IRemoteTelemetryService=e.RemoteNullTelemetryService=e.RemoteTelemetryService=void 0;let k=class extends C.TelemetryService{constructor(E,i){super(E,i);this._isDisabled=!1}publicLog(E,i,T){return this._isDisabled?Promise.resolve(void 0):super.publicLog(E,i,T)}publicLog2(E,i,T){return this._isDisabled?Promise.resolve(void 0):super.publicLog2(E,i,T)}publicLogError(E,i){return this._isDisabled?Promise.resolve(void 0):super.publicLogError(E,i)}publicLogError2(E,i){return this._isDisabled?Promise.resolve(void 0):super.publicLogError2(E,i)}permanentlyDisableTelemetry(){this._isDisabled=!0,this.dispose()}};k=Ne([Ge(1,P.IConfigurationService)],k),e.RemoteTelemetryService=k,e.RemoteNullTelemetryService=new class extends I.NullTelemetryServiceShape{permanentlyDisableTelemetry(){}},e.IRemoteTelemetryService=(0,_.refineServiceDecorator)(y.ITelemetryService)}),define(he[43],de([0,1,58,8]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createRemoteURITransformer=e.uriTransformerPath=void 0,e.uriTransformerPath=_.FileAccess.asFileUri("vs/server/uriTransformer.js",Z).fsPath;function y(C){const k=Z.__$__nodeRequire(e.uriTransformerPath)(C);return new P.URITransformer(k)}e.createRemoteURITransformer=y}),define(he[219],de([0,1,6,2,5,43,69,3,174]),function(Z,e,P,_,y,C,I,k,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RemoteAgentFileSystemProviderChannel=void 0;class E extends m.AbstractDiskFileSystemProviderChannel{constructor(p,b){super(new I.DiskFileSystemProvider(p),p);this.environmentService=b,this.uriTransformerCache=new Map,this._register(this.provider)}getUriTransformer(p){let b=this.uriTransformerCache.get(p.remoteAuthority);return b||(b=(0,C.createRemoteURITransformer)(p.remoteAuthority),this.uriTransformerCache.set(p.remoteAuthority,b)),b}transformIncoming(p,b,f=!1){if(f&&b.path==="/vscode-resource"&&b.query){const w=JSON.parse(b.query).requestResourcePath;return y.URI.from({scheme:"file",path:w})}return y.URI.revive(p.transformIncoming(b))}createSessionFileWatcher(p,b){return new i(p,b,this.logService,this.environmentService)}}e.RemoteAgentFileSystemProviderChannel=E;class i extends _.Disposable{constructor(p,b,f,w){super();this.uriTransformer=p,this.logService=f,this.environmentService=w,this.watcherRequests=new Map,this.fileWatcher=this._register(new I.DiskFileSystemProvider(this.logService,{watcher:this.getWatcherOptions()})),this.registerListeners(b)}registerListeners(p){const b=this._register(new P.Emitter);this._register(b.event(f=>{p.fire(f.map(w=>({resource:this.uriTransformer.transformOutgoingURI(w.resource),type:w.type})))})),this._register(this.fileWatcher.onDidChangeFile(f=>b.fire(f))),this._register(this.fileWatcher.onDidErrorOccur(f=>p.fire(f)))}getWatcherOptions(){const p=this.environmentService.args.fileWatcherPolling;if(p){const b=p.split(k.delimiter),f=Number(b[0]);if(f>0)return{usePolling:b.length>1?b.slice(1):!0,pollingInterval:f}}}watch(p,b,f){return this.environmentService.extensionsPath&&(f.excludes=[...f.excludes||[],k.posix.join(this.environmentService.extensionsPath,"**")]),this.watcherRequests.set(p,this.fileWatcher.watch(b,f)),(0,_.toDisposable)(()=>{(0,_.dispose)(this.watcherRequests.get(p)),this.watcherRequests.delete(p)})}dispose(){super.dispose(),this.watcherRequests.forEach(p=>(0,_.dispose)(p)),this.watcherRequests.clear()}}}),define(he[72],de([0,1,164,172,61,7,26]),function(Z,e,P,_,y,C,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServerEnvironmentService=e.IServerEnvironmentService=e.serverOptions=void 0,e.serverOptions={port:{type:"string"},connectionToken:{type:"string"},"connection-secret":{type:"string",description:P.localize(0,null)},host:{type:"string"},"socket-path":{type:"string"},driver:{type:"string"},"start-server":{type:"boolean"},"print-startup-performance":{type:"boolean"},"print-ip-address":{type:"boolean"},"disable-websocket-compression":{type:"boolean"},fileWatcherPolling:{type:"string"},"enable-remote-auto-shutdown":{type:"boolean"},"remote-auto-shutdown-without-delay":{type:"boolean"},"without-browser-env-var":{type:"boolean"},"disable-telemetry":y.OPTIONS["disable-telemetry"],"extensions-dir":y.OPTIONS["extensions-dir"],"extensions-download-dir":y.OPTIONS["extensions-download-dir"],"install-extension":y.OPTIONS["install-extension"],"install-builtin-extension":y.OPTIONS["install-builtin-extension"],"uninstall-extension":y.OPTIONS["uninstall-extension"],"locate-extension":y.OPTIONS["locate-extension"],"list-extensions":y.OPTIONS["list-extensions"],force:y.OPTIONS.force,"show-versions":y.OPTIONS["show-versions"],category:y.OPTIONS.category,"do-not-sync":y.OPTIONS["do-not-sync"],"force-disable-user-env":y.OPTIONS["force-disable-user-env"],folder:{type:"string"},workspace:{type:"string"},"web-user-data-dir":{type:"string"},"use-host-proxy":{type:"string"},"enable-sync":{type:"boolean"},"github-auth":{type:"string"},log:{type:"string"},logsPath:{type:"string"},_:y.OPTIONS._},e.IServerEnvironmentService=(0,C.refineServiceDecorator)(I.IEnvironmentService);class k extends _.NativeEnvironmentService{get args(){return super.args}}e.ServerEnvironmentService=k}),define(he[220],de([0,1,30,71,128,251,70,29,57,4,5,43,3,8,24,22]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b,f,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebClientServer=e.serveFile=e.serveError=void 0;const d={".html":"text/html",".js":"text/javascript",".json":"application/json",".css":"text/css",".svg":"image/svg+xml"};async function S(l,n,s,r){n.writeHead(s,{"Content-Type":"text/plain"}),n.end(r)}e.serveError=S;async function g(l,n,s,r,t=Object.create(null)){try{const o=await y.promisify(P.stat)(r),u=`W/"${[o.ino,o.size,o.mtime.getTime()].join("-")}"`;if(n.headers["if-none-match"]===u)return s.writeHead(304),s.end();t["Content-Type"]=d[(0,p.extname)(r)]||(0,m.getMediaMime)(r)||"text/plain",t.Etag=u,s.writeHead(200,t),P.createReadStream(r).pipe(s)}catch(o){return o.code!=="ENOENT"&&(l.error(o),console.error(o.toString())),s.writeHead(404,{"Content-Type":"text/plain"}),s.end("Not found")}}e.serveFile=g;const c=(0,p.dirname)(b.FileAccess.asFileUri("",Z).fsPath);class a{constructor(n,s,r,t){this._connectionToken=n,this._environmentService=s,this._logService=r,this._productService=t,this._mapCallbackUriToRequestId=new Map}async handle(n,s,r){try{const t=r.pathname;return t==="/favicon.ico"||t==="/manifest.json"||t==="/code-192.png"||t==="/code-512.png"?g(this._logService,n,s,(0,p.join)(c,"resources","server",t.substr(1))):/^\/static\//.test(t)?this._handleStatic(n,s,r):t==="/"?this._handleRoot(n,s,r):t==="/callback"?this._handleCallback(n,s,r):t==="/fetch-callback"?this._handleFetchCallback(n,s,r):S(n,s,404,"Not found.")}catch(t){return this._logService.error(t),console.error(t.toString()),S(n,s,500,"Internal Server Error.")}}_hasCorrectTokenCookie(n){return C.parse(n.headers.cookie||"")["vscode-tkn"]===this._connectionToken}async _handleStatic(n,s,r){const t=Object.create(null),o=decodeURIComponent(r.pathname),u=(0,p.normalize)(o.substr("/static/".length)),v=(0,p.join)(c,u);return(0,k.isEqualOrParent)(v,c,!E.isLinux)?g(this._logService,n,s,v,t):S(n,s,400,"Bad request.")}async _handleRoot(n,s,r){if(!n.headers.host)return S(n,s,400,"Bad request.");const t=r.query.tkn;if(typeof t=="string"){const F=Object.create(null);F["Set-Cookie"]=C.serialize("vscode-tkn",t,{sameSite:"strict",maxAge:60*60*24*7});const G=Object.create(null);for(let B in r.query)B!=="tkn"&&(G[B]=r.query[B]);const R=_.format({pathname:"/",query:G});return F.Location=R,s.writeHead(302,F),s.end()}if(this._environmentService.isBuilt&&!this._hasCorrectTokenCookie(n))return S(n,s,403,"Forbidden.");const o=n.headers.host,u=(0,T.createRemoteURITransformer)(o),{workspacePath:v,isFolder:D}=await this._getWorkspaceFromCLI();function h(F){return F.replace(/"/g,"&quot;")}let A;this._environmentService.driverHandle&&(A=!1);const N=b.FileAccess.asFileUri(this._environmentService.isBuilt?"vs/code/browser/workbench/workbench.html":"vs/code/browser/workbench/workbench-dev.html",Z).fsPath,$=!this._environmentService.isBuilt&&this._environmentService.args["github-auth"]?{id:(0,f.generateUuid)(),providerId:"github",accessToken:this._environmentService.args["github-auth"],scopes:[["user:email"],["repo"]]}:void 0,K=(await y.promisify(P.readFile)(N)).toString().replace("{{WORKBENCH_WEB_CONFIGURATION}}",h(JSON.stringify({folderUri:v&&D?u.transformOutgoing(i.URI.file(v)):void 0,workspaceUri:v&&!D?u.transformOutgoing(i.URI.file(v)):void 0,remoteAuthority:o,_wrapWebWorkerExtHostInIframe:A,developmentOptions:{enableSmokeTestDriver:this._environmentService.driverHandle==="web"?!0:void 0},settingsSyncOptions:!this._environmentService.isBuilt&&this._environmentService.args["enable-sync"]?{enabled:!0}:void 0}))).replace("{{WORKBENCH_AUTH_SESSION}}",()=>$?h(JSON.stringify($)):""),j=["default-src 'self';","img-src 'self' https: data: blob:;","media-src 'none';",`script-src 'self' 'unsafe-eval' ${this._getScriptCspHashes(K).join(" ")} 'sha256-cb2sg39EJV8ABaSNFfWu/ou8o1xVXYK7jp90oZ9vpcg=' http://${o};`,"child-src 'self';",`frame-src 'self' https://*.vscode-webview.net ${this._productService.webEndpointUrl||""} data:;`,"worker-src 'self' data:;","style-src 'self' 'unsafe-inline';","connect-src 'self' ws: wss: https:;","font-src 'self' blob:;","manifest-src 'self';"].join(" ");return s.writeHead(200,{"Content-Type":"text/html","Set-Cookie":C.serialize("vscode-tkn",this._connectionToken,{sameSite:"strict",maxAge:60*60*24*7}),"Content-Security-Policy":j}),s.end(K)}_getScriptCspHashes(n){const s=/<script>([\s\S]+?)<\/script>/img,r=[];let t;for(;t=s.exec(n);){const o=I.createHash("sha256"),u=t[1].replace(/\r\n/g,`
`),v=o.update(Buffer.from(u)).digest().toString("base64");r.push(`'sha256-${v}'`)}return r}async _getWorkspaceFromCLI(){const n=this._environmentService.args.workspace;if(n&&n.length>0){const r=(0,k.sanitizeFilePath)(n,(0,w.cwd)());if(await y.promisify(P.exists)(r))return{workspacePath:r}}const s=this._environmentService.args.folder;if(s&&s.length>0){const r=(0,k.sanitizeFilePath)(s,(0,w.cwd)());if(await y.promisify(P.exists)(r))return{workspacePath:r,isFolder:!0}}return{}}_getFirstQueryValue(n,s){const r=n.query[s];return Array.isArray(r)?r[0]:r}_getFirstQueryValues(n,s){const r=new Map;for(const t in n.query){if(s&&s.indexOf(t)>=0)continue;const o=this._getFirstQueryValue(n,t);typeof o=="string"&&r.set(t,o)}return r}async _handleCallback(n,s,r){const t=["vscode-requestId","vscode-scheme","vscode-authority","vscode-path","vscode-query","vscode-fragment"],[o,u,v,D,h,A]=t.map(K=>{const j=this._getFirstQueryValue(r,K);return j&&decodeURIComponent(j)});if(!o)return s.writeHead(400,{"Content-Type":"text/plain"}),s.end("Bad request.");let N=h,$=0;return this._getFirstQueryValues(r,t).forEach((K,j)=>{N||(N=""),N+=`${$++==0?"":"&"}${j}=${K}`}),this._mapCallbackUriToRequestId.set(o,i.URI.from({scheme:u||this._productService.urlProtocol,authority:v,path:D,query:N,fragment:A}).toJSON()),g(this._logService,n,s,b.FileAccess.asFileUri("vs/code/browser/workbench/callback.html",Z).fsPath,{"Content-Type":"text/html"})}async _handleFetchCallback(n,s,r){const t=this._getFirstQueryValue(r,"vscode-requestId");if(!t)return s.writeHead(400,{"Content-Type":"text/plain"}),s.end("Bad request.");const o=this._mapCallbackUriToRequestId.get(t);return o&&this._mapCallbackUriToRequestId.delete(t),s.writeHead(200,{"Content-Type":"text/json"}),s.end(JSON.stringify(o))}}e.WebClientServer=a}),define(he[221],de([0,1,7]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostRpcService=e.IExtHostRpcService=void 0,e.IExtHostRpcService=(0,P.createDecorator)("IExtHostRpcService");class _{constructor(C){this.getProxy=C.getProxy.bind(C),this.set=C.set.bind(C),this.assertRegistered=C.assertRegistered.bind(C),this.drain=C.drain.bind(C)}}e.ExtHostRpcService=_}),define(he[103],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TestItemRootImpl=e.TestItemImpl=e.MixedTestItemController=e.InvalidTestItemError=e.DuplicateTestItemError=e.diffTestItems=e.getPrivateApiFor=e.createPrivateApiFor=e.ExtHostTestItemEventOp=void 0;var P;(function(g){g[g.Upsert=0]="Upsert",g[g.RemoveChild=1]="RemoveChild",g[g.Invalidated=2]="Invalidated",g[g.SetProp=3]="SetProp",g[g.Bulk=4]="Bulk"})(P=e.ExtHostTestItemEventOp||(e.ExtHostTestItemEventOp={}));const _=new WeakMap,y=(g,c)=>{const a={controllerId:c};return _.set(g,a),a};e.createPrivateApiFor=y;const C=g=>_.get(g);e.getPrivateApiFor=C;const I=(g,c,a,l)=>{let n=a;return{enumerable:!0,configurable:!1,get(){return n},set(s){if(!l(n,s)){const r=n;n=s,g.listener?.({op:3,key:c,value:s,previous:r})}}}},k=(g,c)=>g===c,m={range:(g,c)=>g===c?!0:!g||!c?!1:g.isEqual(c),label:k,description:k,busy:k,error:k,canResolveChildren:k,tags:(g,c)=>!(g.length!==c.length||g.some(a=>!c.find(l=>a.id===l.id)))},E=Object.keys(m),i=(g,c)=>({range:I(g,"range",void 0,m.range),label:I(g,"label",c,m.label),description:I(g,"description",void 0,m.description),canResolveChildren:I(g,"canResolveChildren",!1,m.canResolveChildren),busy:I(g,"busy",!1,m.busy),error:I(g,"error",void 0,m.error),tags:I(g,"tags",[],m.tags)}),T=(g,c)=>{const a=new Map;for(const l of E)m[l](g[l],c[l])||a.set(l,c[l]);return a};e.diffTestItems=T;class p extends Error{constructor(c){super(`Attempted to insert a duplicate test item ID ${c}`)}}e.DuplicateTestItemError=p;class b extends Error{constructor(c){super(`TestItem with ID "${c}" is invalid. Make sure to create it from the createTestItem method.`)}}e.InvalidTestItemError=b;class f extends Error{constructor(c,a,l){super(`TestItem with ID "${c}" is from controller "${a}" and cannot be added as a child of an item from controller "${l}".`)}}e.MixedTestItemController=f;const w=g=>{const c=(0,e.getPrivateApiFor)(g);let a=new Map;return{get size(){return a.size},forEach(l,n){for(const s of a.values())l.call(n,s,this)},replace(l){const n=new Map,s=new Set(a.keys()),r={op:4,ops:[]};for(const t of l){if(!(t instanceof d))throw new b(t.id);const o=(0,e.getPrivateApiFor)(t).controllerId;if(o!==c.controllerId)throw new f(t.id,o,c.controllerId);if(n.has(t.id))throw new p(t.id);n.set(t.id,t),s.delete(t.id),r.ops.push({op:0,item:t})}for(const t of s.keys())r.ops.push({op:1,id:t});c.listener?.(r),a=n},add(l){if(!(l instanceof d))throw new b(l.id);a.set(l.id,l),c.listener?.({op:0,item:l})},delete(l){a.delete(l)&&c.listener?.({op:1,id:l})},get(l){return a.get(l)},toJSON(){return Array.from(a.values())},[Symbol.iterator](){return a.values()}}};class d{constructor(c,a,l,n){if(a.includes("\0"))throw new Error(`Test IDs may not include the ${JSON.stringify(a)} symbol`);const s=(0,e.createPrivateApiFor)(this,c);Object.defineProperties(this,{id:{value:a,enumerable:!0,writable:!1},uri:{value:n,enumerable:!0,writable:!1},parent:{enumerable:!1,get(){return s.parent instanceof S?void 0:s.parent}},children:{value:w(this),enumerable:!0,writable:!1},...i(s,l)})}invalidateResults(){(0,e.getPrivateApiFor)(this).listener?.({op:2})}}e.TestItemImpl=d;class S extends d{constructor(c,a){super(c,c,a,void 0)}}e.TestItemRootImpl=S});var Pt=this&&this.__classPrivateFieldSet||function(Z,e,P,_,y){if(_==="m")throw new TypeError("Private method is not writable");if(_==="a"&&!y)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?Z!==e||!y:!e.has(Z))throw new TypeError("Cannot write private member to an object whose class did not declare it");return _==="a"?y.call(Z,P):y?y.value=P:e.set(Z,P),P},ct=this&&this.__classPrivateFieldGet||function(Z,e,P,_){if(P==="a"&&!_)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?Z!==e||!_:!e.has(Z))throw new TypeError("Cannot read private member from an object whose class did not declare it");return P==="m"?_:P==="a"?_.call(Z):_?_.value:e.get(Z)};define(he[104],de([0,1,18,11,77,28,57,15,12,5,24,19,94]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p){"use strict";var b,f,w,d,S,g,c,a,l,n,s,r,t,o,u,v,D,h,A,N;Object.defineProperty(e,"__esModule",{value:!0}),e.TypeHierarchyItem=e.PortAutoForwardAction=e.WorkspaceTrustState=e.ExternalUriOpenerPriority=e.FunctionCoverage=e.BranchCoverage=e.StatementCoverage=e.FileCoverage=e.CoveredCount=e.TestTag=e.TestMessage=e.TestRunRequest=e.TestRunProfileKind=e.TestResultState=e.PortAttributes=e.LinkedEditingRanges=e.StandardTokenType=e.ExtensionRuntime=e.ExtensionMode=e.TimelineItem=e.NotebookRendererScript=e.NotebookControllerAffinity=e.NotebookCellStatusBarItem=e.NotebookEditorRevealType=e.NotebookCellStatusBarAlignment=e.NotebookCellExecutionState=e.NotebookCellKind=e.NotebookCellOutput=e.NotebookCellOutputItem=e.NotebookData=e.NotebookCellData=e.NotebookRange=e.ColorThemeKind=e.ColorTheme=e.FileDecoration=e.ExtensionKind=e.QuickInputButtons=e.DebugConfigurationProviderTriggerKind=e.DebugConsoleMode=e.SemanticTokensEdits=e.SemanticTokensEdit=e.SemanticTokens=e.SemanticTokensBuilder=e.SemanticTokensLegend=e.CommentMode=e.CommentThreadCollapsibleState=e.FoldingRangeKind=e.FoldingRange=e.FileSystemError=e.FileChangeType=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.InlineCompletionTriggerKind=e.EvaluatableExpression=e.DebugAdapterInlineImplementation=e.DebugAdapterNamedPipeServer=e.DebugAdapterServer=e.DebugAdapterExecutable=e.DataBreakpoint=e.FunctionBreakpoint=e.SourceBreakpoint=e.Breakpoint=e.RelativePattern=e.ConfigurationTarget=e.ThemeColor=e.ThemeIcon=e.TreeItemCollapsibleState=e.TreeItem=e.ProgressLocation=e.Task=e.CustomExecution=e.TaskScope=e.ShellQuoting=e.ShellExecution=e.ProcessExecution=e.TaskGroup=e.TaskPanelKind=e.TaskRevealKind=e.TerminalProfile=e.TerminalLocation=e.TerminalLink=e.SourceControlInputBoxValidationType=e.ColorFormat=e.ColorPresentation=e.ColorInformation=e.Color=e.DocumentLink=e.DecorationRangeBehavior=e.TextDocumentChangeReason=e.TextEditorSelectionChangeKind=e.TextEditorRevealType=e.TextDocumentSaveReason=e.TextEditorLineNumbersStyle=e.StatusBarAlignment=e.ViewColumn=e.InlineSuggestions=e.InlineSuggestion=e.CompletionList=e.CompletionItem=e.CompletionItemTag=e.CompletionItemKind=e.CompletionTriggerKind=e.InlayHint=e.InlayHintKind=e.SignatureHelpTriggerKind=e.SignatureHelp=e.SignatureInformation=e.ParameterInformation=e.MarkdownString=e.CodeLens=e.LanguageStatusSeverity=e.CallHierarchyOutgoingCall=e.CallHierarchyIncomingCall=e.CallHierarchyItem=e.SelectionRange=e.CodeActionKind=e.CodeAction=e.CodeActionTriggerKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.Hover=e.Diagnostic=e.DiagnosticRelatedInformation=e.Location=e.DiagnosticSeverity=e.DiagnosticTag=e.SnippetString=e.WorkspaceEdit=e.FileEditType=e.TextEdit=e.EnvironmentVariableMutatorType=e.EndOfLine=e.RemoteAuthorityResolverError=e.ResolvedAuthority=e.Selection=e.Range=e.Position=e.Disposable=void 0;function $(O){function L(){return Reflect.construct(O,arguments,this.constructor)}return Object.defineProperty(L,"name",Object.getOwnPropertyDescriptor(O,"name")),Object.setPrototypeOf(L,O),Object.setPrototypeOf(L.prototype,O.prototype),L}let K=S=class{constructor(L){b.set(this,void 0),Pt(this,b,L,"f")}static from(...L){let Y=L;return new S(function(){if(Y){for(const Ee of Y)Ee&&typeof Ee.dispose=="function"&&Ee.dispose();Y=void 0}})}dispose(){typeof ct(this,b,"f")=="function"&&(ct(this,b,"f").call(this),Pt(this,b,void 0,"f"))}};b=new WeakMap,K=S=Ne([$],K),e.Disposable=K;let j=g=class{constructor(L,Y){if(L<0)throw(0,_.illegalArgument)("line must be non-negative");if(Y<0)throw(0,_.illegalArgument)("character must be non-negative");this._line=L,this._character=Y}static Min(...L){if(L.length===0)throw new TypeError;let Y=L[0];for(let Ee=1;Ee<L.length;Ee++){const xe=L[Ee];xe.isBefore(Y)&&(Y=xe)}return Y}static Max(...L){if(L.length===0)throw new TypeError;let Y=L[0];for(let Ee=1;Ee<L.length;Ee++){const xe=L[Ee];xe.isAfter(Y)&&(Y=xe)}return Y}static isPosition(L){if(!L)return!1;if(L instanceof g)return!0;let{line:Y,character:Ee}=L;return typeof Y=="number"&&typeof Ee=="number"}get line(){return this._line}get character(){return this._character}isBefore(L){return this._line<L._line?!0:L._line<this._line?!1:this._character<L._character}isBeforeOrEqual(L){return this._line<L._line?!0:L._line<this._line?!1:this._character<=L._character}isAfter(L){return!this.isBeforeOrEqual(L)}isAfterOrEqual(L){return!this.isBefore(L)}isEqual(L){return this._line===L._line&&this._character===L._character}compareTo(L){return this._line<L._line?-1:this._line>L.line?1:this._character<L._character?-1:this._character>L._character?1:0}translate(L,Y=0){if(L===null||Y===null)throw(0,_.illegalArgument)();let Ee;return typeof L=="undefined"?Ee=0:typeof L=="number"?Ee=L:(Ee=typeof L.lineDelta=="number"?L.lineDelta:0,Y=typeof L.characterDelta=="number"?L.characterDelta:0),Ee===0&&Y===0?this:new g(this.line+Ee,this.character+Y)}with(L,Y=this.character){if(L===null||Y===null)throw(0,_.illegalArgument)();let Ee;return typeof L=="undefined"?Ee=this.line:typeof L=="number"?Ee=L:(Ee=typeof L.line=="number"?L.line:this.line,Y=typeof L.character=="number"?L.character:this.character),Ee===this.line&&Y===this.character?this:new g(Ee,Y)}toJSON(){return{line:this.line,character:this.character}}};j=g=Ne([$],j),e.Position=j;let F=c=class{constructor(L,Y,Ee,xe){let tt,rt;if(typeof L=="number"&&typeof Y=="number"&&typeof Ee=="number"&&typeof xe=="number"?(tt=new j(L,Y),rt=new j(Ee,xe)):L instanceof j&&Y instanceof j&&(tt=L,rt=Y),!tt||!rt)throw new Error("Invalid arguments");tt.isBefore(rt)?(this._start=tt,this._end=rt):(this._start=rt,this._end=tt)}static isRange(L){return L instanceof c?!0:L?j.isPosition(L.start)&&j.isPosition(L.end):!1}get start(){return this._start}get end(){return this._end}contains(L){return L instanceof c?this.contains(L._start)&&this.contains(L._end):L instanceof j?!(L.isBefore(this._start)||this._end.isBefore(L)):!1}isEqual(L){return this._start.isEqual(L._start)&&this._end.isEqual(L._end)}intersection(L){const Y=j.Max(L.start,this._start),Ee=j.Min(L.end,this._end);if(!Y.isAfter(Ee))return new c(Y,Ee)}union(L){if(this.contains(L))return this;if(L.contains(this))return L;const Y=j.Min(L.start,this._start),Ee=j.Max(L.end,this.end);return new c(Y,Ee)}get isEmpty(){return this._start.isEqual(this._end)}get isSingleLine(){return this._start.line===this._end.line}with(L,Y=this.end){if(L===null||Y===null)throw(0,_.illegalArgument)();let Ee;return L?j.isPosition(L)?Ee=L:(Ee=L.start||this.start,Y=L.end||this.end):Ee=this.start,Ee.isEqual(this._start)&&Y.isEqual(this.end)?this:new c(Ee,Y)}toJSON(){return[this.start,this.end]}};F=c=Ne([$],F),e.Range=F;let G=a=class extends F{constructor(L,Y,Ee,xe){let tt,rt;if(typeof L=="number"&&typeof Y=="number"&&typeof Ee=="number"&&typeof xe=="number"?(tt=new j(L,Y),rt=new j(Ee,xe)):L instanceof j&&Y instanceof j&&(tt=L,rt=Y),!tt||!rt)throw new Error("Invalid arguments");super(tt,rt);this._anchor=tt,this._active=rt}static isSelection(L){return L instanceof a?!0:L?F.isRange(L)&&j.isPosition(L.anchor)&&j.isPosition(L.active)&&typeof L.isReversed=="boolean":!1}get anchor(){return this._anchor}get active(){return this._active}get isReversed(){return this._anchor===this._end}toJSON(){return{start:this.start,end:this.end,active:this.active,anchor:this.anchor}}};G=a=Ne([$],G),e.Selection=G;class R{constructor(L,Y,Ee){if(typeof L!="string"||L.length===0)throw(0,_.illegalArgument)("host");if(typeof Y!="number"||Y===0||Math.round(Y)!==Y)throw(0,_.illegalArgument)("port");if(typeof Ee!="undefined"&&(typeof Ee!="string"||Ee.length===0||!/^[0-9A-Za-z\-]+$/.test(Ee)))throw(0,_.illegalArgument)("connectionToken");this.host=L,this.port=Math.round(Y),this.connectionToken=Ee}}e.ResolvedAuthority=R;class B extends Error{constructor(L,Y=p.RemoteAuthorityResolverErrorCode.Unknown,Ee){super(L);this._message=L,this._code=Y,this._detail=Ee,typeof Object.setPrototypeOf=="function"&&Object.setPrototypeOf(this,B.prototype)}static NotAvailable(L,Y){return new B(L,p.RemoteAuthorityResolverErrorCode.NotAvailable,Y)}static TemporarilyNotAvailable(L){return new B(L,p.RemoteAuthorityResolverErrorCode.TemporarilyNotAvailable)}}e.RemoteAuthorityResolverError=B;var H;(function(O){O[O.LF=1]="LF",O[O.CRLF=2]="CRLF"})(H=e.EndOfLine||(e.EndOfLine={}));var q;(function(O){O[O.Replace=1]="Replace",O[O.Append=2]="Append",O[O.Prepend=3]="Prepend"})(q=e.EnvironmentVariableMutatorType||(e.EnvironmentVariableMutatorType={}));let W=l=class{constructor(L,Y){this._range=L,this._newText=Y}static isTextEdit(L){return L instanceof l?!0:L?F.isRange(L)&&typeof L.newText=="string":!1}static replace(L,Y){return new l(L,Y)}static insert(L,Y){return l.replace(new F(L,L),Y)}static delete(L){return l.replace(L,"")}static setEndOfLine(L){const Y=new l(new F(new j(0,0),new j(0,0)),"");return Y.newEol=L,Y}get range(){return this._range}set range(L){if(L&&!F.isRange(L))throw(0,_.illegalArgument)("range");this._range=L}get newText(){return this._newText||""}set newText(L){if(L&&typeof L!="string")throw(0,_.illegalArgument)("newText");this._newText=L}get newEol(){return this._newEol}set newEol(L){if(L&&typeof L!="number")throw(0,_.illegalArgument)("newEol");this._newEol=L}toJSON(){return{range:this.range,newText:this.newText,newEol:this._newEol}}};W=l=Ne([$],W),e.TextEdit=W;var U;(function(O){O[O.File=1]="File",O[O.Text=2]="Text",O[O.Cell=3]="Cell",O[O.CellReplace=5]="CellReplace"})(U=e.FileEditType||(e.FileEditType={}));let x=class{constructor(){this._edits=[]}_allEntries(){return this._edits}renameFile(L,Y,Ee,xe){this._edits.push({_type:1,from:L,to:Y,options:Ee,metadata:xe})}createFile(L,Y,Ee){this._edits.push({_type:1,from:void 0,to:L,options:Y,metadata:Ee})}deleteFile(L,Y,Ee){this._edits.push({_type:1,from:L,to:void 0,options:Y,metadata:Ee})}replaceNotebookMetadata(L,Y,Ee){this._edits.push({_type:3,metadata:Ee,uri:L,edit:{editType:5,metadata:Y},notebookMetadata:Y})}replaceNotebookCells(L,Y,Ee,xe,tt){let rt,st,ut=[],dt;if(kt.isNotebookRange(Y)&&Dt.isNotebookCellDataArray(Ee)&&!Dt.isNotebookCellDataArray(xe)?(rt=Y.start,st=Y.end,ut=Ee,dt=xe):typeof Y=="number"&&typeof Ee=="number"&&Dt.isNotebookCellDataArray(xe)&&(rt=Y,st=Ee,ut=xe,dt=tt),rt===void 0||st===void 0)throw new Error("Invalid arguments");(rt!==st||ut.length>0)&&this._edits.push({_type:5,uri:L,index:rt,count:st-rt,cells:ut,metadata:dt})}replaceNotebookCellMetadata(L,Y,Ee,xe){this._edits.push({_type:3,metadata:xe,uri:L,edit:{editType:8,index:Y,metadata:Ee}})}replace(L,Y,Ee,xe){this._edits.push({_type:2,uri:L,edit:new W(Y,Ee),metadata:xe})}insert(L,Y,Ee,xe){this.replace(L,new F(Y,Y),Ee,xe)}delete(L,Y,Ee){this.replace(L,Y,"",Ee)}has(L){return this._edits.some(Y=>Y._type===2&&Y.uri.toString()===L.toString())}set(L,Y){if(Y)for(const Ee of Y)Ee&&this._edits.push({_type:2,uri:L,edit:Ee});else{for(let Ee=0;Ee<this._edits.length;Ee++){const xe=this._edits[Ee];xe._type===2&&xe.uri.toString()===L.toString()&&(this._edits[Ee]=void 0)}(0,P.coalesceInPlace)(this._edits)}}get(L){const Y=[];for(let Ee of this._edits)Ee._type===2&&Ee.uri.toString()===L.toString()&&Y.push(Ee.edit);return Y}entries(){const L=new C.ResourceMap;for(let Y of this._edits)if(Y._type===2){let Ee=L.get(Y.uri);Ee||(Ee=[Y.uri,[]],L.set(Y.uri,Ee)),Ee[1].push(Y.edit)}return[...L.values()]}get size(){return this.entries().length}toJSON(){return this.entries()}};x=Ne([$],x),e.WorkspaceEdit=x;let z=n=class{constructor(L){this._tabstop=1,this.value=L||""}static isSnippetString(L){return L instanceof n?!0:L?typeof L.value=="string":!1}static _escape(L){return L.replace(/\$|}|\\/g,"\\$&")}appendText(L){return this.value+=n._escape(L),this}appendTabstop(L=this._tabstop++){return this.value+="$",this.value+=L,this}appendPlaceholder(L,Y=this._tabstop++){if(typeof L=="function"){const Ee=new n;Ee._tabstop=this._tabstop,L(Ee),this._tabstop=Ee._tabstop,L=Ee.value}else L=n._escape(L);return this.value+="${",this.value+=Y,this.value+=":",this.value+=L,this.value+="}",this}appendChoice(L,Y=this._tabstop++){const Ee=L.map(xe=>xe.replace(/\$|}|\\|,/g,"\\$&")).join(",");return this.value+="${",this.value+=Y,this.value+="|",this.value+=Ee,this.value+="|}",this}appendVariable(L,Y){if(typeof Y=="function"){const Ee=new n;Ee._tabstop=this._tabstop,Y(Ee),this._tabstop=Ee._tabstop,Y=Ee.value}else typeof Y=="string"&&(Y=Y.replace(/\$|}/g,"\\$&"));return this.value+="${",this.value+=L,Y&&(this.value+=":",this.value+=Y),this.value+="}",this}};z=n=Ne([$],z),e.SnippetString=z;var te;(function(O){O[O.Unnecessary=1]="Unnecessary",O[O.Deprecated=2]="Deprecated"})(te=e.DiagnosticTag||(e.DiagnosticTag={}));var X;(function(O){O[O.Hint=3]="Hint",O[O.Information=2]="Information",O[O.Warning=1]="Warning",O[O.Error=0]="Error"})(X=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));let me=s=class{constructor(L,Y){if(this.uri=L,Y)if(Y instanceof F)this.range=Y;else if(Y instanceof j)this.range=new F(Y,Y);else throw new Error("Illegal argument")}static isLocation(L){return L instanceof s?!0:L?F.isRange(L.range)&&E.URI.isUri(L.uri):!1}toJSON(){return{uri:this.uri,range:this.range}}};me=s=Ne([$],me),e.Location=me;let pe=class{constructor(L,Y){this.location=L,this.message=Y}static is(L){return L?typeof L.message=="string"&&L.location&&F.isRange(L.location.range)&&E.URI.isUri(L.location.uri):!1}static isEqual(L,Y){return L===Y?!0:!L||!Y?!1:L.message===Y.message&&L.location.range.isEqual(Y.location.range)&&L.location.uri.toString()===Y.location.uri.toString()}};pe=Ne([$],pe),e.DiagnosticRelatedInformation=pe;let se=class{constructor(L,Y,Ee=X.Error){if(!F.isRange(L))throw new TypeError("range must be set");if(!Y)throw new TypeError("message must be set");this.range=L,this.message=Y,this.severity=Ee}toJSON(){return{severity:X[this.severity],message:this.message,range:this.range,source:this.source,code:this.code}}static isEqual(L,Y){return L===Y?!0:!L||!Y?!1:L.message===Y.message&&L.severity===Y.severity&&L.code===Y.code&&L.severity===Y.severity&&L.source===Y.source&&L.range.isEqual(Y.range)&&(0,P.equals)(L.tags,Y.tags)&&(0,P.equals)(L.relatedInformation,Y.relatedInformation,pe.isEqual)}};se=Ne([$],se),e.Diagnostic=se;let ne=class{constructor(L,Y){if(!L)throw new Error("Illegal argument, contents must be defined");Array.isArray(L)?this.contents=L:this.contents=[L],this.range=Y}};ne=Ne([$],ne),e.Hover=ne;var Se;(function(O){O[O.Text=0]="Text",O[O.Read=1]="Read",O[O.Write=2]="Write"})(Se=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));let ye=class{constructor(L,Y=Se.Text){this.range=L,this.kind=Y}toJSON(){return{range:this.range,kind:Se[this.kind]}}};ye=Ne([$],ye),e.DocumentHighlight=ye;var Ae;(function(O){O[O.File=0]="File",O[O.Module=1]="Module",O[O.Namespace=2]="Namespace",O[O.Package=3]="Package",O[O.Class=4]="Class",O[O.Method=5]="Method",O[O.Property=6]="Property",O[O.Field=7]="Field",O[O.Constructor=8]="Constructor",O[O.Enum=9]="Enum",O[O.Interface=10]="Interface",O[O.Function=11]="Function",O[O.Variable=12]="Variable",O[O.Constant=13]="Constant",O[O.String=14]="String",O[O.Number=15]="Number",O[O.Boolean=16]="Boolean",O[O.Array=17]="Array",O[O.Object=18]="Object",O[O.Key=19]="Key",O[O.Null=20]="Null",O[O.EnumMember=21]="EnumMember",O[O.Struct=22]="Struct",O[O.Event=23]="Event",O[O.Operator=24]="Operator",O[O.TypeParameter=25]="TypeParameter"})(Ae=e.SymbolKind||(e.SymbolKind={}));var Fe;(function(O){O[O.Deprecated=1]="Deprecated"})(Fe=e.SymbolTag||(e.SymbolTag={}));let qe=r=class{constructor(L,Y,Ee,xe,tt){this.name=L,this.kind=Y,this.containerName=tt,typeof Ee=="string"&&(this.containerName=Ee),xe instanceof me?this.location=xe:Ee instanceof F&&(this.location=new me(xe,Ee)),r.validate(this)}static validate(L){if(!L.name)throw new Error("name must not be falsy")}toJSON(){return{name:this.name,kind:Ae[this.kind],location:this.location,containerName:this.containerName}}};qe=r=Ne([$],qe),e.SymbolInformation=qe;let Be=t=class{constructor(L,Y,Ee,xe,tt){this.name=L,this.detail=Y,this.kind=Ee,this.range=xe,this.selectionRange=tt,this.children=[],t.validate(this)}static validate(L){if(!L.name)throw new Error("name must not be falsy");if(!L.range.contains(L.selectionRange))throw new Error("selectionRange must be contained in fullRange");L.children&&L.children.forEach(t.validate)}};Be=t=Ne([$],Be),e.DocumentSymbol=Be;var nt;(function(O){O[O.Invoke=1]="Invoke",O[O.Automatic=2]="Automatic"})(nt=e.CodeActionTriggerKind||(e.CodeActionTriggerKind={}));let ge=class{constructor(L,Y){this.title=L,this.kind=Y}};ge=Ne([$],ge),e.CodeAction=ge;let ve=o=class{constructor(L){this.value=L}append(L){return new o(this.value?this.value+o.sep+L:L)}intersects(L){return this.contains(L)||L.contains(this)}contains(L){return this.value===L.value||L.value.startsWith(this.value+o.sep)}};ve.sep=".",ve=o=Ne([$],ve),e.CodeActionKind=ve,ve.Empty=new ve(""),ve.QuickFix=ve.Empty.append("quickfix"),ve.Refactor=ve.Empty.append("refactor"),ve.RefactorExtract=ve.Refactor.append("extract"),ve.RefactorInline=ve.Refactor.append("inline"),ve.RefactorRewrite=ve.Refactor.append("rewrite"),ve.Source=ve.Empty.append("source"),ve.SourceOrganizeImports=ve.Source.append("organizeImports"),ve.SourceFixAll=ve.Source.append("fixAll");let Pe=class{constructor(L,Y){if(this.range=L,this.parent=Y,Y&&!Y.range.contains(this.range))throw new Error("Invalid argument: parent must contain this range")}};Pe=Ne([$],Pe),e.SelectionRange=Pe;class Le{constructor(L,Y,Ee,xe,tt,rt){this.kind=L,this.name=Y,this.detail=Ee,this.uri=xe,this.range=tt,this.selectionRange=rt}}e.CallHierarchyItem=Le;class Me{constructor(L,Y){this.fromRanges=Y,this.from=L}}e.CallHierarchyIncomingCall=Me;class He{constructor(L,Y){this.fromRanges=Y,this.to=L}}e.CallHierarchyOutgoingCall=He;var Ye;(function(O){O[O.Information=0]="Information",O[O.Warning=1]="Warning",O[O.Error=2]="Error"})(Ye=e.LanguageStatusSeverity||(e.LanguageStatusSeverity={}));let Ze=class{constructor(L,Y){this.range=L,this.command=Y}get isResolved(){return!!this.command}};Ze=Ne([$],Ze),e.CodeLens=Ze;let ot=u=class{constructor(L,Y=!1){f.set(this,void 0),Pt(this,f,new y.MarkdownString(L,{supportThemeIcons:Y}),"f")}static isMarkdownString(L){return L instanceof u?!0:L&&L.appendCodeblock&&L.appendMarkdown&&L.appendText&&L.value!==void 0}get value(){return ct(this,f,"f").value}set value(L){ct(this,f,"f").value=L}get isTrusted(){return ct(this,f,"f").isTrusted}set isTrusted(L){ct(this,f,"f").isTrusted=L}get supportThemeIcons(){return ct(this,f,"f").supportThemeIcons}set supportThemeIcons(L){ct(this,f,"f").supportThemeIcons=L}get supportHtml(){return ct(this,f,"f").supportHtml}set supportHtml(L){ct(this,f,"f").supportHtml=L}appendText(L){return ct(this,f,"f").appendText(L),this}appendMarkdown(L){return ct(this,f,"f").appendMarkdown(L),this}appendCodeblock(L,Y){return ct(this,f,"f").appendCodeblock(Y??"",L),this}};f=new WeakMap,ot=u=Ne([$],ot),e.MarkdownString=ot;let ae=class{constructor(L,Y){this.label=L,this.documentation=Y}};ae=Ne([$],ae),e.ParameterInformation=ae;let be=class{constructor(L,Y){this.label=L,this.documentation=Y,this.parameters=[]}};be=Ne([$],be),e.SignatureInformation=be;let Ie=class{constructor(){this.activeSignature=0,this.activeParameter=0,this.signatures=[]}};Ie=Ne([$],Ie),e.SignatureHelp=Ie;var We;(function(O){O[O.Invoke=1]="Invoke",O[O.TriggerCharacter=2]="TriggerCharacter",O[O.ContentChange=3]="ContentChange"})(We=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var Xe;(function(O){O[O.Other=0]="Other",O[O.Type=1]="Type",O[O.Parameter=2]="Parameter"})(Xe=e.InlayHintKind||(e.InlayHintKind={}));let at=class{constructor(L,Y,Ee){this.text=L,this.position=Y,this.kind=Ee}};at=Ne([$],at),e.InlayHint=at;var it;(function(O){O[O.Invoke=0]="Invoke",O[O.TriggerCharacter=1]="TriggerCharacter",O[O.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(it=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var ee;(function(O){O[O.Text=0]="Text",O[O.Method=1]="Method",O[O.Function=2]="Function",O[O.Constructor=3]="Constructor",O[O.Field=4]="Field",O[O.Variable=5]="Variable",O[O.Class=6]="Class",O[O.Interface=7]="Interface",O[O.Module=8]="Module",O[O.Property=9]="Property",O[O.Unit=10]="Unit",O[O.Value=11]="Value",O[O.Enum=12]="Enum",O[O.Keyword=13]="Keyword",O[O.Snippet=14]="Snippet",O[O.Color=15]="Color",O[O.File=16]="File",O[O.Reference=17]="Reference",O[O.Folder=18]="Folder",O[O.EnumMember=19]="EnumMember",O[O.Constant=20]="Constant",O[O.Struct=21]="Struct",O[O.Event=22]="Event",O[O.Operator=23]="Operator",O[O.TypeParameter=24]="TypeParameter",O[O.User=25]="User",O[O.Issue=26]="Issue"})(ee=e.CompletionItemKind||(e.CompletionItemKind={}));var De;(function(O){O[O.Deprecated=1]="Deprecated"})(De=e.CompletionItemTag||(e.CompletionItemTag={}));let Te=class{constructor(L,Y){this.label=L,this.kind=Y}toJSON(){return{label:this.label,kind:this.kind&&ee[this.kind],detail:this.detail,documentation:this.documentation,sortText:this.sortText,filterText:this.filterText,preselect:this.preselect,insertText:this.insertText,textEdit:this.textEdit}}};Te=Ne([$],Te),e.CompletionItem=Te;let $e=class{constructor(L=[],Y=!1){this.items=L,this.isIncomplete=Y}};$e=Ne([$],$e),e.CompletionList=$e;let Ve=class{constructor(L,Y,Ee){this.text=L,this.range=Y,this.command=Ee}};Ve=Ne([$],Ve),e.InlineSuggestion=Ve;let et=class{constructor(L){this.items=L}};et=Ne([$],et),e.InlineSuggestions=et;var Ue;(function(O){O[O.Active=-1]="Active",O[O.Beside=-2]="Beside",O[O.One=1]="One",O[O.Two=2]="Two",O[O.Three=3]="Three",O[O.Four=4]="Four",O[O.Five=5]="Five",O[O.Six=6]="Six",O[O.Seven=7]="Seven",O[O.Eight=8]="Eight",O[O.Nine=9]="Nine"})(Ue=e.ViewColumn||(e.ViewColumn={}));var ke;(function(O){O[O.Left=1]="Left",O[O.Right=2]="Right"})(ke=e.StatusBarAlignment||(e.StatusBarAlignment={}));var re;(function(O){O[O.Off=0]="Off",O[O.On=1]="On",O[O.Relative=2]="Relative"})(re=e.TextEditorLineNumbersStyle||(e.TextEditorLineNumbersStyle={}));var ie;(function(O){O[O.Manual=1]="Manual",O[O.AfterDelay=2]="AfterDelay",O[O.FocusOut=3]="FocusOut"})(ie=e.TextDocumentSaveReason||(e.TextDocumentSaveReason={}));var fe;(function(O){O[O.Default=0]="Default",O[O.InCenter=1]="InCenter",O[O.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",O[O.AtTop=3]="AtTop"})(fe=e.TextEditorRevealType||(e.TextEditorRevealType={}));var V;(function(O){O[O.Keyboard=1]="Keyboard",O[O.Mouse=2]="Mouse",O[O.Command=3]="Command"})(V=e.TextEditorSelectionChangeKind||(e.TextEditorSelectionChangeKind={}));var J;(function(O){O[O.Undo=1]="Undo",O[O.Redo=2]="Redo"})(J=e.TextDocumentChangeReason||(e.TextDocumentChangeReason={}));var ce;(function(O){O[O.OpenOpen=0]="OpenOpen",O[O.ClosedClosed=1]="ClosedClosed",O[O.OpenClosed=2]="OpenClosed",O[O.ClosedOpen=3]="ClosedOpen"})(ce=e.DecorationRangeBehavior||(e.DecorationRangeBehavior={})),function(O){function L(Y){switch(Y){case"keyboard":return O.Keyboard;case"mouse":return O.Mouse;case"api":return O.Command}}O.fromValue=L}(V=e.TextEditorSelectionChangeKind||(e.TextEditorSelectionChangeKind={}));let oe=class{constructor(L,Y){if(Y&&!E.URI.isUri(Y))throw(0,_.illegalArgument)("target");if(!F.isRange(L)||L.isEmpty)throw(0,_.illegalArgument)("range");this.range=L,this.target=Y}};oe=Ne([$],oe),e.DocumentLink=oe;let Ce=class{constructor(L,Y,Ee,xe){this.red=L,this.green=Y,this.blue=Ee,this.alpha=xe}};Ce=Ne([$],Ce),e.Color=Ce;let Oe=class{constructor(L,Y){if(Y&&!(Y instanceof Ce))throw(0,_.illegalArgument)("color");if(!F.isRange(L)||L.isEmpty)throw(0,_.illegalArgument)("range");this.range=L,this.color=Y}};Oe=Ne([$],Oe),e.ColorInformation=Oe;let Re=class{constructor(L){if(!L||typeof L!="string")throw(0,_.illegalArgument)("label");this.label=L}};Re=Ne([$],Re),e.ColorPresentation=Re;var je;(function(O){O[O.RGB=0]="RGB",O[O.HEX=1]="HEX",O[O.HSL=2]="HSL"})(je=e.ColorFormat||(e.ColorFormat={}));var Ke;(function(O){O[O.Error=0]="Error",O[O.Warning=1]="Warning",O[O.Information=2]="Information"})(Ke=e.SourceControlInputBoxValidationType||(e.SourceControlInputBoxValidationType={}));class Je{constructor(L,Y,Ee){if(this.startIndex=L,this.length=Y,this.tooltip=Ee,typeof L!="number"||L<0)throw(0,_.illegalArgument)("startIndex");if(typeof Y!="number"||Y<1)throw(0,_.illegalArgument)("length");if(Ee!==void 0&&typeof Ee!="string")throw(0,_.illegalArgument)("tooltip")}}e.TerminalLink=Je;var le;(function(O){O[O.Panel=1]="Panel",O[O.Editor=2]="Editor"})(le=e.TerminalLocation||(e.TerminalLocation={}));class ue{constructor(L){this.options=L,typeof L!="object"&&(0,_.illegalArgument)("options")}}e.TerminalProfile=ue;var Q;(function(O){O[O.Always=1]="Always",O[O.Silent=2]="Silent",O[O.Never=3]="Never"})(Q=e.TaskRevealKind||(e.TaskRevealKind={}));var M;(function(O){O[O.Shared=1]="Shared",O[O.Dedicated=2]="Dedicated",O[O.New=3]="New"})(M=e.TaskPanelKind||(e.TaskPanelKind={}));let we=v=class{constructor(L,Y){if(this.label=Y,typeof L!="string"||typeof Y!="string")throw(0,_.illegalArgument)("name");this._id=L}static from(L){switch(L){case"clean":return v.Clean;case"build":return v.Build;case"rebuild":return v.Rebuild;case"test":return v.Test;default:return}}get id(){return this._id}};we.Clean=new v("clean","Clean"),we.Build=new v("build","Build"),we.Rebuild=new v("rebuild","Rebuild"),we.Test=new v("test","Test"),we=v=Ne([$],we),e.TaskGroup=we;function _e(O){let L="";for(let Y=0;Y<O.length;Y++)L+=O[Y].replace(/,/g,",,")+",";return L}let Qe=class{constructor(L,Y,Ee){if(typeof L!="string")throw(0,_.illegalArgument)("process");this._args=[],this._process=L,Y!==void 0&&(Array.isArray(Y)?(this._args=Y,this._options=Ee):this._options=Y)}get process(){return this._process}set process(L){if(typeof L!="string")throw(0,_.illegalArgument)("process");this._process=L}get args(){return this._args}set args(L){Array.isArray(L)||(L=[]),this._args=L}get options(){return this._options}set options(L){this._options=L}computeId(){const L=[];if(L.push("process"),this._process!==void 0&&L.push(this._process),this._args&&this._args.length>0)for(let Y of this._args)L.push(Y);return _e(L)}};Qe=Ne([$],Qe),e.ProcessExecution=Qe;let ze=class{constructor(L,Y,Ee){if(this._args=[],Array.isArray(Y)){if(!L)throw(0,_.illegalArgument)("command can't be undefined or null");if(typeof L!="string"&&typeof L.value!="string")throw(0,_.illegalArgument)("command");this._command=L,this._args=Y,this._options=Ee}else{if(typeof L!="string")throw(0,_.illegalArgument)("commandLine");this._commandLine=L,this._options=Y}}get commandLine(){return this._commandLine}set commandLine(L){if(typeof L!="string")throw(0,_.illegalArgument)("commandLine");this._commandLine=L}get command(){return this._command?this._command:""}set command(L){if(typeof L!="string"&&typeof L.value!="string")throw(0,_.illegalArgument)("command");this._command=L}get args(){return this._args}set args(L){this._args=L||[]}get options(){return this._options}set options(L){this._options=L}computeId(){const L=[];if(L.push("shell"),this._commandLine!==void 0&&L.push(this._commandLine),this._command!==void 0&&L.push(typeof this._command=="string"?this._command:this._command.value),this._args&&this._args.length>0)for(let Y of this._args)L.push(typeof Y=="string"?Y:Y.value);return _e(L)}};ze=Ne([$],ze),e.ShellExecution=ze;var lt;(function(O){O[O.Escape=1]="Escape",O[O.Strong=2]="Strong",O[O.Weak=3]="Weak"})(lt=e.ShellQuoting||(e.ShellQuoting={}));var ht;(function(O){O[O.Global=1]="Global",O[O.Workspace=2]="Workspace"})(ht=e.TaskScope||(e.TaskScope={}));class mt{constructor(L){this._callback=L}computeId(){return"customExecution"+(0,i.generateUuid)()}set callback(L){this._callback=L}get callback(){return this._callback}}e.CustomExecution=mt;let ft=D=class{constructor(L,Y,Ee,xe,tt,rt){this.__deprecated=!1,this._definition=this.definition=L;let st;typeof Y=="string"?(this._name=this.name=Y,this._source=this.source=Ee,this.execution=xe,st=tt,this.__deprecated=!0):Y===ht.Global||Y===ht.Workspace?(this.target=Y,this._name=this.name=Ee,this._source=this.source=xe,this.execution=tt,st=rt):(this.target=Y,this._name=this.name=Ee,this._source=this.source=xe,this.execution=tt,st=rt),typeof st=="string"?(this._problemMatchers=[st],this._hasDefinedMatchers=!0):Array.isArray(st)?(this._problemMatchers=st,this._hasDefinedMatchers=!0):(this._problemMatchers=[],this._hasDefinedMatchers=!1),this._isBackground=!1,this._presentationOptions=Object.create(null),this._runOptions=Object.create(null)}get _id(){return this.__id}set _id(L){this.__id=L}get _deprecated(){return this.__deprecated}clear(){this.__id!==void 0&&(this.__id=void 0,this._scope=void 0,this.computeDefinitionBasedOnExecution())}computeDefinitionBasedOnExecution(){this._execution instanceof Qe?this._definition={type:D.ProcessType,id:this._execution.computeId()}:this._execution instanceof ze?this._definition={type:D.ShellType,id:this._execution.computeId()}:this._execution instanceof mt?this._definition={type:D.ExtensionCallbackType,id:this._execution.computeId()}:this._definition={type:D.EmptyType,id:(0,i.generateUuid)()}}get definition(){return this._definition}set definition(L){if(L==null)throw(0,_.illegalArgument)("Kind can't be undefined or null");this.clear(),this._definition=L}get scope(){return this._scope}set target(L){this.clear(),this._scope=L}get name(){return this._name}set name(L){if(typeof L!="string")throw(0,_.illegalArgument)("name");this.clear(),this._name=L}get execution(){return this._execution}set execution(L){L===null&&(L=void 0),this.clear(),this._execution=L;const Y=this._definition.type;(D.EmptyType===Y||D.ProcessType===Y||D.ShellType===Y||D.ExtensionCallbackType===Y)&&this.computeDefinitionBasedOnExecution()}get problemMatchers(){return this._problemMatchers}set problemMatchers(L){if(Array.isArray(L))this.clear(),this._problemMatchers=L,this._hasDefinedMatchers=!0;else{this.clear(),this._problemMatchers=[],this._hasDefinedMatchers=!1;return}}get hasDefinedMatchers(){return this._hasDefinedMatchers}get isBackground(){return this._isBackground}set isBackground(L){L!==!0&&L!==!1&&(L=!1),this.clear(),this._isBackground=L}get source(){return this._source}set source(L){if(typeof L!="string"||L.length===0)throw(0,_.illegalArgument)("source must be a string of length > 0");this.clear(),this._source=L}get group(){return this._group}set group(L){L===null&&(L=void 0),this.clear(),this._group=L}get detail(){return this._detail}set detail(L){L===null&&(L=void 0),this._detail=L}get presentationOptions(){return this._presentationOptions}set presentationOptions(L){L==null&&(L=Object.create(null)),this.clear(),this._presentationOptions=L}get runOptions(){return this._runOptions}set runOptions(L){L==null&&(L=Object.create(null)),this.clear(),this._runOptions=L}};ft.ExtensionCallbackType="customExecution",ft.ProcessType="process",ft.ShellType="shell",ft.EmptyType="$empty",ft=D=Ne([$],ft),e.Task=ft;var gt;(function(O){O[O.SourceControl=1]="SourceControl",O[O.Window=10]="Window",O[O.Notification=15]="Notification"})(gt=e.ProgressLocation||(e.ProgressLocation={}));let vt=class{constructor(L,Y=on.None){this.collapsibleState=Y,E.URI.isUri(L)?this.resourceUri=L:this.label=L}};vt=Ne([$],vt),e.TreeItem=vt;var on;(function(O){O[O.None=0]="None",O[O.Collapsed=1]="Collapsed",O[O.Expanded=2]="Expanded"})(on=e.TreeItemCollapsibleState||(e.TreeItemCollapsibleState={}));let bt=class{constructor(L,Y){this.id=L,this.color=Y}};bt=Ne([$],bt),e.ThemeIcon=bt,bt.File=new bt("file"),bt.Folder=new bt("folder");let Lt=class{constructor(L){this.id=L}};Lt=Ne([$],Lt),e.ThemeColor=Lt;var ln;(function(O){O[O.Global=1]="Global",O[O.Workspace=2]="Workspace",O[O.WorkspaceFolder=3]="WorkspaceFolder"})(ln=e.ConfigurationTarget||(e.ConfigurationTarget={}));let Ft=class{constructor(L,Y){if(typeof L!="string"&&(!L||!E.URI.isUri(L)&&!E.URI.isUri(L.uri)))throw(0,_.illegalArgument)("base");if(typeof Y!="string")throw(0,_.illegalArgument)("pattern");typeof L=="string"?(this.baseFolder=E.URI.file(L),this.base=L):E.URI.isUri(L)?(this.baseFolder=L,this.base=L.fsPath):(this.baseFolder=L.uri,this.base=L.uri.fsPath),this.pattern=Y}};Ft=Ne([$],Ft),e.RelativePattern=Ft;let Ct=class{constructor(L,Y,Ee,xe){this.enabled=typeof L=="boolean"?L:!0,typeof Y=="string"&&(this.condition=Y),typeof Ee=="string"&&(this.hitCondition=Ee),typeof xe=="string"&&(this.logMessage=xe)}get id(){return this._id||(this._id=(0,i.generateUuid)()),this._id}};Ct=Ne([$],Ct),e.Breakpoint=Ct;let Ot=class extends Ct{constructor(L,Y,Ee,xe,tt){super(Y,Ee,xe,tt);if(L===null)throw(0,_.illegalArgument)("location");this.location=L}};Ot=Ne([$],Ot),e.SourceBreakpoint=Ot;let Nt=class extends Ct{constructor(L,Y,Ee,xe,tt){super(Y,Ee,xe,tt);this.functionName=L}};Nt=Ne([$],Nt),e.FunctionBreakpoint=Nt;let Mt=class extends Ct{constructor(L,Y,Ee,xe,tt,rt,st){super(xe,tt,rt,st);if(!Y)throw(0,_.illegalArgument)("dataId");this.label=L,this.dataId=Y,this.canPersist=Ee}};Mt=Ne([$],Mt),e.DataBreakpoint=Mt;let Ut=class{constructor(L,Y,Ee){this.command=L,this.args=Y||[],this.options=Ee}};Ut=Ne([$],Ut),e.DebugAdapterExecutable=Ut;let Bt=class{constructor(L,Y){this.port=L,this.host=Y}};Bt=Ne([$],Bt),e.DebugAdapterServer=Bt;let zt=class{constructor(L){this.path=L}};zt=Ne([$],zt),e.DebugAdapterNamedPipeServer=zt;let $t=class{constructor(L){this.implementation=L}};$t=Ne([$],$t),e.DebugAdapterInlineImplementation=$t;let Wt=class{constructor(L,Y){this.range=L,this.expression=Y}};Wt=Ne([$],Wt),e.EvaluatableExpression=Wt;var cn;(function(O){O[O.Automatic=0]="Automatic",O[O.Explicit=1]="Explicit"})(cn=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));let jt=class{constructor(L,Y){this.range=L,this.text=Y}};jt=Ne([$],jt),e.InlineValueText=jt;let Ht=class{constructor(L,Y,Ee=!0){this.range=L,this.variableName=Y,this.caseSensitiveLookup=Ee}};Ht=Ne([$],Ht),e.InlineValueVariableLookup=Ht;let qt=class{constructor(L,Y){this.range=L,this.expression=Y}};qt=Ne([$],qt),e.InlineValueEvaluatableExpression=qt;let Vt=class{constructor(L,Y){this.frameId=L,this.stoppedLocation=Y}};Vt=Ne([$],Vt),e.InlineValueContext=Vt;var un;(function(O){O[O.Changed=1]="Changed",O[O.Created=2]="Created",O[O.Deleted=3]="Deleted"})(un=e.FileChangeType||(e.FileChangeType={}));let xt=h=class extends Error{constructor(L,Y=T.FileSystemProviderErrorCode.Unknown,Ee){super(E.URI.isUri(L)?L.toString(!0):L);this.code=Ee?.name??"Unknown",(0,T.markAsFileSystemProviderError)(this,Y),typeof Object.setPrototypeOf=="function"&&Object.setPrototypeOf(this,h.prototype),typeof Error.captureStackTrace=="function"&&typeof Ee=="function"&&Error.captureStackTrace(this,Ee)}static FileExists(L){return new h(L,T.FileSystemProviderErrorCode.FileExists,h.FileExists)}static FileNotFound(L){return new h(L,T.FileSystemProviderErrorCode.FileNotFound,h.FileNotFound)}static FileNotADirectory(L){return new h(L,T.FileSystemProviderErrorCode.FileNotADirectory,h.FileNotADirectory)}static FileIsADirectory(L){return new h(L,T.FileSystemProviderErrorCode.FileIsADirectory,h.FileIsADirectory)}static NoPermissions(L){return new h(L,T.FileSystemProviderErrorCode.NoPermissions,h.NoPermissions)}static Unavailable(L){return new h(L,T.FileSystemProviderErrorCode.Unavailable,h.Unavailable)}};xt=h=Ne([$],xt),e.FileSystemError=xt;let Gt=class{constructor(L,Y,Ee){this.start=L,this.end=Y,this.kind=Ee}};Gt=Ne([$],Gt),e.FoldingRange=Gt;var fn;(function(O){O[O.Comment=1]="Comment",O[O.Imports=2]="Imports",O[O.Region=3]="Region"})(fn=e.FoldingRangeKind||(e.FoldingRangeKind={}));var hn;(function(O){O[O.Collapsed=0]="Collapsed",O[O.Expanded=1]="Expanded"})(hn=e.CommentThreadCollapsibleState||(e.CommentThreadCollapsibleState={}));var dn;(function(O){O[O.Editing=0]="Editing",O[O.Preview=1]="Preview"})(dn=e.CommentMode||(e.CommentMode={}));class mn{constructor(L,Y=[]){this.tokenTypes=L,this.tokenModifiers=Y}}e.SemanticTokensLegend=mn;function gn(O){return typeof O=="undefined"||(0,m.isStringArray)(O)}class Kt{constructor(L){if(this._prevLine=0,this._prevChar=0,this._dataIsSortedAndDeltaEncoded=!0,this._data=[],this._dataLen=0,this._tokenTypeStrToInt=new Map,this._tokenModifierStrToInt=new Map,this._hasLegend=!1,L){this._hasLegend=!0;for(let Y=0,Ee=L.tokenTypes.length;Y<Ee;Y++)this._tokenTypeStrToInt.set(L.tokenTypes[Y],Y);for(let Y=0,Ee=L.tokenModifiers.length;Y<Ee;Y++)this._tokenModifierStrToInt.set(L.tokenModifiers[Y],Y)}}push(L,Y,Ee,xe,tt){if(typeof L=="number"&&typeof Y=="number"&&typeof Ee=="number"&&typeof xe=="number"&&(typeof tt=="number"||typeof tt=="undefined"))return typeof tt=="undefined"&&(tt=0),this._pushEncoded(L,Y,Ee,xe,tt);if(F.isRange(L)&&typeof Y=="string"&&gn(Ee))return this._push(L,Y,Ee);throw(0,_.illegalArgument)()}_push(L,Y,Ee){if(!this._hasLegend)throw new Error("Legend must be provided in constructor");if(L.start.line!==L.end.line)throw new Error("`range` cannot span multiple lines");if(!this._tokenTypeStrToInt.has(Y))throw new Error("`tokenType` is not in the provided legend");const xe=L.start.line,tt=L.start.character,rt=L.end.character-L.start.character,st=this._tokenTypeStrToInt.get(Y);let ut=0;if(Ee)for(const dt of Ee){if(!this._tokenModifierStrToInt.has(dt))throw new Error("`tokenModifier` is not in the provided legend");const yt=this._tokenModifierStrToInt.get(dt);ut|=1<<yt>>>0}this._pushEncoded(xe,tt,rt,st,ut)}_pushEncoded(L,Y,Ee,xe,tt){if(this._dataIsSortedAndDeltaEncoded&&(L<this._prevLine||L===this._prevLine&&Y<this._prevChar)){this._dataIsSortedAndDeltaEncoded=!1;const ut=this._data.length/5|0;let dt=0,yt=0;for(let wt=0;wt<ut;wt++){let Et=this._data[5*wt],_t=this._data[5*wt+1];Et===0?(Et=dt,_t+=yt):Et+=dt,this._data[5*wt]=Et,this._data[5*wt+1]=_t,dt=Et,yt=_t}}let rt=L,st=Y;this._dataIsSortedAndDeltaEncoded&&this._dataLen>0&&(rt-=this._prevLine,rt===0&&(st-=this._prevChar)),this._data[this._dataLen++]=rt,this._data[this._dataLen++]=st,this._data[this._dataLen++]=Ee,this._data[this._dataLen++]=xe,this._data[this._dataLen++]=tt,this._prevLine=L,this._prevChar=Y}static _sortAndDeltaEncode(L){let Y=[];const Ee=L.length/5|0;for(let st=0;st<Ee;st++)Y[st]=st;Y.sort((st,ut)=>{const dt=L[5*st],yt=L[5*ut];if(dt===yt){const wt=L[5*st+1],Et=L[5*ut+1];return wt-Et}return dt-yt});const xe=new Uint32Array(L.length);let tt=0,rt=0;for(let st=0;st<Ee;st++){const ut=5*Y[st],dt=L[ut+0],yt=L[ut+1],wt=L[ut+2],Et=L[ut+3],_t=L[ut+4],an=dt-tt,jn=an===0?yt-rt:yt,Tt=5*st;xe[Tt+0]=an,xe[Tt+1]=jn,xe[Tt+2]=wt,xe[Tt+3]=Et,xe[Tt+4]=_t,tt=dt,rt=yt}return xe}build(L){return this._dataIsSortedAndDeltaEncoded?new Yt(new Uint32Array(this._data),L):new Yt(Kt._sortAndDeltaEncode(this._data),L)}}e.SemanticTokensBuilder=Kt;class Yt{constructor(L,Y){this.resultId=Y,this.data=L}}e.SemanticTokens=Yt;class vn{constructor(L,Y,Ee){this.start=L,this.deleteCount=Y,this.data=Ee}}e.SemanticTokensEdit=vn;class pn{constructor(L,Y){this.resultId=Y,this.edits=L}}e.SemanticTokensEdits=pn;var yn;(function(O){O[O.Separate=0]="Separate",O[O.MergeWithParent=1]="MergeWithParent"})(yn=e.DebugConsoleMode||(e.DebugConsoleMode={}));var wn;(function(O){O[O.Initial=1]="Initial",O[O.Dynamic=2]="Dynamic"})(wn=e.DebugConfigurationProviderTriggerKind||(e.DebugConfigurationProviderTriggerKind={}));let At=class{constructor(){}};At.Back={iconPath:new bt("arrow-left")},At=Ne([$],At),e.QuickInputButtons=At;var En;(function(O){O[O.UI=1]="UI",O[O.Workspace=2]="Workspace"})(En=e.ExtensionKind||(e.ExtensionKind={}));class bn{constructor(L,Y,Ee){this.badge=L,this.tooltip=Y,this.color=Ee}static validate(L){if(L.badge){let Y=(0,k.nextCharLength)(L.badge,0);if(Y<L.badge.length&&(Y+=(0,k.nextCharLength)(L.badge,Y)),L.badge.length>Y)throw new Error("The 'badge'-property must be undefined or a short character")}if(!L.color&&!L.badge&&!L.tooltip)throw new Error("The decoration is empty");return!0}}e.FileDecoration=bn;let Xt=class{constructor(L){this.kind=L}};Xt=Ne([$],Xt),e.ColorTheme=Xt;var Sn;(function(O){O[O.Light=1]="Light",O[O.Dark=2]="Dark",O[O.HighContrast=3]="HighContrast"})(Sn=e.ColorThemeKind||(e.ColorThemeKind={}));class kt{constructor(L,Y){if(L<0)throw(0,_.illegalArgument)("start must be positive");if(Y<0)throw(0,_.illegalArgument)("end must be positive");L<=Y?(this._start=L,this._end=Y):(this._start=Y,this._end=L)}static isNotebookRange(L){return L instanceof kt?!0:L?typeof L.start=="number"&&typeof L.end=="number":!1}get start(){return this._start}get end(){return this._end}get isEmpty(){return this._start===this._end}with(L){let Y=this._start,Ee=this._end;return L.start!==void 0&&(Y=L.start),L.end!==void 0&&(Ee=L.end),Y===this._start&&Ee===this._end?this:new kt(Y,Ee)}}e.NotebookRange=kt;class Dt{constructor(L,Y,Ee,xe,tt,rt,st){this.kind=L,this.value=Y,this.languageId=Ee,this.mime=xe,this.outputs=tt??[],this.metadata=rt,this.executionSummary=st,Dt.validate(this)}static validate(L){if(typeof L.kind!="number")throw new Error("NotebookCellData MUST have 'kind' property");if(typeof L.value!="string")throw new Error("NotebookCellData MUST have 'value' property");if(typeof L.languageId!="string")throw new Error("NotebookCellData MUST have 'languageId' property")}static isNotebookCellDataArray(L){return Array.isArray(L)&&L.every(Y=>Dt.isNotebookCellData(Y))}static isNotebookCellData(L){return!0}}e.NotebookCellData=Dt;class Dn{constructor(L){this.cells=L}}e.NotebookData=Dn;class pt{constructor(L,Y){this.data=L,this.mime=Y;const Ee=(0,I.normalizeMimeType)(Y,!0);if(!Ee)throw new Error(`INVALID mime type: ${Y}. Must be in the format "type/subtype[;optionalparameter]"`);this.mime=Ee}static isNotebookCellOutputItem(L){return L instanceof pt?!0:L?typeof L.mime=="string"&&L.data instanceof Uint8Array:!1}static error(L){const Y={name:L.name,message:L.message,stack:L.stack};return pt.json(Y,"application/vnd.code.notebook.error")}static stdout(L){return pt.text(L,"application/vnd.code.notebook.stdout")}static stderr(L){return pt.text(L,"application/vnd.code.notebook.stderr")}static bytes(L,Y="application/octet-stream"){return new pt(L,Y)}static text(L,Y=I.Mimes.text){const Ee=ct(pt,w,"f",d).encode(String(L));return new pt(Ee,Y)}static json(L,Y="application/json"){const Ee=JSON.stringify(L,void 0,"	");return pt.text(Ee,Y)}}e.NotebookCellOutputItem=pt,w=pt,d={value:new TextEncoder};class Rt{constructor(L,Y,Ee){this.items=Rt.ensureUniqueMimeTypes(L,!0),typeof Y=="string"?(this.id=Y,this.metadata=Ee):(this.id=(0,i.generateUuid)(),this.metadata=Y??Ee)}static isNotebookCellOutput(L){return L instanceof Rt?!0:!L||typeof L!="object"?!1:typeof L.id=="string"&&(0,m.isArray)(L.items)}static ensureUniqueMimeTypes(L,Y=!1){const Ee=new Set,xe=new Set;for(let tt=0;tt<L.length;tt++){const rt=L[tt],st=(0,I.normalizeMimeType)(rt.mime);if(!Ee.has(st)){Ee.add(st);continue}xe.add(tt),Y&&console.warn(`DUPLICATED mime type '${rt.mime}' will be dropped`)}return xe.size===0?L:L.filter((tt,rt)=>!xe.has(rt))}}e.NotebookCellOutput=Rt;var Cn;(function(O){O[O.Markup=1]="Markup",O[O.Code=2]="Code"})(Cn=e.NotebookCellKind||(e.NotebookCellKind={}));var In;(function(O){O[O.Idle=1]="Idle",O[O.Pending=2]="Pending",O[O.Executing=3]="Executing"})(In=e.NotebookCellExecutionState||(e.NotebookCellExecutionState={}));var Pn;(function(O){O[O.Left=1]="Left",O[O.Right=2]="Right"})(Pn=e.NotebookCellStatusBarAlignment||(e.NotebookCellStatusBarAlignment={}));var kn;(function(O){O[O.Default=0]="Default",O[O.InCenter=1]="InCenter",O[O.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",O[O.AtTop=3]="AtTop"})(kn=e.NotebookEditorRevealType||(e.NotebookEditorRevealType={}));class _n{constructor(L,Y){this.text=L,this.alignment=Y}}e.NotebookCellStatusBarItem=_n;var Tn;(function(O){O[O.Default=1]="Default",O[O.Preferred=2]="Preferred"})(Tn=e.NotebookControllerAffinity||(e.NotebookControllerAffinity={}));class An{constructor(L,Y=[]){this.uri=L,this.provides=(0,P.asArray)(Y)}}e.NotebookRendererScript=An;let Qt=class{constructor(L,Y){this.label=L,this.timestamp=Y}};Qt=Ne([$],Qt),e.TimelineItem=Qt;var Rn;(function(O){O[O.Production=1]="Production",O[O.Development=2]="Development",O[O.Test=3]="Test"})(Rn=e.ExtensionMode||(e.ExtensionMode={}));var Ln;(function(O){O[O.Node=1]="Node",O[O.Webworker=2]="Webworker"})(Ln=e.ExtensionRuntime||(e.ExtensionRuntime={}));var Fn;(function(O){O[O.Other=0]="Other",O[O.Comment=1]="Comment",O[O.String=2]="String",O[O.RegEx=4]="RegEx"})(Fn=e.StandardTokenType||(e.StandardTokenType={}));class On{constructor(L,Y){this.ranges=L,this.wordPattern=Y}}e.LinkedEditingRanges=On;class Nn{constructor(L,Y){this._port=L,this._autoForwardAction=Y}get port(){return this._port}get autoForwardAction(){return this._autoForwardAction}}e.PortAttributes=Nn;var Mn;(function(O){O[O.Queued=1]="Queued",O[O.Running=2]="Running",O[O.Passed=3]="Passed",O[O.Failed=4]="Failed",O[O.Skipped=5]="Skipped",O[O.Errored=6]="Errored"})(Mn=e.TestResultState||(e.TestResultState={}));var Un;(function(O){O[O.Run=1]="Run",O[O.Debug=2]="Debug",O[O.Coverage=3]="Coverage"})(Un=e.TestRunProfileKind||(e.TestRunProfileKind={}));let Jt=class{constructor(L=void 0,Y=void 0,Ee=void 0){this.include=L,this.exclude=Y,this.profile=Ee}};Jt=Ne([$],Jt),e.TestRunRequest=Jt;let Zt=A=class{constructor(L){this.message=L}static diff(L,Y,Ee){const xe=new A(L);return xe.expectedOutput=Y,xe.actualOutput=Ee,xe}};Zt=A=Ne([$],Zt),e.TestMessage=Zt;let en=class{constructor(L){this.id=L}};en=Ne([$],en),e.TestTag=en;let It=class{constructor(L,Y){this.covered=L,this.total=Y}};It=Ne([$],It),e.CoveredCount=It;let tn=N=class{constructor(L,Y,Ee,xe){this.uri=L,this.statementCoverage=Y,this.branchCoverage=Ee,this.functionCoverage=xe}static fromDetails(L,Y){const Ee=new It(0,0),xe=new It(0,0),tt=new It(0,0);for(const st of Y)if("branches"in st){Ee.total+=1,Ee.covered+=st.executionCount>0?1:0;for(const ut of st.branches)xe.total+=1,xe.covered+=ut.executionCount>0?1:0}else tt.total+=1,tt.covered+=st.executionCount>0?1:0;const rt=new N(L,Ee,xe.total>0?xe:void 0,tt.total>0?tt:void 0);return rt.detailedCoverage=Y,rt}};tn=N=Ne([$],tn),e.FileCoverage=tn;let nn=class{constructor(L,Y,Ee=[]){this.executionCount=L,this.location=Y,this.branches=Ee}};nn=Ne([$],nn),e.StatementCoverage=nn;let rn=class{constructor(L,Y){this.executionCount=L,this.location=Y}};rn=Ne([$],rn),e.BranchCoverage=rn;let sn=class{constructor(L,Y){this.executionCount=L,this.location=Y}};sn=Ne([$],sn),e.FunctionCoverage=sn;var Bn;(function(O){O[O.None=0]="None",O[O.Option=1]="Option",O[O.Default=2]="Default",O[O.Preferred=3]="Preferred"})(Bn=e.ExternalUriOpenerPriority||(e.ExternalUriOpenerPriority={}));var zn;(function(O){O[O.Untrusted=0]="Untrusted",O[O.Trusted=1]="Trusted",O[O.Unspecified=2]="Unspecified"})(zn=e.WorkspaceTrustState||(e.WorkspaceTrustState={}));var $n;(function(O){O[O.Notify=1]="Notify",O[O.OpenBrowser=2]="OpenBrowser",O[O.OpenPreview=3]="OpenPreview",O[O.Silent=4]="Silent",O[O.Ignore=5]="Ignore",O[O.OpenBrowserOnce=6]="OpenBrowserOnce"})($n=e.PortAutoForwardAction||(e.PortAutoForwardAction={}));class Wn{constructor(L,Y,Ee,xe,tt,rt){this.kind=L,this.name=Y,this.detail=Ee,this.uri=xe,this.range=tt,this.selectionRange=rt}}e.TypeHierarchyItem=Wn}),define(he[105],de([0,1,165,12,5,2,7,64,32,18,8]),function(Z,e,P,_,y,C,I,k,m,E,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorsOrder=e.pathsToEditors=e.CloseDirection=e.EditorResourceAccessor=e.SideBySideEditor=e.EditorCloseContext=e.isEditorIdentifier=e.isEditorInputWithOptionsAndGroup=e.isEditorInputWithOptions=e.isDiffEditorInput=e.isSideBySideEditorInput=e.isEditorInput=e.AbstractEditorInput=e.EditorInputCapabilities=e.SaveReason=e.Verbosity=e.isUntitledResourceEditorInput=e.isResourceSideBySideEditorInput=e.isResourceDiffEditorInput=e.isResourceEditorInput=e.findViewStateForEditor=e.BINARY_DIFF_EDITOR_ID=e.TEXT_DIFF_EDITOR_ID=e.SIDE_BY_SIDE_EDITOR_ID=e.EditorAreaVisibleContext=e.SplitEditorsVertically=e.IsCenteredLayoutContext=e.InEditorZenModeContext=e.EditorsVisibleContext=e.SingleEditorGroupsContext=e.MultipleEditorGroupsContext=e.ActiveEditorGroupLockedContext=e.ActiveEditorGroupLastContext=e.ActiveEditorGroupIndexContext=e.ActiveEditorGroupEmptyContext=e.EditorGroupEditorsCountContext=e.SideBySideEditorActiveContext=e.TextCompareEditorActiveContext=e.TextCompareEditorVisibleContext=e.ActiveEditorAvailableEditorIdsContext=e.ActiveEditorContext=e.ActiveEditorCanSplitInGroupContext=e.ActiveEditorCanRevertContext=e.ActiveEditorReadonlyContext=e.ActiveEditorStickyContext=e.ActiveEditorPinnedContext=e.ActiveEditorDirtyContext=e.DEFAULT_EDITOR_ASSOCIATION=e.EditorExtensions=void 0,e.EditorExtensions={EditorPane:"workbench.contributions.editors",EditorFactory:"workbench.contributions.editor.inputFactories"},e.DEFAULT_EDITOR_ASSOCIATION={id:"default",displayName:(0,P.localize)(0,null),providerDisplayName:(0,P.localize)(1,null)},e.ActiveEditorDirtyContext=new k.RawContextKey("activeEditorIsDirty",!1,(0,P.localize)(2,null)),e.ActiveEditorPinnedContext=new k.RawContextKey("activeEditorIsNotPreview",!1,(0,P.localize)(3,null)),e.ActiveEditorStickyContext=new k.RawContextKey("activeEditorIsPinned",!1,(0,P.localize)(4,null)),e.ActiveEditorReadonlyContext=new k.RawContextKey("activeEditorIsReadonly",!1,(0,P.localize)(5,null)),e.ActiveEditorCanRevertContext=new k.RawContextKey("activeEditorCanRevert",!1,(0,P.localize)(6,null)),e.ActiveEditorCanSplitInGroupContext=new k.RawContextKey("activeEditorCanSplitInGroup",!0),e.ActiveEditorContext=new k.RawContextKey("activeEditor",null,{type:"string",description:(0,P.localize)(7,null)}),e.ActiveEditorAvailableEditorIdsContext=new k.RawContextKey("activeEditorAvailableEditorIds","",(0,P.localize)(8,null)),e.TextCompareEditorVisibleContext=new k.RawContextKey("textCompareEditorVisible",!1,(0,P.localize)(9,null)),e.TextCompareEditorActiveContext=new k.RawContextKey("textCompareEditorActive",!1,(0,P.localize)(10,null)),e.SideBySideEditorActiveContext=new k.RawContextKey("sideBySideEditorActive",!1,(0,P.localize)(11,null)),e.EditorGroupEditorsCountContext=new k.RawContextKey("groupEditorsCount",0,(0,P.localize)(12,null)),e.ActiveEditorGroupEmptyContext=new k.RawContextKey("activeEditorGroupEmpty",!1,(0,P.localize)(13,null)),e.ActiveEditorGroupIndexContext=new k.RawContextKey("activeEditorGroupIndex",0,(0,P.localize)(14,null)),e.ActiveEditorGroupLastContext=new k.RawContextKey("activeEditorGroupLast",!1,(0,P.localize)(15,null)),e.ActiveEditorGroupLockedContext=new k.RawContextKey("activeEditorGroupLocked",!1,(0,P.localize)(16,null)),e.MultipleEditorGroupsContext=new k.RawContextKey("multipleEditorGroups",!1,(0,P.localize)(17,null)),e.SingleEditorGroupsContext=e.MultipleEditorGroupsContext.toNegated(),e.EditorsVisibleContext=new k.RawContextKey("editorIsOpen",!1,(0,P.localize)(18,null)),e.InEditorZenModeContext=new k.RawContextKey("inZenMode",!1,(0,P.localize)(19,null)),e.IsCenteredLayoutContext=new k.RawContextKey("isCenteredLayout",!1,(0,P.localize)(20,null)),e.SplitEditorsVertically=new k.RawContextKey("splitEditorsVertically",!1,(0,P.localize)(21,null)),e.EditorAreaVisibleContext=new k.RawContextKey("editorAreaVisible",!0,(0,P.localize)(22,null)),e.SIDE_BY_SIDE_EDITOR_ID="workbench.editor.sidebysideEditor",e.TEXT_DIFF_EDITOR_ID="workbench.editors.textDiffEditor",e.BINARY_DIFF_EDITOR_ID="workbench.editors.binaryResourceDiffEditor";function T(K,j,F){for(const G of F.visibleEditorPanes)if(G.group.id===j&&K.matches(G.input))return G.getViewState()}e.findViewStateForEditor=T;function p(K){if(a(K))return!1;const j=K;return y.URI.isUri(j?.resource)}e.isResourceEditorInput=p;function b(K){if(a(K))return!1;const j=K;return j?.original!==void 0&&j.modified!==void 0}e.isResourceDiffEditorInput=b;function f(K){if(a(K)||b(K))return!1;const j=K;return j?.primary!==void 0&&j.secondary!==void 0}e.isResourceSideBySideEditorInput=f;function w(K){if(a(K))return!1;const j=K;return j?j.resource===void 0||j.resource.scheme===i.Schemas.untitled||j.forceUntitled===!0:!1}e.isUntitledResourceEditorInput=w;var d;(function(K){K[K.SHORT=0]="SHORT",K[K.MEDIUM=1]="MEDIUM",K[K.LONG=2]="LONG"})(d=e.Verbosity||(e.Verbosity={}));var S;(function(K){K[K.EXPLICIT=1]="EXPLICIT",K[K.AUTO=2]="AUTO",K[K.FOCUS_CHANGE=3]="FOCUS_CHANGE",K[K.WINDOW_CHANGE=4]="WINDOW_CHANGE"})(S=e.SaveReason||(e.SaveReason={}));var g;(function(K){K[K.None=0]="None",K[K.Readonly=2]="Readonly",K[K.Untitled=4]="Untitled",K[K.Singleton=8]="Singleton",K[K.RequiresTrust=16]="RequiresTrust",K[K.CanSplitInGroup=32]="CanSplitInGroup",K[K.ForceDescription=64]="ForceDescription"})(g=e.EditorInputCapabilities||(e.EditorInputCapabilities={}));class c extends C.Disposable{}e.AbstractEditorInput=c;function a(K){return K instanceof c}e.isEditorInput=a;function l(K){const j=K;return y.URI.isUri(j?.preferredResource)}function n(K){const j=K;return a(j?.primary)&&a(j?.secondary)}e.isSideBySideEditorInput=n;function s(K){const j=K;return a(j?.modified)&&a(j?.original)}e.isDiffEditorInput=s;function r(K){return a(K?.editor)}e.isEditorInputWithOptions=r;function t(K){const j=K;return r(K)&&j?.group!==void 0}e.isEditorInputWithOptionsAndGroup=t;function o(K){const j=K;return typeof j?.groupId=="number"&&a(j.editor)}e.isEditorIdentifier=o;var u;(function(K){K[K.UNKNOWN=0]="UNKNOWN",K[K.REPLACE=1]="REPLACE",K[K.MOVE=2]="MOVE",K[K.UNPIN=3]="UNPIN"})(u=e.EditorCloseContext||(e.EditorCloseContext={}));var v;(function(K){K[K.PRIMARY=1]="PRIMARY",K[K.SECONDARY=2]="SECONDARY",K[K.BOTH=3]="BOTH",K[K.ANY=4]="ANY"})(v=e.SideBySideEditor||(e.SideBySideEditor={}));class D{getOriginalUri(j,F){if(!j)return;if(F?.supportSideBySide){const{primary:R,secondary:B}=this.getSideEditors(j);if(R&&B){if(F?.supportSideBySide===v.BOTH)return{primary:this.getOriginalUri(R,{filterByScheme:F.filterByScheme}),secondary:this.getOriginalUri(B,{filterByScheme:F.filterByScheme})};if(F?.supportSideBySide===v.ANY)return this.getOriginalUri(R,{filterByScheme:F.filterByScheme})??this.getOriginalUri(B,{filterByScheme:F.filterByScheme});j=F.supportSideBySide===v.PRIMARY?R:B}}if(b(j)||f(j))return;const G=l(j)?j.preferredResource:j.resource;return!G||!F||!F.filterByScheme?G:this.filterUri(G,F.filterByScheme)}getSideEditors(j){return n(j)||f(j)?{primary:j.primary,secondary:j.secondary}:s(j)||b(j)?{primary:j.modified,secondary:j.original}:{primary:void 0,secondary:void 0}}getCanonicalUri(j,F){if(!j)return;if(F?.supportSideBySide){const{primary:R,secondary:B}=this.getSideEditors(j);if(R&&B){if(F?.supportSideBySide===v.BOTH)return{primary:this.getCanonicalUri(R,{filterByScheme:F.filterByScheme}),secondary:this.getCanonicalUri(B,{filterByScheme:F.filterByScheme})};if(F?.supportSideBySide===v.ANY)return this.getCanonicalUri(R,{filterByScheme:F.filterByScheme})??this.getCanonicalUri(B,{filterByScheme:F.filterByScheme});j=F.supportSideBySide===v.PRIMARY?R:B}}if(b(j)||f(j))return;const G=j.resource;return!G||!F||!F.filterByScheme?G:this.filterUri(G,F.filterByScheme)}filterUri(j,F){if(Array.isArray(F)){if(F.some(G=>j.scheme===G))return j}else if(F===j.scheme)return j}}e.EditorResourceAccessor=new D;var h;(function(K){K[K.LEFT=0]="LEFT",K[K.RIGHT=1]="RIGHT"})(h=e.CloseDirection||(e.CloseDirection={}));class A{constructor(){this.editorSerializerConstructors=new Map,this.editorSerializerInstances=new Map}start(j){const F=this.instantiationService=j.get(I.IInstantiationService);for(const[G,R]of this.editorSerializerConstructors)this.createEditorSerializer(G,R,F);this.editorSerializerConstructors.clear()}createEditorSerializer(j,F,G){const R=G.createInstance(F);this.editorSerializerInstances.set(j,R)}registerFileEditorFactory(j){if(this.fileEditorFactory)throw new Error("Can only register one file editor factory.");this.fileEditorFactory=j}getFileEditorFactory(){return(0,_.assertIsDefined)(this.fileEditorFactory)}registerEditorSerializer(j,F){if(this.editorSerializerConstructors.has(j)||this.editorSerializerInstances.has(j))throw new Error(`A editor serializer with type ID '${j}' was already registered.`);return this.instantiationService?this.createEditorSerializer(j,F,this.instantiationService):this.editorSerializerConstructors.set(j,F),(0,C.toDisposable)(()=>{this.editorSerializerConstructors.delete(j),this.editorSerializerInstances.delete(j)})}getEditorSerializer(j){return this.editorSerializerInstances.get(typeof j=="string"?j:j.typeId)}}m.Registry.add(e.EditorExtensions.EditorFactory,new A);async function N(K,j){if(!K||!K.length)return[];const F=await Promise.all(K.map(async G=>{const R=y.URI.revive(G.fileUri);if(!R||!await j.canHandleResource(R))return;const H=typeof G.exists=="boolean"?G.exists:await j.exists(R);if(!H&&G.openOnlyIfExists)return;const q={selection:H?G.selection:void 0,pinned:!0,override:G.editorOverrideId};let W;return H?W={resource:R,options:q}:W={resource:R,options:q,forceUntitled:!0},W}));return(0,E.coalesce)(F)}e.pathsToEditors=N;var $;(function(K){K[K.MOST_RECENTLY_ACTIVE=0]="MOST_RECENTLY_ACTIVE",K[K.SEQUENTIAL=1]="SEQUENTIAL"})($=e.EditorsOrder||(e.EditorsOrder={}))}),define(he[222],de([0,1,55,49,57,8,3,4,64]),function(Z,e,P,_,y,C,I,k,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NotebookWorkingCopyTypeIdentifier=e.CellStatusbarAlignment=e.GlobalToolbarShowLabel=e.TextOutputLineLimit=e.OpenGettingStarted=e.ConsolidatedRunButton=e.NotebookCellEditorOptionsCustomizations=e.DragAndDropEnabled=e.ShowFoldingControls=e.ConsolidatedOutputButton=e.UndoRedoPerCell=e.GlobalToolbar=e.InsertToolbarLocation=e.FocusIndicator=e.CompactView=e.ExperimentalInsertToolbarAlignment=e.NotebookTextDiffEditorPreview=e.ShowCellStatusBar=e.CellToolbarVisibility=e.CellToolbarLocation=e.DisplayOrderKey=e.CellSequence=e.notebookDocumentFilterMatch=e.isDocumentExcludePattern=e.NotebookEditorPriority=e.NOTEBOOK_EDITOR_CURSOR_BOUNDARY=e.diff=e.MimeTypeDisplayOrder=e.mimeTypeIsMergeable=e.mimeTypeSupportedByCore=e.mimeTypeIsAlwaysSecure=e.CellUri=e.CellEditType=e.SelectionStateType=e.NotebookCellsChangeType=e.RendererMessagingSpec=e.NotebookRendererMatch=e.NotebookCellExecutionState=e.NotebookRunState=e.RENDERER_NOT_AVAILABLE=e.BUILTIN_RENDERER_ID=e.ACCESSIBLE_NOTEBOOK_DISPLAY_ORDER=e.NOTEBOOK_DISPLAY_ORDER=e.CellKind=void 0;var E;(function(A){A[A.Markup=1]="Markup",A[A.Code=2]="Code"})(E=e.CellKind||(e.CellKind={})),e.NOTEBOOK_DISPLAY_ORDER=["application/json","application/javascript","text/html","image/svg+xml",y.Mimes.latex,y.Mimes.markdown,"image/png","image/jpeg",y.Mimes.text],e.ACCESSIBLE_NOTEBOOK_DISPLAY_ORDER=[y.Mimes.latex,y.Mimes.markdown,"application/json",y.Mimes.text,"text/html","image/svg+xml","image/png","image/jpeg"],e.BUILTIN_RENDERER_ID="_builtin",e.RENDERER_NOT_AVAILABLE="_notAvailable";var i;(function(A){A[A.Running=1]="Running",A[A.Idle=2]="Idle"})(i=e.NotebookRunState||(e.NotebookRunState={}));var T;(function(A){A[A.Pending=2]="Pending",A[A.Executing=3]="Executing"})(T=e.NotebookCellExecutionState||(e.NotebookCellExecutionState={}));var p;(function(A){A[A.WithHardKernelDependency=0]="WithHardKernelDependency",A[A.WithOptionalKernelDependency=1]="WithOptionalKernelDependency",A[A.Pure=2]="Pure",A[A.Never=3]="Never"})(p=e.NotebookRendererMatch||(e.NotebookRendererMatch={}));var b;(function(A){A.Always="always",A.Never="never",A.Optional="optional"})(b=e.RendererMessagingSpec||(e.RendererMessagingSpec={}));var f;(function(A){A[A.ModelChange=1]="ModelChange",A[A.Move=2]="Move",A[A.ChangeLanguage=5]="ChangeLanguage",A[A.Initialize=6]="Initialize",A[A.ChangeCellMetadata=7]="ChangeCellMetadata",A[A.Output=8]="Output",A[A.OutputItem=9]="OutputItem",A[A.ChangeCellContent=10]="ChangeCellContent",A[A.ChangeDocumentMetadata=11]="ChangeDocumentMetadata",A[A.ChangeCellInternalMetadata=12]="ChangeCellInternalMetadata",A[A.ChangeCellMime=13]="ChangeCellMime",A[A.Unknown=100]="Unknown"})(f=e.NotebookCellsChangeType||(e.NotebookCellsChangeType={}));var w;(function(A){A[A.Handle=0]="Handle",A[A.Index=1]="Index"})(w=e.SelectionStateType||(e.SelectionStateType={}));var d;(function(A){A[A.Replace=1]="Replace",A[A.Output=2]="Output",A[A.Metadata=3]="Metadata",A[A.CellLanguage=4]="CellLanguage",A[A.DocumentMetadata=5]="DocumentMetadata",A[A.Move=6]="Move",A[A.OutputItems=7]="OutputItems",A[A.PartialMetadata=8]="PartialMetadata",A[A.PartialInternalMetadata=9]="PartialInternalMetadata"})(d=e.CellEditType||(e.CellEditType={}));var S;(function(A){A.scheme=C.Schemas.vscodeNotebookCell;const N=/^ch(\d{7,})/;function $(R,B){return R.with({scheme:A.scheme,fragment:`ch${B.toString().padStart(7,"0")}${R.scheme!==C.Schemas.file?R.scheme:""}`})}A.generate=$;function K(R){if(R.scheme!==A.scheme)return;const B=N.exec(R.fragment);return B?{handle:Number(B[1]),notebook:R.with({scheme:R.fragment.substr(B[0].length)||C.Schemas.file,fragment:null})}:void 0}A.parse=K;function j(R){if(R.scheme!==C.Schemas.vscodeNotebookCellMetadata)return;const B=N.exec(R.fragment);return B?{handle:Number(B[1]),notebook:R.with({scheme:R.fragment.substr(B[0].length)||C.Schemas.file,fragment:null})}:void 0}A.parseCellMetadataUri=j;function F(R,B,H){return R.with({scheme:H,fragment:`ch${B.toString().padStart(7,"0")}${R.scheme!==C.Schemas.file?R.scheme:""}`})}A.generateCellUri=F;function G(R,B){if(R.scheme!==B)return;const H=N.exec(R.fragment);return H?{handle:Number(H[1]),notebook:R.with({scheme:R.fragment.substr(H[0].length)||C.Schemas.file,fragment:null})}:void 0}A.parseCellUri=G})(S=e.CellUri||(e.CellUri={}));const g=new Map([["application/javascript",{supportedByCore:!0}],["image/png",{alwaysSecure:!0,supportedByCore:!0}],["image/jpeg",{alwaysSecure:!0,supportedByCore:!0}],["image/git",{alwaysSecure:!0,supportedByCore:!0}],["image/svg+xml",{supportedByCore:!0}],["application/json",{alwaysSecure:!0,supportedByCore:!0}],[y.Mimes.latex,{alwaysSecure:!0,supportedByCore:!0}],[y.Mimes.markdown,{alwaysSecure:!0,supportedByCore:!0}],[y.Mimes.text,{alwaysSecure:!0,supportedByCore:!0}],["text/html",{supportedByCore:!0}],["text/x-javascript",{alwaysSecure:!0,supportedByCore:!0}],["application/vnd.code.notebook.error",{alwaysSecure:!0,supportedByCore:!0}],["application/vnd.code.notebook.stdout",{alwaysSecure:!0,supportedByCore:!0,mergeable:!0}],["application/vnd.code.notebook.stderr",{alwaysSecure:!0,supportedByCore:!0,mergeable:!0}]]);function c(A){return g.get(A)?.alwaysSecure??!1}e.mimeTypeIsAlwaysSecure=c;function a(A){return g.get(A)?.supportedByCore??!1}e.mimeTypeSupportedByCore=a;function l(A){return g.get(A)?.mergeable??!1}e.mimeTypeIsMergeable=l;const n=A=>k.isWindows?A.replace(/\//g,"\\"):A;class s{constructor(N=[],$=e.NOTEBOOK_DISPLAY_ORDER){this.defaultOrder=$,this.order=[...new Set(N)].map(K=>({pattern:K,matches:P.parse(n(K))}))}sort(N){const $=new Map(_.Iterable.map(N,j=>[j,n(j)]));let K=[];for(const{matches:j}of this.order)for(const[F,G]of $)if(j(G)){K.push(F),$.delete(F);break}return $.size&&(K=K.concat([...$.keys()].sort((j,F)=>this.defaultOrder.indexOf(j)-this.defaultOrder.indexOf(F)))),K}prioritize(N,$){const K=this.findIndex(N);if(K===-1){this.order.unshift({pattern:N,matches:P.parse(n(N))});return}const j=new Set($.map(G=>this.findIndex(G,K)));j.delete(-1);const F=Array.from(j).sort();this.order.splice(K+1,0,...F.map(G=>this.order[G]));for(let G=F.length-1;G>=0;G--)this.order.splice(F[G],1)}toArray(){return this.order.map(N=>N.pattern)}findIndex(N,$=this.order.length){const K=n(N);for(let j=0;j<$;j++)if(this.order[j].matches(K))return j;return-1}}e.MimeTypeDisplayOrder=s;function r(A,N,$,K=(j,F)=>j===F){const j=[];function F(B,H,q){if(H===0&&q.length===0)return;const W=j[j.length-1];W&&W.start+W.deleteCount===B?(W.deleteCount+=H,W.toInsert.push(...q)):j.push({start:B,deleteCount:H,toInsert:q})}let G=0,R=0;for(;;){if(G===A.length){F(G,0,N.slice(R));break}if(R===N.length){F(G,A.length-G,[]);break}const B=A[G],H=N[R];if(K(B,H)){G+=1,R+=1;continue}$(H)?(F(G,1,[]),G+=1):(F(G,0,[H]),R+=1)}return j}e.diff=r,e.NOTEBOOK_EDITOR_CURSOR_BOUNDARY=new m.RawContextKey("notebookEditorCursorAtBoundary","none");var t;(function(A){A.default="default",A.option="option"})(t=e.NotebookEditorPriority||(e.NotebookEditorPriority={}));function o(A){const N=A;return!!((typeof N.include=="string"||P.isRelativePattern(N.include))&&(typeof N.exclude=="string"||P.isRelativePattern(N.exclude)))}e.isDocumentExcludePattern=o;function u(A,N,$){if(Array.isArray(A.viewType)&&A.viewType.indexOf(N)>=0||A.viewType===N)return!0;if(A.filenamePattern){let K=o(A.filenamePattern)?A.filenamePattern.include:A.filenamePattern,j=o(A.filenamePattern)?A.filenamePattern.exclude:void 0;if(P.match(K,(0,I.basename)($.fsPath).toLowerCase()))return!(j&&P.match(j,(0,I.basename)($.fsPath).toLowerCase()))}return!1}e.notebookDocumentFilterMatch=u;class v{constructor(N){this.textModel=N}getElements(){const N=new Int32Array(this.textModel.cells.length);for(let $=0;$<this.textModel.cells.length;$++)N[$]=this.textModel.cells[$].getHashValue();return N}}e.CellSequence=v,e.DisplayOrderKey="notebook.displayOrder",e.CellToolbarLocation="notebook.cellToolbarLocation",e.CellToolbarVisibility="notebook.cellToolbarVisibility",e.ShowCellStatusBar="notebook.showCellStatusBar",e.NotebookTextDiffEditorPreview="notebook.diff.enablePreview",e.ExperimentalInsertToolbarAlignment="notebook.experimental.insertToolbarAlignment",e.CompactView="notebook.compactView",e.FocusIndicator="notebook.cellFocusIndicator",e.InsertToolbarLocation="notebook.insertToolbarLocation",e.GlobalToolbar="notebook.globalToolbar",e.UndoRedoPerCell="notebook.undoRedoPerCell",e.ConsolidatedOutputButton="notebook.consolidatedOutputButton",e.ShowFoldingControls="notebook.showFoldingControls",e.DragAndDropEnabled="notebook.dragAndDropEnabled",e.NotebookCellEditorOptionsCustomizations="notebook.editorOptionsCustomizations",e.ConsolidatedRunButton="notebook.consolidatedRunButton",e.OpenGettingStarted="notebook.experimental.openGettingStarted",e.TextOutputLineLimit="notebook.output.textLineLimit",e.GlobalToolbarShowLabel="notebook.globalToolbarShowLabel";var D;(function(A){A[A.Left=1]="Left",A[A.Right=2]="Right"})(D=e.CellStatusbarAlignment||(e.CellStatusbarAlignment={}));class h{static create(N){return`${h._prefix}${N}`}static parse(N){if(N.startsWith(h._prefix))return N.substr(h._prefix.length)}}e.NotebookWorkingCopyTypeIdentifier=h,h._prefix="notebook/"}),define(he[106],de([0,1,7]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EnvironmentVariableMutatorType=e.IEnvironmentVariableService=void 0,e.IEnvironmentVariableService=(0,P.createDecorator)("environmentVariableService");var _;(function(y){y[y.Replace=1]="Replace",y[y.Append=2]="Append",y[y.Prepend=3]="Prepend"})(_=e.EnvironmentVariableMutatorType||(e.EnvironmentVariableMutatorType={}))}),define(he[223],de([0,1,4,106]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MergedEnvironmentVariableCollection=void 0;class y{constructor(m){this.map=new Map,m.forEach((E,i)=>{const T=E.map.entries();let p=T.next();for(;!p.done;){const b=p.value[0];let f=this.map.get(b);if(f||(f=[],this.map.set(b,f)),f.length>0&&f[0].type===_.EnvironmentVariableMutatorType.Replace){p=T.next();continue}const w=p.value[1];f.unshift({extensionIdentifier:i,value:w.value,type:w.type}),p=T.next()}})}applyToProcessEnvironment(m,E){let i;P.isWindows&&(i={},Object.keys(m).forEach(T=>i[T.toLowerCase()]=T)),this.map.forEach((T,p)=>{const b=P.isWindows&&i[p.toLowerCase()]||p;T.forEach(f=>{const w=E?E(f.value):f.value;switch(f.type){case _.EnvironmentVariableMutatorType.Append:m[b]=(m[b]||"")+w;break;case _.EnvironmentVariableMutatorType.Prepend:m[b]=w+(m[b]||"");break;case _.EnvironmentVariableMutatorType.Replace:m[b]=w;break}})})}diff(m){const E=new Map,i=new Map,T=new Map;if(m.map.forEach((p,b)=>{const f=this.map.get(b),w=C(p,f);w&&E.set(b,w)}),this.map.forEach((p,b)=>{const f=m.map.get(b),w=C(p,f);w&&T.set(b,w)}),this.map.forEach((p,b)=>{const f=m.map.get(b),w=I(p,f);w&&i.set(b,w)}),!(E.size===0&&i.size===0&&T.size===0))return{added:E,changed:i,removed:T}}}e.MergedEnvironmentVariableCollection=y;function C(k,m){if(!m)return k;const E=new Set;m.forEach(T=>E.add(T.extensionIdentifier));const i=[];return k.forEach(T=>{E.has(T.extensionIdentifier)||i.push(T)}),i.length===0?void 0:i}function I(k,m){if(!m)return;const E=new Map;m.forEach(T=>E.set(T.extensionIdentifier,T));const i=[];return k.forEach(T=>{const p=E.get(T.extensionIdentifier);p&&(T.type!==p.type||T.value!==p.value)&&i.push(p)}),i.length===0?void 0:i}}),define(he[107],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeEnvironmentVariableCollection=e.serializeEnvironmentVariableCollection=void 0;function P(y){return[...y.entries()]}e.serializeEnvironmentVariableCollection=P;function _(y){return new Map(y)}e.deserializeEnvironmentVariableCollection=_}),define(he[224],de([0,1,3,76,4]),function(Z,e,P,_,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTerminalEnvironment=e.getDefaultShellArgs=e.getDefaultShell=e.createVariableResolver=e.getCwd=e.getLangEnvVariable=e.shouldSetLangEnvVariable=e.addTerminalEnvironmentKeys=e.mergeEnvironments=void 0;function C(a,l){if(!!l)if(y.isWindows)for(const n in l){let s=n;for(const t in a)if(n.toLowerCase()===t.toLowerCase()){s=t;break}const r=l[n];r!==void 0&&I(a,s,r)}else Object.keys(l).forEach(n=>{const s=l[n];s!==void 0&&I(a,n,s)})}e.mergeEnvironments=C;function I(a,l,n){typeof n=="string"?a[l]=n:delete a[l]}function k(a,l,n,s){a.TERM_PROGRAM="vscode",l&&(a.TERM_PROGRAM_VERSION=l),i(a,s)&&(a.LANG=T(n)),a.COLORTERM="truecolor"}e.addTerminalEnvironmentKeys=k;function m(a,l){if(!!l)for(const n of Object.keys(l)){const s=l[n];s&&(a[n]=s)}}function E(a,l){return Object.keys(l).forEach(n=>{const s=l[n];if(typeof s=="string")try{l[n]=a(s)}catch(r){l[n]=s}}),l}function i(a,l){if(l==="on")return!0;if(l==="auto"){const n=a.LANG;return!n||n.search(/\.UTF\-8$/)===-1&&n.search(/\.utf8$/)===-1&&n.search(/\.euc.+/)===-1}return!1}e.shouldSetLangEnvVariable=i;function T(a){const l=a?a.split("-"):[],n=l.length;if(n===0)return"en_US.UTF-8";if(n===1){const s={af:"ZA",am:"ET",be:"BY",bg:"BG",ca:"ES",cs:"CZ",da:"DK",de:"DE",el:"GR",en:"US",es:"ES",et:"EE",eu:"ES",fi:"FI",fr:"FR",he:"IL",hr:"HR",hu:"HU",hy:"AM",is:"IS",it:"IT",ja:"JP",kk:"KZ",ko:"KR",lt:"LT",nl:"NL",no:"NO",pl:"PL",pt:"BR",ro:"RO",ru:"RU",sk:"SK",sl:"SI",sr:"YU",sv:"SE",tr:"TR",uk:"UA",zh:"CN"};l[0]in s&&l.push(s[l[0]])}else l[1]=l[1].toUpperCase();return l.join("_")+".UTF-8"}e.getLangEnvVariable=T;function p(a,l,n,s,r,t){if(a.cwd){const u=typeof a.cwd=="object"?a.cwd.fsPath:a.cwd,v=b(u,n);return f(v||u)}let o;return!a.ignoreConfigurationCwd&&r&&(n&&(r=b(r,n,t)),r&&(P.isAbsolute(r)?o=r:s&&(o=P.join(s.fsPath,r)))),o||(o=s?s.fsPath:l||""),f(o)}e.getCwd=p;function b(a,l,n){if(l)try{return l(a)}catch(s){n?.error("Could not resolve terminal cwd",s);return}return a}function f(a){return y.OS===1&&a&&a[1]===":"?a[0].toUpperCase()+a.substr(1):a}function w(a,l,n){if(!!n)return s=>n.resolveWithEnvironment(l,a,s)}e.createVariableResolver=w;function d(a,l,n,s,r,t,o,u=y.platform){let v;o&&(v=g(a,"automationShell",u)),v||(v=g(a,"shell",u));let D=v||l;if(u===3&&!n&&s){const h=P.join(s,"Sysnative").replace(/\//g,"\\").toLowerCase();D&&D.toLowerCase().indexOf(h)===0&&(D=P.join(s,"System32",D.substr(h.length+1)))}if(D&&u===3&&(D=D.replace(/\//g,"\\")),r)try{D=r(D)}catch(h){t.error("Could not resolve shell",h)}return D}e.getDefaultShell=d;function S(a,l,n,s,r=y.platform){if(l&&g(a,"automationShell",r))return[];const t=r===3?"windows":r===1?"osx":"linux";let o=a(`terminal.integrated.shellArgs.${t}`);if(!o)return[];if(typeof o=="string"&&r===3)return n?n(o):o;if(n){const u=[];for(const v of o)try{u.push(n(v))}catch(D){s.error(`Could not resolve terminal.integrated.shellArgs.${t}`,D),u.push(v)}o=u}return o}e.getDefaultShellArgs=S;function g(a,l,n=y.platform){return a(`terminal.integrated.${l}.${n===3?"windows":n===1?"osx":"linux"}`)}function c(a,l,n,s,r,t){const o={};if(a.strictEnv)m(o,a.env);else{m(o,t);const u={...l};n&&(u&&E(n,u),a.env&&E(n,a.env)),(0,_.sanitizeProcessEnvironment)(o,"VSCODE_IPC_HOOK_CLI"),C(o,u),C(o,a.env),k(o,s,y.locale,r)}return o}e.createTerminalEnvironment=c}),define(he[225],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TestId=e.TestPosition=e.TestIdPathParts=void 0;var P;(function(C){C.Delimiter="\0"})(P=e.TestIdPathParts||(e.TestIdPathParts={}));var _;(function(C){C[C.IsSame=0]="IsSame",C[C.Disconnected=1]="Disconnected",C[C.IsChild=2]="IsChild",C[C.IsParent=3]="IsParent"})(_=e.TestPosition||(e.TestPosition={}));class y{constructor(I,k=I.length){if(this.path=I,this.viewEnd=k,I.length===0||k<1)throw new Error("cannot create test with empty path")}static fromExtHostTestItem(I,k,m=I.parent){if(I.id===k)return new y([k]);let E=[I.id];for(let i=m;i&&i.id!==k;i=i.parent)E.push(i.id);return E.push(k),new y(E.reverse())}static isRoot(I){return!I.includes("\0")}static fromString(I){return new y(I.split("\0"))}static join(I,k){return new y([...I.path,k])}static joinToString(I,k){return I.toString()+"\0"+k}static compare(I,k){return I===k?0:k.startsWith(I+"\0")?2:I.startsWith(k+"\0")?3:1}get parentId(){return this.viewEnd>1?new y(this.path,this.viewEnd-1):this}get localId(){return this.path[this.viewEnd-1]}get controllerId(){return this.path[0]}get isRoot(){return this.viewEnd===1}*idsFromRoot(){for(let I=1;I<=this.viewEnd;I++)yield new y(this.path,I)}compare(I){if(typeof I=="string")return y.compare(this.toString(),I);for(let k=0;k<I.viewEnd&&k<this.viewEnd;k++)if(I.path[k]!==this.path[k])return 1;return I.viewEnd>this.viewEnd?2:I.viewEnd<this.viewEnd?3:0}toJSON(){return this.toString()}toString(){if(!this.stringifed){this.stringifed=this.path[0];for(let I=1;I<this.viewEnd;I++)this.stringifed+="\0",this.stringifed+=this.path[I]}return this.stringifed}}e.TestId=y}),define(he[226],de([0,1,27,7]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TASKS_DEFAULT=e.IWorkbenchConfigurationService=e.USER_STANDALONE_CONFIGURATIONS=e.WORKSPACE_STANDALONE_CONFIGURATIONS=e.LAUNCH_CONFIGURATION_KEY=e.TASKS_CONFIGURATION_KEY=e.FOLDER_SCOPES=e.WORKSPACE_SCOPES=e.REMOTE_MACHINE_SCOPES=e.LOCAL_MACHINE_SCOPES=e.tasksSchemaId=e.launchSchemaId=e.folderSettingsSchemaId=e.workspaceSettingsSchemaId=e.machineSettingsSchemaId=e.userSettingsSchemaId=e.defaultSettingsSchemaId=e.FOLDER_SETTINGS_PATH=e.FOLDER_SETTINGS_NAME=e.FOLDER_CONFIG_FOLDER_NAME=void 0,e.FOLDER_CONFIG_FOLDER_NAME=".vscode",e.FOLDER_SETTINGS_NAME="settings",e.FOLDER_SETTINGS_PATH=`${e.FOLDER_CONFIG_FOLDER_NAME}/${e.FOLDER_SETTINGS_NAME}.json`,e.defaultSettingsSchemaId="vscode://schemas/settings/default",e.userSettingsSchemaId="vscode://schemas/settings/user",e.machineSettingsSchemaId="vscode://schemas/settings/machine",e.workspaceSettingsSchemaId="vscode://schemas/settings/workspace",e.folderSettingsSchemaId="vscode://schemas/settings/folder",e.launchSchemaId="vscode://schemas/launch",e.tasksSchemaId="vscode://schemas/tasks",e.LOCAL_MACHINE_SCOPES=[1,3,4,5],e.REMOTE_MACHINE_SCOPES=[2,3,4,5,6],e.WORKSPACE_SCOPES=[3,4,5,6],e.FOLDER_SCOPES=[4,5,6],e.TASKS_CONFIGURATION_KEY="tasks",e.LAUNCH_CONFIGURATION_KEY="launch",e.WORKSPACE_STANDALONE_CONFIGURATIONS=Object.create(null),e.WORKSPACE_STANDALONE_CONFIGURATIONS[e.TASKS_CONFIGURATION_KEY]=`${e.FOLDER_CONFIG_FOLDER_NAME}/${e.TASKS_CONFIGURATION_KEY}.json`,e.WORKSPACE_STANDALONE_CONFIGURATIONS[e.LAUNCH_CONFIGURATION_KEY]=`${e.FOLDER_CONFIG_FOLDER_NAME}/${e.LAUNCH_CONFIGURATION_KEY}.json`,e.USER_STANDALONE_CONFIGURATIONS=Object.create(null),e.USER_STANDALONE_CONFIGURATIONS[e.TASKS_CONFIGURATION_KEY]=`${e.TASKS_CONFIGURATION_KEY}.json`,e.IWorkbenchConfigurationService=(0,_.refineServiceDecorator)(P.IConfigurationService),e.TASKS_DEFAULT=`{
	"version": "2.0.0",
	"tasks": []
}`}),define(he[227],de([0,1,7]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IConfigurationResolverService=void 0,e.IConfigurationResolverService=(0,P.createDecorator)("configurationResolverService")}),define(he[228],de([0,1,3,22,12,20,4,56,166]),function(Z,e,P,_,y,C,I,k,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractVariableResolverService=void 0;class E{constructor(T,p,b){this._contributedVariables=new Map,this._context=T,this._labelService=p,b&&(this._envVariablesPromise=b.then(f=>this.prepareEnv(f)))}prepareEnv(T){if(I.isWindows){const p=Object.create(null);return Object.keys(T).forEach(b=>{p[b.toLowerCase()]=T[b]}),p}return T}resolveWithEnvironment(T,p,b){return this.recursiveResolve(this.prepareEnv(T),p?p.uri:void 0,b)}async resolveAsync(T,p){return this.recursiveResolve(await this._envVariablesPromise,T?T.uri:void 0,p)}async resolveAnyBase(T,p,b,f){const w=C.deepClone(p);return I.isWindows&&w.windows?Object.keys(w.windows).forEach(d=>w[d]=w.windows[d]):I.isMacintosh&&w.osx?Object.keys(w.osx).forEach(d=>w[d]=w.osx[d]):I.isLinux&&w.linux&&Object.keys(w.linux).forEach(d=>w[d]=w.linux[d]),delete w.windows,delete w.osx,delete w.linux,this.recursiveResolve(await this._envVariablesPromise,T?T.uri:void 0,w,b,f)}async resolveAnyAsync(T,p,b){return this.resolveAnyBase(T,p,b)}async resolveAnyMap(T,p,b){const f=new Map;return{newConfig:await this.resolveAnyBase(T,p,b,f),resolvedVariables:f}}resolveWithInteractionReplace(T,p,b,f){throw new Error("resolveWithInteractionReplace not implemented.")}resolveWithInteraction(T,p,b,f){throw new Error("resolveWithInteraction not implemented.")}contributeVariable(T,p){if(this._contributedVariables.has(T))throw new Error("Variable "+T+" is contributed twice.");this._contributedVariables.set(T,p)}recursiveResolve(T,p,b,f,w){if(y.isString(b))return this.resolveString(T,p,b,f,w);if(y.isArray(b))return b.map(d=>this.recursiveResolve(T,p,d,f,w));if(y.isObject(b)){let d=Object.create(null);return Object.keys(b).forEach(S=>{const g=this.resolveString(T,p,S,f,w);d[g]=this.recursiveResolve(T,p,b[S],f,w)}),d}return b}resolveString(T,p,b,f,w){return b.replace(E.VARIABLE_REGEXP,(S,g)=>{if(g.includes(E.VARIABLE_LHS))return S;let c=this.evaluateSingleVariable(T,S,g,p,f);return w&&w.set(g,c),c!==S&&y.isString(c)&&c.match(E.VARIABLE_REGEXP)&&(c=this.resolveString(T,p,c,f,w)),c})}fsPath(T){return this._labelService?this._labelService.getUriLabel(T,{noPrefix:!0}):T.fsPath}evaluateSingleVariable(T,p,b,f,w){let d;const S=b.split(":");S.length>1&&(b=S[0],d=S[1]);const g=()=>{const l=this._context.getFilePath();if(l)return l;throw new Error((0,m.localize)(0,null,p))},c=()=>{const l=g();if(this._context.getWorkspaceFolderPathForFile){const n=this._context.getWorkspaceFolderPathForFile();if(n)return n}throw new Error((0,m.localize)(1,null,p,P.basename(l)))},a=()=>{if(d){const l=this._context.getFolderUri(d);if(l)return l;throw new Error((0,m.localize)(2,null,p,d))}if(f)return f;throw this._context.getWorkspaceFolderCount()>1?new Error((0,m.localize)(3,null,p)):new Error((0,m.localize)(4,null,p))};switch(b){case"env":if(d){if(T){const l=T[I.isWindows?d.toLowerCase():d];if(y.isString(l))return l}return""}throw new Error((0,m.localize)(5,null,p));case"config":if(d){const l=this._context.getConfigurationValue(f,d);if(y.isUndefinedOrNull(l))throw new Error((0,m.localize)(6,null,p,d));if(y.isObject(l))throw new Error((0,m.localize)(7,null,p,d));return l}throw new Error((0,m.localize)(8,null,p));case"command":return this.resolveFromMap(p,d,w,"command");case"input":return this.resolveFromMap(p,d,w,"input");default:switch(b){case"workspaceRoot":case"workspaceFolder":return(0,k.normalizeDriveLetter)(this.fsPath(a()));case"cwd":return f||d?(0,k.normalizeDriveLetter)(this.fsPath(a())):_.cwd();case"workspaceRootFolderName":case"workspaceFolderBasename":return P.basename(this.fsPath(a()));case"lineNumber":const l=this._context.getLineNumber();if(l)return l;throw new Error((0,m.localize)(9,null,p));case"selectedText":const n=this._context.getSelectedText();if(n)return n;throw new Error((0,m.localize)(10,null,p));case"file":return g();case"fileWorkspaceFolder":return c();case"relativeFile":return f||d?P.relative(this.fsPath(a()),g()):g();case"relativeFileDirname":const s=P.dirname(g());if(f||d){const u=P.relative(this.fsPath(a()),s);return u.length===0?".":u}return s;case"fileDirname":return P.dirname(g());case"fileExtname":return P.extname(g());case"fileBasename":return P.basename(g());case"fileBasenameNoExtension":const r=P.basename(g());return r.slice(0,r.length-P.extname(r).length);case"fileDirnameBasename":return P.basename(P.dirname(g()));case"execPath":const t=this._context.getExecPath();return t||p;case"execInstallFolder":const o=this._context.getAppRoot();return o||p;case"pathSeparator":return P.sep;default:try{const u=d?`${b}:${d}`:b;return this.resolveFromMap(p,u,w,void 0)}catch(u){return p}}}}resolveFromMap(T,p,b,f){if(p&&b){const w=f===void 0?b[p]:b[f+":"+p];if(typeof w=="string")return w;throw new Error((0,m.localize)(11,null,T))}return T}}e.AbstractVariableResolverService=E,E.VARIABLE_LHS="${",E.VARIABLE_REGEXP=/\$\{(.*?)\}/g}),define(he[229],de([0,1,7,105]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.preferredSideBySideGroupDirection=e.isEditorGroup=e.OpenEditorContext=e.GroupChangeKind=e.GroupsOrder=e.isEditorReplacement=e.MergeGroupMode=e.GroupsArrangement=e.GroupLocation=e.GroupOrientation=e.GroupDirection=e.IEditorGroupsService=void 0,e.IEditorGroupsService=(0,P.createDecorator)("editorGroupsService");var y;(function(w){w[w.UP=0]="UP",w[w.DOWN=1]="DOWN",w[w.LEFT=2]="LEFT",w[w.RIGHT=3]="RIGHT"})(y=e.GroupDirection||(e.GroupDirection={}));var C;(function(w){w[w.HORIZONTAL=0]="HORIZONTAL",w[w.VERTICAL=1]="VERTICAL"})(C=e.GroupOrientation||(e.GroupOrientation={}));var I;(function(w){w[w.FIRST=0]="FIRST",w[w.LAST=1]="LAST",w[w.NEXT=2]="NEXT",w[w.PREVIOUS=3]="PREVIOUS"})(I=e.GroupLocation||(e.GroupLocation={}));var k;(function(w){w[w.MINIMIZE_OTHERS=0]="MINIMIZE_OTHERS",w[w.EVEN=1]="EVEN",w[w.TOGGLE=2]="TOGGLE"})(k=e.GroupsArrangement||(e.GroupsArrangement={}));var m;(function(w){w[w.COPY_EDITORS=0]="COPY_EDITORS",w[w.MOVE_EDITORS=1]="MOVE_EDITORS"})(m=e.MergeGroupMode||(e.MergeGroupMode={}));function E(w){const d=w;return(0,_.isEditorInput)(d?.editor)&&(0,_.isEditorInput)(d?.replacement)}e.isEditorReplacement=E;var i;(function(w){w[w.CREATION_TIME=0]="CREATION_TIME",w[w.MOST_RECENTLY_ACTIVE=1]="MOST_RECENTLY_ACTIVE",w[w.GRID_APPEARANCE=2]="GRID_APPEARANCE"})(i=e.GroupsOrder||(e.GroupsOrder={}));var T;(function(w){w[w.GROUP_ACTIVE=0]="GROUP_ACTIVE",w[w.GROUP_INDEX=1]="GROUP_INDEX",w[w.GROUP_LOCKED=2]="GROUP_LOCKED",w[w.EDITOR_OPEN=3]="EDITOR_OPEN",w[w.EDITOR_CLOSE=4]="EDITOR_CLOSE",w[w.EDITOR_MOVE=5]="EDITOR_MOVE",w[w.EDITOR_ACTIVE=6]="EDITOR_ACTIVE",w[w.EDITOR_LABEL=7]="EDITOR_LABEL",w[w.EDITOR_CAPABILITIES=8]="EDITOR_CAPABILITIES",w[w.EDITOR_PIN=9]="EDITOR_PIN",w[w.EDITOR_STICKY=10]="EDITOR_STICKY",w[w.EDITOR_DIRTY=11]="EDITOR_DIRTY"})(T=e.GroupChangeKind||(e.GroupChangeKind={}));var p;(function(w){w[w.NEW_EDITOR=1]="NEW_EDITOR",w[w.MOVE_EDITOR=2]="MOVE_EDITOR",w[w.COPY_EDITOR=3]="COPY_EDITOR"})(p=e.OpenEditorContext||(e.OpenEditorContext={}));function b(w){const d=w;return!!d&&typeof d.id=="number"&&Array.isArray(d.editors)}e.isEditorGroup=b;function f(w){return w.getValue("workbench.editor.openSideBySideDirection")==="down"?1:3}e.preferredSideBySideGroupDirection=f}),define(he[108],de([0,1,7,229]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPreferredGroup=e.SIDE_GROUP=e.ACTIVE_GROUP=e.IEditorService=void 0,e.IEditorService=(0,P.createDecorator)("editorService"),e.ACTIVE_GROUP=-1,e.SIDE_GROUP=-2;function y(C){const I=C;return typeof C=="number"||(0,_.isEditorGroup)(I)}e.isPreferredGroup=y}),define(he[230],de([0,1,18,17,77,252,50,20,12,5,59,178,170,190,103,222,225,108,104]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b,f,w,d,S,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TypeHierarchyItem=e.CodeActionTriggerKind=e.TestCoverage=e.TestResults=e.TestItem=e.TestTag=e.TestMessage=e.NotebookRendererScript=e.NotebookDocumentContentOptions=e.NotebookStatusBarItem=e.NotebookDecorationRenderOptions=e.NotebookExclusiveDocumentPattern=e.NotebookCellOutput=e.NotebookCellOutputItem=e.NotebookCellData=e.NotebookData=e.NotebookCellKind=e.NotebookCellExecutionSummary=e.NotebookRange=e.LanguageSelector=e.GlobPattern=e.TextEditorOpenOptions=e.FoldingRangeKind=e.FoldingRange=e.ProgressLocation=e.EndOfLine=e.TextEditorLineNumbersStyle=e.TextDocumentSaveReason=e.SelectionRange=e.Color=e.ColorPresentation=e.DocumentLink=e.InlayHintKind=e.InlayHint=e.SignatureHelp=e.SignatureInformation=e.ParameterInformation=e.CompletionItem=e.CompletionItemKind=e.CompletionItemTag=e.CompletionContext=e.CompletionTriggerKind=e.DocumentHighlight=e.InlineValueContext=e.InlineValue=e.EvaluatableExpression=e.Hover=e.DefinitionLink=e.location=e.CallHierarchyOutgoingCall=e.CallHierarchyIncomingCall=e.CallHierarchyItem=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolTag=e.SymbolKind=e.WorkspaceEdit=e.TextEdit=e.DecorationRenderOptions=e.DecorationRangeBehavior=e.ThemableDecorationRenderOptions=e.ThemableDecorationAttachmentRenderOptions=e.pathOrURIToURI=e.fromRangeOrRangeWithMessage=e.MarkdownString=e.isDecorationOptionsArr=e.ViewColumn=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.Diagnostic=e.DiagnosticTag=e.DocumentSelector=e.Position=e.TokenType=e.Range=e.Selection=void 0;var c;(function(le){function ue(M){const{selectionStartLineNumber:we,selectionStartColumn:_e,positionLineNumber:Qe,positionColumn:ze}=M,lt=new g.Position(we-1,_e-1),ht=new g.Position(Qe-1,ze-1);return new g.Selection(lt,ht)}le.to=ue;function Q(M){const{anchor:we,active:_e}=M;return{selectionStartLineNumber:we.line+1,selectionStartColumn:we.character+1,positionLineNumber:_e.line+1,positionColumn:_e.character+1}}le.from=Q})(c=e.Selection||(e.Selection={}));var a;(function(le){function ue(M){if(!M)return;const{start:we,end:_e}=M;return{startLineNumber:we.line+1,startColumn:we.character+1,endLineNumber:_e.line+1,endColumn:_e.character+1}}le.from=ue;function Q(M){if(!M)return;const{startLineNumber:we,startColumn:_e,endLineNumber:Qe,endColumn:ze}=M;return new g.Range(we-1,_e-1,Qe-1,ze-1)}le.to=Q})(a=e.Range||(e.Range={}));var l;(function(le){function ue(Q){switch(Q){case 1:return g.StandardTokenType.Comment;case 0:return g.StandardTokenType.Other;case 4:return g.StandardTokenType.RegEx;case 2:return g.StandardTokenType.String}}le.to=ue})(l=e.TokenType||(e.TokenType={}));var n;(function(le){function ue(M){return new g.Position(M.lineNumber-1,M.column-1)}le.to=ue;function Q(M){return{lineNumber:M.line+1,column:M.character+1}}le.from=Q})(n=e.Position||(e.Position={}));var s;(function(le){function ue(we,_e){return(0,P.coalesce)((0,P.asArray)(we).map(Qe=>Q(Qe,_e)))}le.from=ue;function Q(we,_e){if(typeof we=="string")return{$serialized:!0,language:we};if(we)return{$serialized:!0,language:we.language,scheme:M(we.scheme,_e),pattern:typeof we.pattern=="undefined"?void 0:ee.from(we.pattern),exclusive:we.exclusive}}function M(we,_e){return _e&&typeof we=="string"?_e.transformOutgoingScheme(we):we}})(s=e.DocumentSelector||(e.DocumentSelector={}));var r;(function(le){function ue(M){switch(M){case g.DiagnosticTag.Unnecessary:return 1;case g.DiagnosticTag.Deprecated:return 2}}le.from=ue;function Q(M){switch(M){case 1:return g.DiagnosticTag.Unnecessary;case 2:return g.DiagnosticTag.Deprecated;default:return}}le.to=Q})(r=e.DiagnosticTag||(e.DiagnosticTag={}));var t;(function(le){function ue(M){let we;return M.code&&((0,m.isString)(M.code)||(0,m.isNumber)(M.code)?we=String(M.code):we={value:String(M.code.value),target:M.code.target}),{...a.from(M.range),message:M.message,source:M.source,code:we,severity:u.from(M.severity),relatedInformation:M.relatedInformation&&M.relatedInformation.map(o.from),tags:Array.isArray(M.tags)?(0,P.coalesce)(M.tags.map(r.from)):void 0}}le.from=ue;function Q(M){const we=new g.Diagnostic(a.to(M),M.message,u.to(M.severity));return we.source=M.source,we.code=(0,m.isString)(M.code)?M.code:M.code?.value,we.relatedInformation=M.relatedInformation&&M.relatedInformation.map(o.to),we.tags=M.tags&&(0,P.coalesce)(M.tags.map(r.to)),we}le.to=Q})(t=e.Diagnostic||(e.Diagnostic={}));var o;(function(le){function ue(M){return{...a.from(M.location.range),message:M.message,resource:M.location.uri}}le.from=ue;function Q(M){return new g.DiagnosticRelatedInformation(new g.Location(M.resource,a.to(M)),M.message)}le.to=Q})(o=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var u;(function(le){function ue(M){switch(M){case g.DiagnosticSeverity.Error:return b.MarkerSeverity.Error;case g.DiagnosticSeverity.Warning:return b.MarkerSeverity.Warning;case g.DiagnosticSeverity.Information:return b.MarkerSeverity.Info;case g.DiagnosticSeverity.Hint:return b.MarkerSeverity.Hint}return b.MarkerSeverity.Error}le.from=ue;function Q(M){switch(M){case b.MarkerSeverity.Info:return g.DiagnosticSeverity.Information;case b.MarkerSeverity.Warning:return g.DiagnosticSeverity.Warning;case b.MarkerSeverity.Error:return g.DiagnosticSeverity.Error;case b.MarkerSeverity.Hint:return g.DiagnosticSeverity.Hint;default:return g.DiagnosticSeverity.Error}}le.to=Q})(u=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var v;(function(le){function ue(M){return typeof M=="number"&&M>=g.ViewColumn.One?M-1:M===g.ViewColumn.Beside?S.SIDE_GROUP:S.ACTIVE_GROUP}le.from=ue;function Q(M){if(typeof M=="number"&&M>=0)return M+1;throw new Error("invalid 'EditorGroupColumn'")}le.to=Q})(v=e.ViewColumn||(e.ViewColumn={}));function D(le){return typeof le.range!="undefined"}function h(le){return le.length===0?!0:!!D(le[0])}e.isDecorationOptionsArr=h;var A;(function(le){function ue(ze){return ze.map(le.from)}le.fromMany=ue;function Q(ze){return ze&&typeof ze=="object"&&typeof ze.language=="string"&&typeof ze.value=="string"}function M(ze){let lt;if(Q(ze)){const{language:gt,value:vt}=ze;lt={value:"```"+gt+`
`+vt+"\n```\n"}}else g.MarkdownString.isMarkdownString(ze)?lt={value:ze.value,isTrusted:ze.isTrusted,supportThemeIcons:ze.supportThemeIcons,supportHtml:ze.supportHtml}:typeof ze=="string"?lt={value:ze}:lt={value:""};const ht=Object.create(null);lt.uris=ht;const mt=gt=>{try{let vt=E.URI.parse(gt,!0);vt=vt.with({query:we(vt.query,ht)}),ht[gt]=vt}catch(vt){}return""},ft=new C.Renderer;return ft.link=mt,ft.image=gt=>mt(y.parseHrefAndDimensions(gt).href),C(lt.value,{renderer:ft}),lt}le.from=M;function we(ze,lt){if(!ze)return ze;let ht;try{ht=(0,I.parse)(ze)}catch(ft){}if(!ht)return ze;let mt=!1;return ht=(0,k.cloneAndChange)(ht,ft=>{if(E.URI.isUri(ft)){const gt=`__uri_${Math.random().toString(16).slice(2,8)}`;return lt[gt]=ft,mt=!0,gt}else return}),mt?JSON.stringify(ht):ze}function _e(ze){const lt=new g.MarkdownString(ze.value,ze.supportThemeIcons);return lt.isTrusted=ze.isTrusted,lt.supportHtml=ze.supportHtml,lt}le.to=_e;function Qe(ze){if(!!ze)return typeof ze=="string"?ze:le.from(ze)}le.fromStrict=Qe})(A=e.MarkdownString||(e.MarkdownString={}));function N(le){return h(le)?le.map(ue=>({range:a.from(ue.range),hoverMessage:Array.isArray(ue.hoverMessage)?A.fromMany(ue.hoverMessage):ue.hoverMessage?A.from(ue.hoverMessage):void 0,renderOptions:ue.renderOptions})):le.map(ue=>({range:a.from(ue)}))}e.fromRangeOrRangeWithMessage=N;function $(le){return typeof le=="undefined"?le:typeof le=="string"?E.URI.file(le):le}e.pathOrURIToURI=$;var K;(function(le){function ue(Q){return typeof Q=="undefined"?Q:{contentText:Q.contentText,contentIconPath:Q.contentIconPath?$(Q.contentIconPath):void 0,border:Q.border,borderColor:Q.borderColor,fontStyle:Q.fontStyle,fontWeight:Q.fontWeight,textDecoration:Q.textDecoration,color:Q.color,backgroundColor:Q.backgroundColor,margin:Q.margin,width:Q.width,height:Q.height}}le.from=ue})(K=e.ThemableDecorationAttachmentRenderOptions||(e.ThemableDecorationAttachmentRenderOptions={}));var j;(function(le){function ue(Q){return typeof Q=="undefined"?Q:{backgroundColor:Q.backgroundColor,outline:Q.outline,outlineColor:Q.outlineColor,outlineStyle:Q.outlineStyle,outlineWidth:Q.outlineWidth,border:Q.border,borderColor:Q.borderColor,borderRadius:Q.borderRadius,borderSpacing:Q.borderSpacing,borderStyle:Q.borderStyle,borderWidth:Q.borderWidth,fontStyle:Q.fontStyle,fontWeight:Q.fontWeight,textDecoration:Q.textDecoration,cursor:Q.cursor,color:Q.color,opacity:Q.opacity,letterSpacing:Q.letterSpacing,gutterIconPath:Q.gutterIconPath?$(Q.gutterIconPath):void 0,gutterIconSize:Q.gutterIconSize,overviewRulerColor:Q.overviewRulerColor,before:Q.before?K.from(Q.before):void 0,after:Q.after?K.from(Q.after):void 0}}le.from=ue})(j=e.ThemableDecorationRenderOptions||(e.ThemableDecorationRenderOptions={}));var F;(function(le){function ue(Q){if(typeof Q=="undefined")return Q;switch(Q){case g.DecorationRangeBehavior.OpenOpen:return 0;case g.DecorationRangeBehavior.ClosedClosed:return 1;case g.DecorationRangeBehavior.OpenClosed:return 2;case g.DecorationRangeBehavior.ClosedOpen:return 3}}le.from=ue})(F=e.DecorationRangeBehavior||(e.DecorationRangeBehavior={}));var G;(function(le){function ue(Q){return{isWholeLine:Q.isWholeLine,rangeBehavior:Q.rangeBehavior?F.from(Q.rangeBehavior):void 0,overviewRulerLane:Q.overviewRulerLane,light:Q.light?j.from(Q.light):void 0,dark:Q.dark?j.from(Q.dark):void 0,backgroundColor:Q.backgroundColor,outline:Q.outline,outlineColor:Q.outlineColor,outlineStyle:Q.outlineStyle,outlineWidth:Q.outlineWidth,border:Q.border,borderColor:Q.borderColor,borderRadius:Q.borderRadius,borderSpacing:Q.borderSpacing,borderStyle:Q.borderStyle,borderWidth:Q.borderWidth,fontStyle:Q.fontStyle,fontWeight:Q.fontWeight,textDecoration:Q.textDecoration,cursor:Q.cursor,color:Q.color,opacity:Q.opacity,letterSpacing:Q.letterSpacing,gutterIconPath:Q.gutterIconPath?$(Q.gutterIconPath):void 0,gutterIconSize:Q.gutterIconSize,overviewRulerColor:Q.overviewRulerColor,before:Q.before?K.from(Q.before):void 0,after:Q.after?K.from(Q.after):void 0}}le.from=ue})(G=e.DecorationRenderOptions||(e.DecorationRenderOptions={}));var R;(function(le){function ue(M){return{text:M.newText,eol:M.newEol&&Ie.from(M.newEol),range:a.from(M.range)}}le.from=ue;function Q(M){const we=new g.TextEdit(a.to(M.range),M.text);return we.newEol=typeof M.eol=="undefined"?void 0:Ie.to(M.eol),we}le.to=Q})(R=e.TextEdit||(e.TextEdit={}));var B;(function(le){function ue(M,we,_e){const Qe={edits:[]};if(M instanceof g.WorkspaceEdit)for(let ze of M._allEntries())if(ze._type===1)Qe.edits.push({_type:1,oldUri:ze.from,newUri:ze.to,options:ze.options,metadata:ze.metadata});else if(ze._type===2){const lt=we?.getDocument(ze.uri);Qe.edits.push({_type:2,resource:ze.uri,edit:R.from(ze.edit),modelVersionId:lt?.version,metadata:ze.metadata})}else ze._type===3?Qe.edits.push({_type:3,metadata:ze.metadata,resource:ze.uri,edit:ze.edit,notebookMetadata:ze.notebookMetadata,notebookVersionId:_e?.getNotebookDocument(ze.uri,!0)?.apiNotebook.version}):ze._type===5&&Qe.edits.push({_type:3,metadata:ze.metadata,resource:ze.uri,notebookVersionId:_e?.getNotebookDocument(ze.uri,!0)?.apiNotebook.version,edit:{editType:1,index:ze.index,count:ze.count,cells:ze.cells.map(Ue.from)}});return Qe}le.from=ue;function Q(M){const we=new g.WorkspaceEdit;for(const _e of M.edits)_e.edit?we.replace(E.URI.revive(_e.resource),a.to(_e.edit.range),_e.edit.text):we.renameFile(E.URI.revive(_e.oldUri),E.URI.revive(_e.newUri),_e.options);return we}le.to=Q})(B=e.WorkspaceEdit||(e.WorkspaceEdit={}));var H;(function(le){const ue=Object.create(null);ue[g.SymbolKind.File]=0,ue[g.SymbolKind.Module]=1,ue[g.SymbolKind.Namespace]=2,ue[g.SymbolKind.Package]=3,ue[g.SymbolKind.Class]=4,ue[g.SymbolKind.Method]=5,ue[g.SymbolKind.Property]=6,ue[g.SymbolKind.Field]=7,ue[g.SymbolKind.Constructor]=8,ue[g.SymbolKind.Enum]=9,ue[g.SymbolKind.Interface]=10,ue[g.SymbolKind.Function]=11,ue[g.SymbolKind.Variable]=12,ue[g.SymbolKind.Constant]=13,ue[g.SymbolKind.String]=14,ue[g.SymbolKind.Number]=15,ue[g.SymbolKind.Boolean]=16,ue[g.SymbolKind.Array]=17,ue[g.SymbolKind.Object]=18,ue[g.SymbolKind.Key]=19,ue[g.SymbolKind.Null]=20,ue[g.SymbolKind.EnumMember]=21,ue[g.SymbolKind.Struct]=22,ue[g.SymbolKind.Event]=23,ue[g.SymbolKind.Operator]=24,ue[g.SymbolKind.TypeParameter]=25;function Q(we){return typeof ue[we]=="number"?ue[we]:6}le.from=Q;function M(we){for(const _e in ue)if(ue[_e]===we)return Number(_e);return g.SymbolKind.Property}le.to=M})(H=e.SymbolKind||(e.SymbolKind={}));var q;(function(le){function ue(M){switch(M){case g.SymbolTag.Deprecated:return 1}}le.from=ue;function Q(M){switch(M){case 1:return g.SymbolTag.Deprecated}}le.to=Q})(q=e.SymbolTag||(e.SymbolTag={}));var W;(function(le){function ue(M){return{name:M.name,kind:H.from(M.kind),tags:M.tags&&M.tags.map(q.from),containerName:M.containerName,location:X.from(M.location)}}le.from=ue;function Q(M){const we=new g.SymbolInformation(M.name,H.to(M.kind),M.containerName,X.to(M.location));return we.tags=M.tags&&M.tags.map(q.to),we}le.to=Q})(W=e.WorkspaceSymbol||(e.WorkspaceSymbol={}));var U;(function(le){function ue(M){const we={name:M.name||"!!MISSING: name!!",detail:M.detail,range:a.from(M.range),selectionRange:a.from(M.selectionRange),kind:H.from(M.kind),tags:M.tags?.map(q.from)??[]};return M.children&&(we.children=M.children.map(ue)),we}le.from=ue;function Q(M){const we=new g.DocumentSymbol(M.name,M.detail,H.to(M.kind),a.to(M.range),a.to(M.selectionRange));return(0,P.isNonEmptyArray)(M.tags)&&(we.tags=M.tags.map(q.to)),M.children&&(we.children=M.children.map(Q)),we}le.to=Q})(U=e.DocumentSymbol||(e.DocumentSymbol={}));var x;(function(le){function ue(M){const we=new g.CallHierarchyItem(H.to(M.kind),M.name,M.detail||"",E.URI.revive(M.uri),a.to(M.range),a.to(M.selectionRange));return we._sessionId=M._sessionId,we._itemId=M._itemId,we}le.to=ue;function Q(M,we,_e){if(we=we??M._sessionId,_e=_e??M._itemId,we===void 0||_e===void 0)throw new Error("invalid item");return{_sessionId:we,_itemId:_e,name:M.name,detail:M.detail,kind:H.from(M.kind),uri:M.uri,range:a.from(M.range),selectionRange:a.from(M.selectionRange),tags:M.tags?.map(q.from)}}le.from=Q})(x=e.CallHierarchyItem||(e.CallHierarchyItem={}));var z;(function(le){function ue(Q){return new g.CallHierarchyIncomingCall(x.to(Q.from),Q.fromRanges.map(M=>a.to(M)))}le.to=ue})(z=e.CallHierarchyIncomingCall||(e.CallHierarchyIncomingCall={}));var te;(function(le){function ue(Q){return new g.CallHierarchyOutgoingCall(x.to(Q.to),Q.fromRanges.map(M=>a.to(M)))}le.to=ue})(te=e.CallHierarchyOutgoingCall||(e.CallHierarchyOutgoingCall={}));var X;(function(le){function ue(M){return{range:M.range&&a.from(M.range),uri:M.uri}}le.from=ue;function Q(M){return new g.Location(E.URI.revive(M.uri),a.to(M.range))}le.to=Q})(X=e.location||(e.location={}));var me;(function(le){function ue(M){const we=M,_e=M;return{originSelectionRange:we.originSelectionRange?a.from(we.originSelectionRange):void 0,uri:we.targetUri?we.targetUri:_e.uri,range:a.from(we.targetRange?we.targetRange:_e.range),targetSelectionRange:we.targetSelectionRange?a.from(we.targetSelectionRange):void 0}}le.from=ue;function Q(M){return{targetUri:E.URI.revive(M.uri),targetRange:a.to(M.range),targetSelectionRange:M.targetSelectionRange?a.to(M.targetSelectionRange):void 0,originSelectionRange:M.originSelectionRange?a.to(M.originSelectionRange):void 0}}le.to=Q})(me=e.DefinitionLink||(e.DefinitionLink={}));var pe;(function(le){function ue(M){return{range:a.from(M.range),contents:A.fromMany(M.contents)}}le.from=ue;function Q(M){return new g.Hover(M.contents.map(A.to),a.to(M.range))}le.to=Q})(pe=e.Hover||(e.Hover={}));var se;(function(le){function ue(M){return{range:a.from(M.range),expression:M.expression}}le.from=ue;function Q(M){return new g.EvaluatableExpression(a.to(M.range),M.expression)}le.to=Q})(se=e.EvaluatableExpression||(e.EvaluatableExpression={}));var ne;(function(le){function ue(M){if(M instanceof g.InlineValueText)return{type:"text",range:a.from(M.range),text:M.text};if(M instanceof g.InlineValueVariableLookup)return{type:"variable",range:a.from(M.range),variableName:M.variableName,caseSensitiveLookup:M.caseSensitiveLookup};if(M instanceof g.InlineValueEvaluatableExpression)return{type:"expression",range:a.from(M.range),expression:M.expression};throw new Error("Unknown 'InlineValue' type")}le.from=ue;function Q(M){switch(M.type){case"text":return{range:a.to(M.range),text:M.text};case"variable":return{range:a.to(M.range),variableName:M.variableName,caseSensitiveLookup:M.caseSensitiveLookup};case"expression":return{range:a.to(M.range),expression:M.expression}}}le.to=Q})(ne=e.InlineValue||(e.InlineValue={}));var Se;(function(le){function ue(M){return{frameId:M.frameId,stoppedLocation:a.from(M.stoppedLocation)}}le.from=ue;function Q(M){return new g.InlineValueContext(M.frameId,a.to(M.stoppedLocation))}le.to=Q})(Se=e.InlineValueContext||(e.InlineValueContext={}));var ye;(function(le){function ue(M){return{range:a.from(M.range),kind:M.kind}}le.from=ue;function Q(M){return new g.DocumentHighlight(a.to(M.range),M.kind)}le.to=Q})(ye=e.DocumentHighlight||(e.DocumentHighlight={}));var Ae;(function(le){function ue(Q){switch(Q){case 1:return g.CompletionTriggerKind.TriggerCharacter;case 2:return g.CompletionTriggerKind.TriggerForIncompleteCompletions;case 0:default:return g.CompletionTriggerKind.Invoke}}le.to=ue})(Ae=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var Fe;(function(le){function ue(Q){return{triggerKind:Ae.to(Q.triggerKind),triggerCharacter:Q.triggerCharacter}}le.to=ue})(Fe=e.CompletionContext||(e.CompletionContext={}));var qe;(function(le){function ue(M){switch(M){case g.CompletionItemTag.Deprecated:return 1}}le.from=ue;function Q(M){switch(M){case 1:return g.CompletionItemTag.Deprecated}}le.to=Q})(qe=e.CompletionItemTag||(e.CompletionItemTag={}));var Be;(function(le){const ue=new Map([[g.CompletionItemKind.Method,0],[g.CompletionItemKind.Function,1],[g.CompletionItemKind.Constructor,2],[g.CompletionItemKind.Field,3],[g.CompletionItemKind.Variable,4],[g.CompletionItemKind.Class,5],[g.CompletionItemKind.Interface,7],[g.CompletionItemKind.Struct,6],[g.CompletionItemKind.Module,8],[g.CompletionItemKind.Property,9],[g.CompletionItemKind.Unit,12],[g.CompletionItemKind.Value,13],[g.CompletionItemKind.Constant,14],[g.CompletionItemKind.Enum,15],[g.CompletionItemKind.EnumMember,16],[g.CompletionItemKind.Keyword,17],[g.CompletionItemKind.Snippet,27],[g.CompletionItemKind.Text,18],[g.CompletionItemKind.Color,19],[g.CompletionItemKind.File,20],[g.CompletionItemKind.Reference,21],[g.CompletionItemKind.Folder,23],[g.CompletionItemKind.Event,10],[g.CompletionItemKind.Operator,11],[g.CompletionItemKind.TypeParameter,24],[g.CompletionItemKind.Issue,26],[g.CompletionItemKind.User,25]]);function Q(_e){return ue.get(_e)??9}le.from=Q;const M=new Map([[0,g.CompletionItemKind.Method],[1,g.CompletionItemKind.Function],[2,g.CompletionItemKind.Constructor],[3,g.CompletionItemKind.Field],[4,g.CompletionItemKind.Variable],[5,g.CompletionItemKind.Class],[7,g.CompletionItemKind.Interface],[6,g.CompletionItemKind.Struct],[8,g.CompletionItemKind.Module],[9,g.CompletionItemKind.Property],[12,g.CompletionItemKind.Unit],[13,g.CompletionItemKind.Value],[14,g.CompletionItemKind.Constant],[15,g.CompletionItemKind.Enum],[16,g.CompletionItemKind.EnumMember],[17,g.CompletionItemKind.Keyword],[27,g.CompletionItemKind.Snippet],[18,g.CompletionItemKind.Text],[19,g.CompletionItemKind.Color],[20,g.CompletionItemKind.File],[21,g.CompletionItemKind.Reference],[23,g.CompletionItemKind.Folder],[10,g.CompletionItemKind.Event],[11,g.CompletionItemKind.Operator],[24,g.CompletionItemKind.TypeParameter],[25,g.CompletionItemKind.User],[26,g.CompletionItemKind.Issue]]);function we(_e){return M.get(_e)??g.CompletionItemKind.Property}le.to=we})(Be=e.CompletionItemKind||(e.CompletionItemKind={}));var nt;(function(le){function ue(Q,M){const we=new g.CompletionItem(Q.label);return we.insertText=Q.insertText,we.kind=Be.to(Q.kind),we.tags=Q.tags?.map(qe.to),we.detail=Q.detail,we.documentation=y.isMarkdownString(Q.documentation)?A.to(Q.documentation):Q.documentation,we.sortText=Q.sortText,we.filterText=Q.filterText,we.preselect=Q.preselect,we.commitCharacters=Q.commitCharacters,i.Range.isIRange(Q.range)?we.range=a.to(Q.range):typeof Q.range=="object"&&(we.range={inserting:a.to(Q.range.insert),replacing:a.to(Q.range.replace)}),we.keepWhitespace=typeof Q.insertTextRules=="undefined"?!1:Boolean(Q.insertTextRules&1),typeof Q.insertTextRules!="undefined"&&Q.insertTextRules&4?we.insertText=new g.SnippetString(Q.insertText):(we.insertText=Q.insertText,we.textEdit=we.range instanceof g.Range?new g.TextEdit(we.range,we.insertText):void 0),Q.additionalTextEdits&&Q.additionalTextEdits.length>0&&(we.additionalTextEdits=Q.additionalTextEdits.map(_e=>R.to(_e))),we.command=M&&Q.command?M.fromInternal(Q.command):void 0,we}le.to=ue})(nt=e.CompletionItem||(e.CompletionItem={}));var ge;(function(le){function ue(M){return{label:M.label,documentation:M.documentation?A.fromStrict(M.documentation):void 0}}le.from=ue;function Q(M){return{label:M.label,documentation:y.isMarkdownString(M.documentation)?A.to(M.documentation):M.documentation}}le.to=Q})(ge=e.ParameterInformation||(e.ParameterInformation={}));var ve;(function(le){function ue(M){return{label:M.label,documentation:M.documentation?A.fromStrict(M.documentation):void 0,parameters:Array.isArray(M.parameters)?M.parameters.map(ge.from):[],activeParameter:M.activeParameter}}le.from=ue;function Q(M){return{label:M.label,documentation:y.isMarkdownString(M.documentation)?A.to(M.documentation):M.documentation,parameters:Array.isArray(M.parameters)?M.parameters.map(ge.to):[],activeParameter:M.activeParameter}}le.to=Q})(ve=e.SignatureInformation||(e.SignatureInformation={}));var Pe;(function(le){function ue(M){return{activeSignature:M.activeSignature,activeParameter:M.activeParameter,signatures:Array.isArray(M.signatures)?M.signatures.map(ve.from):[]}}le.from=ue;function Q(M){return{activeSignature:M.activeSignature,activeParameter:M.activeParameter,signatures:Array.isArray(M.signatures)?M.signatures.map(ve.to):[]}}le.to=Q})(Pe=e.SignatureHelp||(e.SignatureHelp={}));var Le;(function(le){function ue(M){return{text:M.text,position:n.from(M.position),kind:Me.from(M.kind??g.InlayHintKind.Other),whitespaceBefore:M.whitespaceBefore,whitespaceAfter:M.whitespaceAfter}}le.from=ue;function Q(M){const we=new g.InlayHint(M.text,n.to(M.position),Me.to(M.kind));return we.whitespaceAfter=M.whitespaceAfter,we.whitespaceBefore=M.whitespaceBefore,we}le.to=Q})(Le=e.InlayHint||(e.InlayHint={}));var Me;(function(le){function ue(M){return M}le.from=ue;function Q(M){return M}le.to=Q})(Me=e.InlayHintKind||(e.InlayHintKind={}));var He;(function(le){function ue(M){return{range:a.from(M.range),url:M.target,tooltip:M.tooltip}}le.from=ue;function Q(M){let we;if(M.url)try{we=typeof M.url=="string"?E.URI.parse(M.url,!0):E.URI.revive(M.url)}catch(_e){}return new g.DocumentLink(a.to(M.range),we)}le.to=Q})(He=e.DocumentLink||(e.DocumentLink={}));var Ye;(function(le){function ue(M){const we=new g.ColorPresentation(M.label);return M.textEdit&&(we.textEdit=R.to(M.textEdit)),M.additionalTextEdits&&(we.additionalTextEdits=M.additionalTextEdits.map(_e=>R.to(_e))),we}le.to=ue;function Q(M){return{label:M.label,textEdit:M.textEdit?R.from(M.textEdit):void 0,additionalTextEdits:M.additionalTextEdits?M.additionalTextEdits.map(we=>R.from(we)):void 0}}le.from=Q})(Ye=e.ColorPresentation||(e.ColorPresentation={}));var Ze;(function(le){function ue(M){return new g.Color(M[0],M[1],M[2],M[3])}le.to=ue;function Q(M){return[M.red,M.green,M.blue,M.alpha]}le.from=Q})(Ze=e.Color||(e.Color={}));var ot;(function(le){function ue(M){return{range:a.from(M.range)}}le.from=ue;function Q(M){return new g.SelectionRange(a.to(M.range))}le.to=Q})(ot=e.SelectionRange||(e.SelectionRange={}));var ae;(function(le){function ue(Q){switch(Q){case 2:return g.TextDocumentSaveReason.AfterDelay;case 1:return g.TextDocumentSaveReason.Manual;case 3:case 4:return g.TextDocumentSaveReason.FocusOut}}le.to=ue})(ae=e.TextDocumentSaveReason||(e.TextDocumentSaveReason={}));var be;(function(le){function ue(M){switch(M){case g.TextEditorLineNumbersStyle.Off:return 0;case g.TextEditorLineNumbersStyle.Relative:return 2;case g.TextEditorLineNumbersStyle.On:default:return 1}}le.from=ue;function Q(M){switch(M){case 0:return g.TextEditorLineNumbersStyle.Off;case 2:return g.TextEditorLineNumbersStyle.Relative;case 1:default:return g.TextEditorLineNumbersStyle.On}}le.to=Q})(be=e.TextEditorLineNumbersStyle||(e.TextEditorLineNumbersStyle={}));var Ie;(function(le){function ue(M){if(M===g.EndOfLine.CRLF)return 1;if(M===g.EndOfLine.LF)return 0}le.from=ue;function Q(M){if(M===1)return g.EndOfLine.CRLF;if(M===0)return g.EndOfLine.LF}le.to=Q})(Ie=e.EndOfLine||(e.EndOfLine={}));var We;(function(le){function ue(Q){if(typeof Q=="object")return Q.viewId;switch(Q){case g.ProgressLocation.SourceControl:return 3;case g.ProgressLocation.Window:return 10;case g.ProgressLocation.Notification:return 15}throw new Error("Unknown 'ProgressLocation'")}le.from=ue})(We=e.ProgressLocation||(e.ProgressLocation={}));var Xe;(function(le){function ue(Q){const M={start:Q.start+1,end:Q.end+1};return Q.kind&&(M.kind=at.from(Q.kind)),M}le.from=ue})(Xe=e.FoldingRange||(e.FoldingRange={}));var at;(function(le){function ue(Q){if(Q)switch(Q){case g.FoldingRangeKind.Comment:return T.FoldingRangeKind.Comment;case g.FoldingRangeKind.Imports:return T.FoldingRangeKind.Imports;case g.FoldingRangeKind.Region:return T.FoldingRangeKind.Region}}le.from=ue})(at=e.FoldingRangeKind||(e.FoldingRangeKind={}));var it;(function(le){function ue(Q){if(Q)return{pinned:typeof Q.preview=="boolean"?!Q.preview:void 0,inactive:Q.background,preserveFocus:Q.preserveFocus,selection:typeof Q.selection=="object"?a.from(Q.selection):void 0,override:typeof Q.override=="boolean"?p.EditorResolution.DISABLED:void 0}}le.from=ue})(it=e.TextEditorOpenOptions||(e.TextEditorOpenOptions={}));var ee;(function(le){function ue(M){return M instanceof g.RelativePattern||typeof M=="string"?M:Q(M)?new g.RelativePattern(M.base,M.pattern):M}le.from=ue;function Q(M){const we=M;return we&&typeof we.base=="string"&&typeof we.pattern=="string"}})(ee=e.GlobPattern||(e.GlobPattern={}));var De;(function(le){function ue(Q){if(Q){if(Array.isArray(Q))return Q.map(ue);if(typeof Q=="string")return Q;{const M=Q;return{language:M.language,scheme:M.scheme,pattern:typeof M.pattern=="undefined"?void 0:ee.from(M.pattern),exclusive:M.exclusive}}}else return}le.from=ue})(De=e.LanguageSelector||(e.LanguageSelector={}));var Te;(function(le){function ue(M){return{start:M.start,end:M.end}}le.from=ue;function Q(M){return new g.NotebookRange(M.start,M.end)}le.to=Q})(Te=e.NotebookRange||(e.NotebookRange={}));var $e;(function(le){function ue(M){return{timing:typeof M.runStartTime=="number"&&typeof M.runEndTime=="number"?{startTime:M.runStartTime,endTime:M.runEndTime}:void 0,executionOrder:M.executionOrder,success:M.lastRunSuccess}}le.to=ue;function Q(M){return{lastRunSuccess:M.success,runStartTime:M.timing?.startTime,runEndTime:M.timing?.endTime,executionOrder:M.executionOrder}}le.from=Q})($e=e.NotebookCellExecutionSummary||(e.NotebookCellExecutionSummary={}));var Ve;(function(le){function ue(M){switch(M){case g.NotebookCellKind.Markup:return w.CellKind.Markup;case g.NotebookCellKind.Code:default:return w.CellKind.Code}}le.from=ue;function Q(M){switch(M){case w.CellKind.Markup:return g.NotebookCellKind.Markup;case w.CellKind.Code:default:return g.NotebookCellKind.Code}}le.to=Q})(Ve=e.NotebookCellKind||(e.NotebookCellKind={}));var et;(function(le){function ue(M){const we={metadata:M.metadata??Object.create(null),cells:[]};for(let _e of M.cells)g.NotebookCellData.validate(_e),we.cells.push(Ue.from(_e));return we}le.from=ue;function Q(M){const we=new g.NotebookData(M.cells.map(Ue.to));return(0,m.isEmptyObject)(M.metadata)||(we.metadata=M.metadata),we}le.to=Q})(et=e.NotebookData||(e.NotebookData={}));var Ue;(function(le){function ue(M){return{cellKind:Ve.from(M.kind),language:M.languageId,mime:M.mime,source:M.value,metadata:M.metadata,internalMetadata:$e.from(M.executionSummary??{}),outputs:M.outputs?M.outputs.map(re.from):[]}}le.from=ue;function Q(M){return new g.NotebookCellData(Ve.to(M.cellKind),M.source,M.language,M.mime,M.outputs?M.outputs.map(re.to):void 0,M.metadata,M.internalMetadata?$e.to(M.internalMetadata):void 0)}le.to=Q})(Ue=e.NotebookCellData||(e.NotebookCellData={}));var ke;(function(le){function ue(M){return{mime:M.mime,valueBytes:_.VSBuffer.wrap(M.data)}}le.from=ue;function Q(M){return new g.NotebookCellOutputItem(M.valueBytes.buffer,M.mime)}le.to=Q})(ke=e.NotebookCellOutputItem||(e.NotebookCellOutputItem={}));var re;(function(le){function ue(M){return{outputId:M.id,items:M.items.map(ke.from),metadata:M.metadata}}le.from=ue;function Q(M){const we=M.items.map(ke.to);return new g.NotebookCellOutput(we,M.outputId,M.metadata)}le.to=Q})(re=e.NotebookCellOutput||(e.NotebookCellOutput={}));var ie;(function(le){function ue(_e){if(_e!=null){if(_e instanceof g.RelativePattern||typeof _e=="string")return _e;if(we(_e))return new g.RelativePattern(_e.base,_e.pattern);if(M(_e))return{include:ee.from(_e.include)||void 0,exclude:ee.from(_e.exclude)||void 0}}}le.from=ue;function Q(_e){return typeof _e=="string"?_e:we(_e)?{base:_e.base,pattern:_e.pattern}:{include:_e.include,exclude:_e.exclude}}le.to=Q;function M(_e){const Qe=_e,ze=ee.from(Qe.include);if(!(ze&&ze instanceof g.RelativePattern||typeof ze=="string"))return!1;const lt=ee.from(Qe.exclude);return!!(lt&&lt instanceof g.RelativePattern||typeof lt=="string")}function we(_e){const Qe=_e;return Qe&&typeof Qe.base=="string"&&typeof Qe.pattern=="string"}})(ie=e.NotebookExclusiveDocumentPattern||(e.NotebookExclusiveDocumentPattern={}));var fe;(function(le){function ue(Q){return{backgroundColor:Q.backgroundColor,borderColor:Q.borderColor,top:Q.top?K.from(Q.top):void 0}}le.from=ue})(fe=e.NotebookDecorationRenderOptions||(e.NotebookDecorationRenderOptions={}));var V;(function(le){function ue(Q,M,we){const _e=typeof Q.command=="string"?{title:"",command:Q.command}:Q.command;return{alignment:Q.alignment===g.NotebookCellStatusBarAlignment.Left?1:2,command:M.toInternal(_e,we),text:Q.text,tooltip:Q.tooltip,accessibilityInformation:Q.accessibilityInformation,priority:Q.priority}}le.from=ue})(V=e.NotebookStatusBarItem||(e.NotebookStatusBarItem={}));var J;(function(le){function ue(Q){return{transientOutputs:Q?.transientOutputs??!1,transientCellMetadata:Q?.transientCellMetadata??{},transientDocumentMetadata:Q?.transientDocumentMetadata??{}}}le.from=ue})(J=e.NotebookDocumentContentOptions||(e.NotebookDocumentContentOptions={}));var ce;(function(le){function ue(M){return{uri:M.uri,provides:M.provides}}le.from=ue;function Q(M){return new g.NotebookRendererScript(E.URI.revive(M.uri),M.provides)}le.to=Q})(ce=e.NotebookRendererScript||(e.NotebookRendererScript={}));var oe;(function(le){function ue(M){return{message:A.fromStrict(M.message)||"",type:0,expected:M.expectedOutput,actual:M.actualOutput,location:M.location?X.from(M.location):void 0}}le.from=ue;function Q(M){const we=new g.TestMessage(typeof M.message=="string"?M.message:A.to(M.message));return we.actualOutput=M.actual,we.expectedOutput=M.expected,we.location=M.location?X.to(M.location):void 0,we}le.to=Q})(oe=e.TestMessage||(e.TestMessage={}));var Ce;(function(le){let ue;(function(Q){Q.Delimiter="\0"})(ue||(ue={})),le.namespace=(Q,M)=>Q+"\0"+M,le.denamespace=Q=>{const M=Q.indexOf("\0");return{ctrlId:Q.slice(0,M),tagId:Q.slice(M+1)}}})(Ce=e.TestTag||(e.TestTag={}));var Oe;(function(le){function ue(_e){const Qe=(0,f.getPrivateApiFor)(_e).controllerId;return{extId:d.TestId.fromExtHostTestItem(_e,Qe).toString(),label:_e.label,uri:_e.uri,tags:_e.tags.map(ze=>Ce.namespace(Qe,ze.id)),range:a.from(_e.range)||null,description:_e.description||null,error:_e.error&&A.fromStrict(_e.error)||null}}le.from=ue;function Q(_e){return{parent:void 0,error:void 0,id:d.TestId.fromString(_e.extId).localId,label:_e.label,uri:E.URI.revive(_e.uri),tags:(_e.tags||[]).map(Qe=>{const{tagId:ze}=Ce.denamespace(Qe);return new g.TestTag(ze)}),range:a.to(_e.range||void 0),invalidateResults:()=>{},canResolveChildren:!1,busy:!1,description:_e.description||void 0}}le.toPlain=Q;function M(_e){const Qe=d.TestId.fromString(_e.extId),ze=new f.TestItemImpl(Qe.controllerId,Qe.localId,_e.label,E.URI.revive(_e.uri));return ze.range=a.to(_e.range||void 0),ze.description=_e.description||void 0,ze}function we(_e){let Qe;for(const ze of _e.tests){const lt=M(ze.item);(0,f.getPrivateApiFor)(lt).parent=Qe,Qe=lt}return Qe}le.toItemFromContext=we})(Oe=e.TestItem||(e.TestItem={})),function(le){function ue(M){return{id:M.id}}le.from=ue;function Q(M){return new g.TestTag(M.id)}le.to=Q}(Ce=e.TestTag||(e.TestTag={}));var Re;(function(le){const ue=(M,we)=>{const _e={...Oe.toPlain(M.item),parent:void 0,taskStates:M.tasks.map(Qe=>({state:Qe.state,duration:Qe.duration,messages:Qe.messages.filter(ze=>ze.type===0).map(oe.to)})),children:M.children.map(Qe=>we.get(Qe)).filter(m.isDefined).map(Qe=>ue(Qe,we))};for(const Qe of _e.children)Qe.parent=_e;return _e};function Q(M){const we=[],_e=new Map;for(const Qe of M.items)_e.set(Qe.item.extId,Qe),M.request.targets.some(ze=>ze.controllerId===Qe.controllerId&&ze.testIds.includes(Qe.item.extId))&&we.push(Qe);return{completedAt:M.completedAt,results:we.map(Qe=>ue(Qe,_e))}}le.to=Q})(Re=e.TestResults||(e.TestResults={}));var je;(function(le){function ue(_e){return{covered:_e.covered,total:_e.covered}}function Q(_e){return"line"in _e?n.from(_e):a.from(_e)}function M(_e){return"branches"in _e?{count:_e.executionCount,location:Q(_e.location),type:1,branches:_e.branches.length?_e.branches.map(Qe=>({count:Qe.executionCount,location:Qe.location&&Q(Qe.location)})):void 0}:{type:0,count:_e.executionCount,location:Q(_e.location)}}le.fromDetailed=M;function we(_e){return{uri:_e.uri,statement:ue(_e.statementCoverage),branch:_e.branchCoverage&&ue(_e.branchCoverage),function:_e.functionCoverage&&ue(_e.functionCoverage),details:_e.detailedCoverage?.map(M)}}le.fromFile=we})(je=e.TestCoverage||(e.TestCoverage={}));var Ke;(function(le){function ue(Q){switch(Q){case 1:return g.CodeActionTriggerKind.Invoke;case 2:return g.CodeActionTriggerKind.Automatic}}le.to=ue})(Ke=e.CodeActionTriggerKind||(e.CodeActionTriggerKind={}));var Je;(function(le){function ue(M){const we=new g.TypeHierarchyItem(H.to(M.kind),M.name,M.detail||"",E.URI.revive(M.uri),a.to(M.range),a.to(M.selectionRange));return we._sessionId=M._sessionId,we._itemId=M._itemId,we}le.to=ue;function Q(M,we,_e){if(we=we??M._sessionId,_e=_e??M._itemId,we===void 0||_e===void 0)throw new Error("invalid item");return{_sessionId:we,_itemId:_e,kind:H.from(M.kind),name:M.name,detail:M.detail??"",uri:M.uri,range:a.from(M.range),selectionRange:a.from(M.selectionRange),tags:M.tags?.map(q.from)}}le.from=Q})(Je=e.TypeHierarchyItem||(e.TypeHierarchyItem={}))}),define(he[231],de([0,1,12,226,14,94,101,107,227,105,108,8,187,106]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RemoteTerminalChannelClient=e.REMOTE_TERMINAL_CHANNEL_NAME=void 0,e.REMOTE_TERMINAL_CHANNEL_NAME="remoteterminal";let f=class{constructor(d,S,g,c,a,l,n,s,r,t){this._remoteAuthority=d,this._channel=S,this._configurationService=g,this._workspaceContextService=c,this._resolverService=a,this._environmentVariableService=l,this._remoteAuthorityResolverService=n,this._logService=s,this._editorService=r,this._labelService=t}get onPtyHostExit(){return this._channel.listen("$onPtyHostExitEvent")}get onPtyHostStart(){return this._channel.listen("$onPtyHostStartEvent")}get onPtyHostUnresponsive(){return this._channel.listen("$onPtyHostUnresponsiveEvent")}get onPtyHostResponsive(){return this._channel.listen("$onPtyHostResponsiveEvent")}get onPtyHostRequestResolveVariables(){return this._channel.listen("$onPtyHostRequestResolveVariablesEvent")}get onProcessData(){return this._channel.listen("$onProcessDataEvent")}get onProcessExit(){return this._channel.listen("$onProcessExitEvent")}get onProcessReady(){return this._channel.listen("$onProcessReadyEvent")}get onProcessReplay(){return this._channel.listen("$onProcessReplayEvent")}get onProcessTitleChanged(){return this._channel.listen("$onProcessTitleChangedEvent")}get onProcessShellTypeChanged(){return this._channel.listen("$onProcessShellTypeChangedEvent")}get onProcessOverrideDimensions(){return this._channel.listen("$onProcessOverrideDimensionsEvent")}get onProcessResolvedShellLaunchConfig(){return this._channel.listen("$onProcessResolvedShellLaunchConfigEvent")}get onProcessOrphanQuestion(){return this._channel.listen("$onProcessOrphanQuestion")}get onProcessDidChangeHasChildProcesses(){return this._channel.listen("$onProcessDidChangeHasChildProcesses")}get onExecuteCommand(){return this._channel.listen("$onExecuteCommand")}get onDidRequestDetach(){return this._channel.listen("$onDidRequestDetach")}get onDidChangeProperty(){return this._channel.listen("$onDidChangeProperty")}restartPtyHost(){return this._channel.call("$restartPtyHost",[])}async createProcess(d,S,g,c,a,l,n){await this._configurationService.whenRemoteConfigurationLoaded();const s=Object.create(null),r=g?(0,P.withNullAsUndefined)(this._workspaceContextService.getWorkspaceFolder(g)):void 0;let t;try{t=(await this._resolverService.resolveAnyMap(r,{shellLaunchConfig:d,configuration:S})).resolvedVariables}catch(K){this._logService.error(K)}if(t)for(const[K,j]of t.entries())(/^config:/.test(K)||K==="selectedText"||K==="lineNumber")&&(s[K]=j);const o=[];for(const[K,j]of this._environmentVariableService.collections.entries())o.push([K,(0,k.serializeEnvironmentVariableCollection)(j.map)]);const u=await this._remoteAuthorityResolverService.resolveAuthority(this._remoteAuthority),v=u.options&&u.options.extensionHostEnv,D=this._workspaceContextService.getWorkspace(),h=D.folders,A=g?this._workspaceContextService.getWorkspaceFolder(g):null,N=E.EditorResourceAccessor.getOriginalUri(this._editorService.activeEditor,{supportSideBySide:E.SideBySideEditor.PRIMARY,filterByScheme:[T.Schemas.file,T.Schemas.userData,T.Schemas.vscodeRemote]}),$={configuration:S,resolvedVariables:s,envVariableCollections:o,shellLaunchConfig:d,workspaceId:D.id,workspaceName:this._labelService.getWorkspaceLabel(D),workspaceFolders:h,activeWorkspaceFolder:A,activeFileResource:N,shouldPersistTerminal:c,cols:a,rows:l,unicodeVersion:n,resolverEnv:v};return await this._channel.call("$createProcess",$)}requestDetachInstance(d,S){return this._channel.call("$requestDetachInstance",[d,S])}acceptDetachInstanceReply(d,S){return this._channel.call("$acceptDetachInstanceReply",[d,S])}attachToProcess(d){return this._channel.call("$attachToProcess",[d])}detachFromProcess(d){return this._channel.call("$detachFromProcess",[d])}listProcesses(){return this._channel.call("$listProcesses")}reduceConnectionGraceTime(){return this._channel.call("$reduceConnectionGraceTime")}processBinary(d,S){return this._channel.call("$processBinary",[d,S])}start(d){return this._channel.call("$start",[d])}input(d,S){return this._channel.call("$input",[d,S])}acknowledgeDataEvent(d,S){return this._channel.call("$acknowledgeDataEvent",[d,S])}setUnicodeVersion(d,S){return this._channel.call("$setUnicodeVersion",[d,S])}shutdown(d,S){return this._channel.call("$shutdown",[d,S])}resize(d,S,g){return this._channel.call("$resize",[d,S,g])}getInitialCwd(d){return this._channel.call("$getInitialCwd",[d])}getCwd(d){return this._channel.call("$getCwd",[d])}orphanQuestionReply(d){return this._channel.call("$orphanQuestionReply",[d])}sendCommandResult(d,S,g){return this._channel.call("$sendCommandResult",[d,S,g])}getDefaultSystemShell(d){return this._channel.call("$getDefaultSystemShell",[d])}getProfiles(d,S,g){return this._channel.call("$getProfiles",[this._workspaceContextService.getWorkspace().id,d,S,g])}acceptPtyHostResolvedVariables(d,S){return this._channel.call("$acceptPtyHostResolvedVariables",[d,S])}getEnvironment(){return this._channel.call("$getEnvironment")}getWslPath(d){return this._channel.call("$getWslPath",[d])}setTerminalLayoutInfo(d){const g={workspaceId:this._workspaceContextService.getWorkspace().id,tabs:d.tabs};return this._channel.call("$setTerminalLayoutInfo",g)}updateTitle(d,S){return this._channel.call("$updateTitle",[d,S])}updateIcon(d,S,g){return this._channel.call("$updateIcon",[d,S,g])}refreshProperty(d,S){return this._channel.call("$refreshProperty",[d,S])}updateProperty(d,S,g){return this._channel.call("$updateProperty",[d,S,g])}getTerminalLayoutInfo(){const S={workspaceId:this._workspaceContextService.getWorkspace().id};return this._channel.call("$getTerminalLayoutInfo",S)}reviveTerminalProcesses(d){return this._channel.call("$reviveTerminalProcesses",[d])}serializeTerminalState(d){return this._channel.call("$serializeTerminalState",[d])}};f=Ne([Ge(2,_.IWorkbenchConfigurationService),Ge(3,I.IWorkspaceContextService),Ge(4,m.IConfigurationResolverService),Ge(5,b.IEnvironmentVariableService),Ge(6,C.IRemoteAuthorityResolverService),Ge(7,y.ILogService),Ge(8,i.IEditorService),Ge(9,p.ILabelService)],f),e.RemoteTerminalChannelClient=f}),define(he[232],de([0,1,191]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.Translations=void 0;var _;(function(C){function I(k,m){if(k===m)return!0;let E=Object.keys(k),i=new Set;for(let T of Object.keys(m))i.add(T);if(E.length!==i.size)return!1;for(let T of E){if(k[T]!==m[T])return!1;i.delete(T)}return i.size===0}C.equals=I})(_=e.Translations||(e.Translations={}));class y{constructor(I){this._messageHandler=I}error(I,k){this._messageHandler(P.Severity.Error,I,k)}warn(I,k){this._messageHandler(P.Severity.Warning,I,k)}info(I,k){this._messageHandler(P.Severity.Info,I,k)}}e.Logger=y}),define(he[109],de([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableObjectWithBuffers=e.getStringIdentifierForProxy=e.createExtHostContextProxyIdentifier=e.createMainContextProxyIdentifier=e.ProxyIdentifier=void 0;class P{constructor(E,i){this._proxyIdentifierBrand=void 0,this.isMain=E,this.sid=i,this.nid=++P.count}}e.ProxyIdentifier=P,P.count=0;const _=[];function y(m){const E=new P(!0,m);return _[E.nid]=E,E}e.createMainContextProxyIdentifier=y;function C(m){const E=new P(!1,m);return _[E.nid]=E,E}e.createExtHostContextProxyIdentifier=C;function I(m){return _[m].sid}e.getStringIdentifierForProxy=I;class k{constructor(E){this.value=E}}e.SerializableObjectWithBuffers=k}),define(he[233],de([0,1,50,5,109]),function(Z,e,P,_,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostContext=e.MainContext=e.ExtHostTestingResource=e.reviveWorkspaceEditDto=e.WorkspaceEditType=e.ISuggestResultDtoField=e.ISuggestDataDtoField=e.IdObject=e.ObjectIdentifier=e.CandidatePortSource=e.NotebookEditorRevealType=e.CellOutputKind=e.WebviewMessageArrayBufferViewType=e.WebviewEditorCapabilities=e.TextEditorRevealType=e.UIKind=void 0;var C;(function(c){c[c.Desktop=1]="Desktop",c[c.Web=2]="Web"})(C=e.UIKind||(e.UIKind={}));var I;(function(c){c[c.Default=0]="Default",c[c.InCenter=1]="InCenter",c[c.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",c[c.AtTop=3]="AtTop"})(I=e.TextEditorRevealType||(e.TextEditorRevealType={}));var k;(function(c){c[c.Editable=0]="Editable",c[c.SupportsHotExit=1]="SupportsHotExit"})(k=e.WebviewEditorCapabilities||(e.WebviewEditorCapabilities={}));var m;(function(c){c[c.Int8Array=1]="Int8Array",c[c.Uint8Array=2]="Uint8Array",c[c.Uint8ClampedArray=3]="Uint8ClampedArray",c[c.Int16Array=4]="Int16Array",c[c.Uint16Array=5]="Uint16Array",c[c.Int32Array=6]="Int32Array",c[c.Uint32Array=7]="Uint32Array",c[c.Float32Array=8]="Float32Array",c[c.Float64Array=9]="Float64Array",c[c.BigInt64Array=10]="BigInt64Array",c[c.BigUint64Array=11]="BigUint64Array"})(m=e.WebviewMessageArrayBufferViewType||(e.WebviewMessageArrayBufferViewType={}));var E;(function(c){c[c.Text=1]="Text",c[c.Error=2]="Error",c[c.Rich=3]="Rich"})(E=e.CellOutputKind||(e.CellOutputKind={}));var i;(function(c){c[c.Default=0]="Default",c[c.InCenter=1]="InCenter",c[c.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",c[c.AtTop=3]="AtTop"})(i=e.NotebookEditorRevealType||(e.NotebookEditorRevealType={}));var T;(function(c){c[c.None=0]="None",c[c.Process=1]="Process",c[c.Output=2]="Output"})(T=e.CandidatePortSource||(e.CandidatePortSource={}));var p;(function(c){c.name="$ident";function a(n,s){return Object.defineProperty(n,c.name,{value:s,enumerable:!0}),n}c.mixin=a;function l(n){return n[c.name]}c.of=l})(p=e.ObjectIdentifier||(e.ObjectIdentifier={}));class b{static mixin(a){return a._id=b._n++,a}}e.IdObject=b,b._n=0;var f;(function(c){c.label="a",c.kind="b",c.detail="c",c.documentation="d",c.sortText="e",c.filterText="f",c.preselect="g",c.insertText="h",c.insertTextRules="i",c.range="j",c.commitCharacters="k",c.additionalTextEdits="l",c.command="m",c.kindModifier="n"})(f=e.ISuggestDataDtoField||(e.ISuggestDataDtoField={}));var w;(function(c){c.defaultRanges="a",c.completions="b",c.isIncomplete="c",c.duration="d"})(w=e.ISuggestResultDtoField||(e.ISuggestResultDtoField={}));var d;(function(c){c[c.File=1]="File",c[c.Text=2]="Text",c[c.Cell=3]="Cell"})(d=e.WorkspaceEditType||(e.WorkspaceEditType={}));function S(c){if(c&&c.edits)for(const a of c.edits)typeof a.resource=="object"?a.resource=_.URI.revive(a.resource):(a.newUri=_.URI.revive(a.newUri),a.oldUri=_.URI.revive(a.oldUri)),a.metadata&&a.metadata.iconPath&&(a.metadata=(0,P.revive)(a.metadata));return c}e.reviveWorkspaceEditDto=S;var g;(function(c){c[c.Workspace=0]="Workspace",c[c.TextDocument=1]="TextDocument"})(g=e.ExtHostTestingResource||(e.ExtHostTestingResource={})),e.MainContext={MainThreadAuthentication:(0,y.createMainContextProxyIdentifier)("MainThreadAuthentication"),MainThreadBulkEdits:(0,y.createMainContextProxyIdentifier)("MainThreadBulkEdits"),MainThreadClipboard:(0,y.createMainContextProxyIdentifier)("MainThreadClipboard"),MainThreadCommands:(0,y.createMainContextProxyIdentifier)("MainThreadCommands"),MainThreadComments:(0,y.createMainContextProxyIdentifier)("MainThreadComments"),MainThreadConfiguration:(0,y.createMainContextProxyIdentifier)("MainThreadConfiguration"),MainThreadConsole:(0,y.createMainContextProxyIdentifier)("MainThreadConsole"),MainThreadDebugService:(0,y.createMainContextProxyIdentifier)("MainThreadDebugService"),MainThreadDecorations:(0,y.createMainContextProxyIdentifier)("MainThreadDecorations"),MainThreadDiagnostics:(0,y.createMainContextProxyIdentifier)("MainThreadDiagnostics"),MainThreadDialogs:(0,y.createMainContextProxyIdentifier)("MainThreadDiaglogs"),MainThreadDocuments:(0,y.createMainContextProxyIdentifier)("MainThreadDocuments"),MainThreadDocumentContentProviders:(0,y.createMainContextProxyIdentifier)("MainThreadDocumentContentProviders"),MainThreadTextEditors:(0,y.createMainContextProxyIdentifier)("MainThreadTextEditors"),MainThreadEditorInsets:(0,y.createMainContextProxyIdentifier)("MainThreadEditorInsets"),MainThreadEditorTabs:(0,y.createMainContextProxyIdentifier)("MainThreadEditorTabs"),MainThreadErrors:(0,y.createMainContextProxyIdentifier)("MainThreadErrors"),MainThreadTreeViews:(0,y.createMainContextProxyIdentifier)("MainThreadTreeViews"),MainThreadDownloadService:(0,y.createMainContextProxyIdentifier)("MainThreadDownloadService"),MainThreadKeytar:(0,y.createMainContextProxyIdentifier)("MainThreadKeytar"),MainThreadLanguageFeatures:(0,y.createMainContextProxyIdentifier)("MainThreadLanguageFeatures"),MainThreadLanguages:(0,y.createMainContextProxyIdentifier)("MainThreadLanguages"),MainThreadLog:(0,y.createMainContextProxyIdentifier)("MainThread"),MainThreadMessageService:(0,y.createMainContextProxyIdentifier)("MainThreadMessageService"),MainThreadOutputService:(0,y.createMainContextProxyIdentifier)("MainThreadOutputService"),MainThreadProgress:(0,y.createMainContextProxyIdentifier)("MainThreadProgress"),MainThreadQuickOpen:(0,y.createMainContextProxyIdentifier)("MainThreadQuickOpen"),MainThreadStatusBar:(0,y.createMainContextProxyIdentifier)("MainThreadStatusBar"),MainThreadSecretState:(0,y.createMainContextProxyIdentifier)("MainThreadSecretState"),MainThreadStorage:(0,y.createMainContextProxyIdentifier)("MainThreadStorage"),MainThreadTelemetry:(0,y.createMainContextProxyIdentifier)("MainThreadTelemetry"),MainThreadTerminalService:(0,y.createMainContextProxyIdentifier)("MainThreadTerminalService"),MainThreadWebviews:(0,y.createMainContextProxyIdentifier)("MainThreadWebviews"),MainThreadWebviewPanels:(0,y.createMainContextProxyIdentifier)("MainThreadWebviewPanels"),MainThreadWebviewViews:(0,y.createMainContextProxyIdentifier)("MainThreadWebviewViews"),MainThreadCustomEditors:(0,y.createMainContextProxyIdentifier)("MainThreadCustomEditors"),MainThreadUrls:(0,y.createMainContextProxyIdentifier)("MainThreadUrls"),MainThreadUriOpeners:(0,y.createMainContextProxyIdentifier)("MainThreadUriOpeners"),MainThreadWorkspace:(0,y.createMainContextProxyIdentifier)("MainThreadWorkspace"),MainThreadFileSystem:(0,y.createMainContextProxyIdentifier)("MainThreadFileSystem"),MainThreadExtensionService:(0,y.createMainContextProxyIdentifier)("MainThreadExtensionService"),MainThreadSCM:(0,y.createMainContextProxyIdentifier)("MainThreadSCM"),MainThreadSearch:(0,y.createMainContextProxyIdentifier)("MainThreadSearch"),MainThreadTask:(0,y.createMainContextProxyIdentifier)("MainThreadTask"),MainThreadWindow:(0,y.createMainContextProxyIdentifier)("MainThreadWindow"),MainThreadLabelService:(0,y.createMainContextProxyIdentifier)("MainThreadLabelService"),MainThreadNotebook:(0,y.createMainContextProxyIdentifier)("MainThreadNotebook"),MainThreadNotebookDocuments:(0,y.createMainContextProxyIdentifier)("MainThreadNotebookDocumentsShape"),MainThreadNotebookEditors:(0,y.createMainContextProxyIdentifier)("MainThreadNotebookEditorsShape"),MainThreadNotebookKernels:(0,y.createMainContextProxyIdentifier)("MainThreadNotebookKernels"),MainThreadNotebookRenderers:(0,y.createMainContextProxyIdentifier)("MainThreadNotebookRenderers"),MainThreadInteractive:(0,y.createMainContextProxyIdentifier)("MainThreadInteractive"),MainThreadTheming:(0,y.createMainContextProxyIdentifier)("MainThreadTheming"),MainThreadTunnelService:(0,y.createMainContextProxyIdentifier)("MainThreadTunnelService"),MainThreadTimeline:(0,y.createMainContextProxyIdentifier)("MainThreadTimeline"),MainThreadTesting:(0,y.createMainContextProxyIdentifier)("MainThreadTesting")},e.ExtHostContext={ExtHostCommands:(0,y.createExtHostContextProxyIdentifier)("ExtHostCommands"),ExtHostConfiguration:(0,y.createExtHostContextProxyIdentifier)("ExtHostConfiguration"),ExtHostDiagnostics:(0,y.createExtHostContextProxyIdentifier)("ExtHostDiagnostics"),ExtHostDebugService:(0,y.createExtHostContextProxyIdentifier)("ExtHostDebugService"),ExtHostDecorations:(0,y.createExtHostContextProxyIdentifier)("ExtHostDecorations"),ExtHostDocumentsAndEditors:(0,y.createExtHostContextProxyIdentifier)("ExtHostDocumentsAndEditors"),ExtHostDocuments:(0,y.createExtHostContextProxyIdentifier)("ExtHostDocuments"),ExtHostDocumentContentProviders:(0,y.createExtHostContextProxyIdentifier)("ExtHostDocumentContentProviders"),ExtHostDocumentSaveParticipant:(0,y.createExtHostContextProxyIdentifier)("ExtHostDocumentSaveParticipant"),ExtHostEditors:(0,y.createExtHostContextProxyIdentifier)("ExtHostEditors"),ExtHostTreeViews:(0,y.createExtHostContextProxyIdentifier)("ExtHostTreeViews"),ExtHostFileSystem:(0,y.createExtHostContextProxyIdentifier)("ExtHostFileSystem"),ExtHostFileSystemInfo:(0,y.createExtHostContextProxyIdentifier)("ExtHostFileSystemInfo"),ExtHostFileSystemEventService:(0,y.createExtHostContextProxyIdentifier)("ExtHostFileSystemEventService"),ExtHostLanguages:(0,y.createExtHostContextProxyIdentifier)("ExtHostLanguages"),ExtHostLanguageFeatures:(0,y.createExtHostContextProxyIdentifier)("ExtHostLanguageFeatures"),ExtHostQuickOpen:(0,y.createExtHostContextProxyIdentifier)("ExtHostQuickOpen"),ExtHostExtensionService:(0,y.createExtHostContextProxyIdentifier)("ExtHostExtensionService"),ExtHostLogService:(0,y.createExtHostContextProxyIdentifier)("ExtHostLogService"),ExtHostTerminalService:(0,y.createExtHostContextProxyIdentifier)("ExtHostTerminalService"),ExtHostSCM:(0,y.createExtHostContextProxyIdentifier)("ExtHostSCM"),ExtHostSearch:(0,y.createExtHostContextProxyIdentifier)("ExtHostSearch"),ExtHostTask:(0,y.createExtHostContextProxyIdentifier)("ExtHostTask"),ExtHostWorkspace:(0,y.createExtHostContextProxyIdentifier)("ExtHostWorkspace"),ExtHostWindow:(0,y.createExtHostContextProxyIdentifier)("ExtHostWindow"),ExtHostWebviews:(0,y.createExtHostContextProxyIdentifier)("ExtHostWebviews"),ExtHostWebviewPanels:(0,y.createExtHostContextProxyIdentifier)("ExtHostWebviewPanels"),ExtHostCustomEditors:(0,y.createExtHostContextProxyIdentifier)("ExtHostCustomEditors"),ExtHostWebviewViews:(0,y.createExtHostContextProxyIdentifier)("ExtHostWebviewViews"),ExtHostEditorInsets:(0,y.createExtHostContextProxyIdentifier)("ExtHostEditorInsets"),ExtHostEditorTabs:(0,y.createExtHostContextProxyIdentifier)("ExtHostEditorTabs"),ExtHostProgress:(0,y.createMainContextProxyIdentifier)("ExtHostProgress"),ExtHostComments:(0,y.createMainContextProxyIdentifier)("ExtHostComments"),ExtHostSecretState:(0,y.createMainContextProxyIdentifier)("ExtHostSecretState"),ExtHostStorage:(0,y.createMainContextProxyIdentifier)("ExtHostStorage"),ExtHostUrls:(0,y.createExtHostContextProxyIdentifier)("ExtHostUrls"),ExtHostUriOpeners:(0,y.createExtHostContextProxyIdentifier)("ExtHostUriOpeners"),ExtHostOutputService:(0,y.createMainContextProxyIdentifier)("ExtHostOutputService"),ExtHosLabelService:(0,y.createMainContextProxyIdentifier)("ExtHostLabelService"),ExtHostNotebook:(0,y.createMainContextProxyIdentifier)("ExtHostNotebook"),ExtHostNotebookDocuments:(0,y.createMainContextProxyIdentifier)("ExtHostNotebookDocuments"),ExtHostNotebookEditors:(0,y.createMainContextProxyIdentifier)("ExtHostNotebookEditors"),ExtHostNotebookKernels:(0,y.createMainContextProxyIdentifier)("ExtHostNotebookKernels"),ExtHostNotebookRenderers:(0,y.createMainContextProxyIdentifier)("ExtHostNotebookRenderers"),ExtHostInteractive:(0,y.createMainContextProxyIdentifier)("ExtHostInteractive"),ExtHostTheming:(0,y.createMainContextProxyIdentifier)("ExtHostTheming"),ExtHostTunnelService:(0,y.createMainContextProxyIdentifier)("ExtHostTunnelService"),ExtHostAuthentication:(0,y.createMainContextProxyIdentifier)("ExtHostAuthentication"),ExtHostTimeline:(0,y.createMainContextProxyIdentifier)("ExtHostTimeline"),ExtHostTesting:(0,y.createMainContextProxyIdentifier)("ExtHostTesting"),ExtHostTelemetry:(0,y.createMainContextProxyIdentifier)("ExtHostTelemetry")}}),define(he[234],de([0,1,12,104,230,20,233,18,14,50,59,86,5,2,7,221,103,17,109,36]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b,f,w,d,S,g,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApiCommand=e.ApiCommandResult=e.ApiCommandArgument=e.CommandsConverter=e.IExtHostCommands=e.ExtHostCommands=void 0;let a=class{constructor(o,u){this._commands=new Map,this._apiCommands=new Map,this._proxy=o.getProxy(I.MainContext.MainThreadCommands),this._logService=u,this.converter=new l(this,v=>{const D=this._apiCommands.get(v);return D?.result===s.Void?D:void 0},u),this._argumentProcessors=[{processArgument(v){return(0,E.revive)(v)}},{processArgument(v){return(0,C.cloneAndChange)(v,function(D){if(i.Range.isIRange(D))return y.Range.to(D);if(T.Position.isIPosition(D))return y.Position.to(D);if(i.Range.isIRange(D.range)&&p.URI.isUri(D.uri))return y.location.to(D);if(D instanceof S.VSBuffer)return D.buffer.buffer;if(!Array.isArray(D))return D})}}]}registerArgumentProcessor(o){this._argumentProcessors.push(o)}registerApiCommand(o){const u=this.registerCommand(!1,o.id,async(...v)=>{const D=o.args.map((A,N)=>{if(!A.validate(v[N]))throw new Error(`Invalid argument '${A.name}' when running '${o.id}', received: ${v[N]}`);return A.convert(v[N])}),h=await this.executeCommand(o.internalId,...D);return o.result.convert(h,v,this.converter)},void 0,{description:o.description,args:o.args,returns:o.result.description});return this._apiCommands.set(o.id,o),new _.Disposable(()=>{u.dispose(),this._apiCommands.delete(o.id)})}registerCommand(o,u,v,D,h,A){if(this._logService.trace("ExtHostCommands#registerCommand",u),!u.trim().length)throw new Error("invalid id");if(this._commands.has(u))throw new Error(`command '${u}' already exists`);return this._commands.set(u,{callback:v,thisArg:D,description:h,extension:A}),o&&this._proxy.$registerCommand(u),new _.Disposable(()=>{this._commands.delete(u)&&o&&this._proxy.$unregisterCommand(u)})}executeCommand(o,...u){return this._logService.trace("ExtHostCommands#executeCommand",o),this._doExecuteCommand(o,u,!0)}async _doExecuteCommand(o,u,v){if(this._commands.has(o))return this._executeContributedCommand(o,u,!1);{let D=!1;const h=(0,C.cloneAndChange)(u,function(A){if(A instanceof _.Position)return y.Position.from(A);if(A instanceof _.Range)return y.Range.from(A);if(A instanceof _.Location)return y.location.from(A);if(_.NotebookRange.isNotebookRange(A))return y.NotebookRange.from(A);if(A instanceof ArrayBuffer)return D=!0,S.VSBuffer.wrap(new Uint8Array(A));if(A instanceof Uint8Array)return D=!0,S.VSBuffer.wrap(A);if(!Array.isArray(A))return A});try{const A=await this._proxy.$executeCommand(o,D?new g.SerializableObjectWithBuffers(h):h,v);return(0,E.revive)(A)}catch(A){if(A instanceof Error&&A.message==="$executeCommand:retry")return this._doExecuteCommand(o,u,!1);throw A}}}async _executeContributedCommand(o,u,v){const D=this._commands.get(o);if(!D)throw new Error("Unknown command");let{callback:h,thisArg:A,description:N}=D;if(N)for(let $=0;$<N.args.length;$++)try{(0,P.validateConstraint)(u[$],N.args[$].constraint)}catch(K){throw new Error(`Running the contributed command: '${o}' failed. Illegal argument '${N.args[$].name}' - ${N.args[$].description}`)}try{return await h.apply(A,u)}catch($){if(o===this.converter.delegatingCommandId){const K=this.converter.getActualCommand(...u);K&&(o=K.command)}throw this._logService.error($,o,D.extension?.identifier),v?new class extends Error{constructor(){super((0,c.toErrorMessage)($));this.id=o,this.source=D.extension?.displayName??D.extension?.name}}:$}}$executeContributedCommand(o,...u){return this._logService.trace("ExtHostCommands#$executeContributedCommand",o),this._commands.has(o)?(u=u.map(v=>this._argumentProcessors.reduce((D,h)=>h.processArgument(D),v)),this._executeContributedCommand(o,u,!0)):Promise.reject(new Error(`Contributed command '${o}' does not exist.`))}getCommands(o=!1){return this._logService.trace("ExtHostCommands#getCommands",o),this._proxy.$getCommands().then(u=>(o&&(u=u.filter(v=>v[0]!=="_")),u))}$getContributedCommandHandlerDescriptions(){const o=Object.create(null);for(let[u,v]of this._commands){let{description:D}=v;D&&(o[u]=D)}return Promise.resolve(o)}};a=Ne([Ge(0,w.IExtHostRpcService),Ge(1,m.ILogService)],a),e.ExtHostCommands=a,e.IExtHostCommands=(0,f.createDecorator)("IExtHostCommands");class l{constructor(o,u,v){this._commands=o,this._lookupApiCommand=u,this._logService=v,this.delegatingCommandId=`_vscode_delegate_cmd_${Date.now().toString(36)}`,this._cache=new Map,this._cachIdPool=0,this._commands.registerCommand(!0,this.delegatingCommandId,this._executeConvertedCommand,this)}toInternal(o,u){if(!o)return;const v={$ident:void 0,id:o.command,title:o.title,tooltip:o.tooltip};if(!o.command)return v;const D=this._lookupApiCommand(o.command);if(D)v.id=D.internalId,v.arguments=D.args.map((h,A)=>h.convert(o.arguments&&o.arguments[A]));else if((0,k.isNonEmptyArray)(o.arguments)){const h=++this._cachIdPool;this._cache.set(h,o),u.add((0,b.toDisposable)(()=>{this._cache.delete(h),this._logService.trace("CommandsConverter#DISPOSE",h)})),v.$ident=h,v.id=this.delegatingCommandId,v.arguments=[h],this._logService.trace("CommandsConverter#CREATE",o.command,h)}return v}fromInternal(o){const u=I.ObjectIdentifier.of(o);return typeof u=="number"?this._cache.get(u):{command:o.id,title:o.title,arguments:o.arguments}}getActualCommand(...o){return this._cache.get(o[0])}_executeConvertedCommand(...o){const u=this.getActualCommand(...o);return this._logService.trace("CommandsConverter#EXECUTE",o[0],u?u.command:"MISSING"),u?this._commands.executeCommand(u.command,...u.arguments||[]):Promise.reject("actual command NOT FOUND")}}e.CommandsConverter=l;class n{constructor(o,u,v,D){this.name=o,this.description=u,this.validate=v,this.convert=D}optional(){return new n(this.name,`(optional) ${this.description}`,o=>o==null||this.validate(o),o=>o===void 0?void 0:o===null?null:this.convert(o))}with(o,u){return new n(o??this.name,u??this.description,this.validate,this.convert)}}e.ApiCommandArgument=n,n.Uri=new n("uri","Uri of a text document",t=>p.URI.isUri(t),t=>t),n.Position=new n("position","A position in a text document",t=>_.Position.isPosition(t),y.Position.from),n.Range=new n("range","A range in a text document",t=>_.Range.isRange(t),y.Range.from),n.Selection=new n("selection","A selection in a text document",t=>_.Selection.isSelection(t),y.Selection.from),n.Number=new n("number","",t=>typeof t=="number",t=>t),n.String=new n("string","",t=>typeof t=="string",t=>t),n.CallHierarchyItem=new n("item","A call hierarchy item",t=>t instanceof _.CallHierarchyItem,y.CallHierarchyItem.from),n.TypeHierarchyItem=new n("item","A type hierarchy item",t=>t instanceof _.TypeHierarchyItem,y.TypeHierarchyItem.from),n.TestItem=new n("testItem","A VS Code TestItem",t=>t instanceof d.TestItemImpl,y.TestItem.from);class s{constructor(o,u){this.description=o,this.convert=u}}e.ApiCommandResult=s,s.Void=new s("no result",t=>t);class r{constructor(o,u,v,D,h){this.id=o,this.internalId=u,this.description=v,this.args=D,this.result=h}}e.ApiCommand=r}),define(he[235],de([0,1,80]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logRemoteEntryIfError=e.logRemoteEntry=void 0;function _(C,I,k=null){const m=(0,P.parse)(I).args;let E=m.shift();if(typeof E=="string")switch(I.severity||(I.severity="info"),k&&(/^\[/.test(k)||(k=`[${k}]`),/ $/.test(k)||(k=`${k} `),E=k+E),I.severity){case"log":case"info":C.info(E,...m);break;case"warn":C.warn(E,...m);break;case"error":C.error(E,...m);break}}e.logRemoteEntry=_;function y(C,I,k){const m=(0,P.parse)(I).args,E=m.shift();typeof E!="string"||I.severity!=="error"||(/^\[/.test(k)||(k=`[${k}]`),/ $/.test(k)||(k=`${k} `),C.error(k+E,...m))}e.logRemoteEntryIfError=y}),define(he[236],de([0,1,167,3,52,38,18,139,12,5,16,34,62,48,232]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionScanner=e.ExtensionScannerInput=void 0;const w="package.json";class d{constructor(r,t,o,u,v,D){this._ourVersion=r,this._ourProductDate=t,this._log=o,this._absoluteFolderPath=u,this._isBuiltin=v,this._isUnderDevelopment=D,this._absoluteManifestPath=_.join(u,w)}}class S extends d{static _fastParseJSON(r,t){try{return JSON.parse(r)}catch(o){return C.parse(r,t)}}parse(){return i.Promises.readFile(this._absoluteManifestPath).then(r=>{const t=[],o=S._fastParseJSON(r.toString(),t);if(C.getNodeType(o)!=="object")this._log.error(this._absoluteFolderPath,P.localize(0,null,this._absoluteManifestPath));else{if(t.length===0)return o.__metadata&&(o.uuid=o.__metadata.id),o.isUserBuiltin=!!o.__metadata?.isBuiltin,delete o.__metadata,o;t.forEach(u=>{this._log.error(this._absoluteFolderPath,P.localize(1,null,this._absoluteManifestPath,u.offset,u.length,(0,k.getParseErrorMessage)(u.error)))})}return null},r=>(r.code==="ENOENT"||this._log.error(this._absoluteFolderPath,P.localize(2,null,this._absoluteManifestPath,r.message)),null))}}class g extends d{constructor(r,t,o,u,v,D,h){super(r,t,o,u,v,D);this._nlsConfig=h}replaceNLS(r){const t=(N,$)=>{$.forEach(K=>{this._log.error(this._absoluteFolderPath,P.localize(3,null,N,(0,k.getParseErrorMessage)(K.error)))})},o=N=>{this._log.error(this._absoluteFolderPath,P.localize(4,null,N))};let u=_.extname(this._absoluteManifestPath),v=this._absoluteManifestPath.substr(0,this._absoluteManifestPath.length-u.length);const D=`${r.publisher}.${r.name}`;let h=this._nlsConfig.translations[D],A;return h?A=i.Promises.readFile(h,"utf8").then(N=>{let $=[],K=C.parse(N,$);return $.length>0?(t(h,$),{values:void 0,default:`${v}.nls.json`}):C.getNodeType(K)!=="object"?(o(h),{values:void 0,default:`${v}.nls.json`}):{values:K.contents?K.contents.package:void 0,default:`${v}.nls.json`}},N=>({values:void 0,default:`${v}.nls.json`})):A=i.SymlinkSupport.existsFile(v+".nls"+u).then(N=>{if(!!N)return g.findMessageBundles(this._nlsConfig,v).then($=>$.localized?i.Promises.readFile($.localized,"utf8").then(K=>{let j=[],F=C.parse(K,j);return j.length>0?(t($.localized,j),{values:void 0,default:$.original}):C.getNodeType(F)!=="object"?(o($.localized),{values:void 0,default:$.original}):{values:F,default:$.original}},K=>({values:void 0,default:$.original})):{values:void 0,default:$.original},$=>{})}),A.then(N=>{if(N===void 0)return r;let $=[];return g.resolveOriginalMessageBundle(N.default,$).then(K=>{if($.length>0)return t(N.default,$),r;if(C.getNodeType(N)!=="object")return o(N.default),r;const j=N.values||Object.create(null);return g._replaceNLStrings(this._nlsConfig,r,j,K,this._log,this._absoluteFolderPath),r})},N=>r)}static resolveOriginalMessageBundle(r,t){return new Promise((o,u)=>{r?i.Promises.readFile(r).then(v=>{o(C.parse(v.toString(),t))},v=>{o(null)}):o(null)})}static findMessageBundles(r,t){return new Promise((o,u)=>{function v(D,h){let A=`${D}.nls.${h}.json`;i.SymlinkSupport.existsFile(A).then(N=>{N&&o({localized:A,original:`${D}.nls.json`});let $=h.lastIndexOf("-");$===-1?o({localized:`${D}.nls.json`,original:null}):(h=h.substring(0,$),v(D,h))})}if(r.devMode||r.pseudo||!r.locale)return o({localized:t+".nls.json",original:null});v(t,r.locale)})}static _replaceNLStrings(r,t,o,u,v,D){function h(A,N,$){const K=A[N];if(m.isString(K)){const j=K,F=j.length;if(F>1&&j[0]==="%"&&j[F-1]==="%"){const G=j.substr(1,F-2);let R=o[G];R===void 0&&u&&(R=u[G]);let B=typeof R=="string"?R:typeof R?.message=="string"?R.message:void 0;B!==void 0?(r.pseudo&&(B="\uFF3B"+B.replace(/[aouei]/g,"$&$&")+"\uFF3D"),A[N]=$&&(N==="title"||N==="category")&&u?{value:B,original:u[G]}:B):v.warn(D,P.localize(5,null,G))}}else if(m.isObject(K))for(let j in K)K.hasOwnProperty(j)&&(j==="commands"?h(K,j,!0):h(K,j,$));else if(m.isArray(K))for(let j=0;j<K.length;j++)h(K,j,$)}for(let A in t)t.hasOwnProperty(A)&&h(t,A)}}class c extends d{validate(r){let t=r;t.isBuiltin=this._isBuiltin,t.isUserBuiltin=!this._isBuiltin&&!!t.isUserBuiltin,t.isUnderDevelopment=this._isUnderDevelopment;let o=[];return c.isValidExtensionDescription(this._ourVersion,this._ourProductDate,this._absoluteFolderPath,t,o)?(o.forEach(u=>{this._log.warn(this._absoluteFolderPath,u)}),t.publisher||(t.publisher="undefined_publisher"),t.id=(0,T.getExtensionId)(t.publisher,t.name),t.identifier=new b.ExtensionIdentifier(t.id),t.extensionLocation=E.URI.file(this._absoluteFolderPath),t):(o.forEach(u=>{this._log.error(this._absoluteFolderPath,u)}),null)}static isValidExtensionDescription(r,t,o,u,v){return c.baseIsValidExtensionDescription(o,u,v)?y.valid(u.version)?(0,p.isValidExtensionVersion)(r,t,u,v):(v.push(P.localize(6,null)),!1):!1}static baseIsValidExtensionDescription(r,t,o){if(!t)return o.push(P.localize(7,null)),!1;if(typeof t.publisher!="undefined"&&typeof t.publisher!="string")return o.push(P.localize(8,null)),!1;if(typeof t.name!="string")return o.push(P.localize(9,null,"name")),!1;if(typeof t.version!="string")return o.push(P.localize(10,null,"version")),!1;if(!t.engines)return o.push(P.localize(11,null,"engines")),!1;if(typeof t.engines.vscode!="string")return o.push(P.localize(12,null,"engines.vscode")),!1;if(typeof t.extensionDependencies!="undefined"&&!c._isStringArray(t.extensionDependencies))return o.push(P.localize(13,null,"extensionDependencies")),!1;if(typeof t.activationEvents!="undefined"){if(!c._isStringArray(t.activationEvents))return o.push(P.localize(14,null,"activationEvents")),!1;if(typeof t.main=="undefined"&&typeof t.browser=="undefined")return o.push(P.localize(15,null,"activationEvents","main")),!1}if(typeof t.main!="undefined"){if(typeof t.main!="string")return o.push(P.localize(16,null,"main")),!1;{const u=_.join(r,t.main);u.startsWith(r)||o.push(P.localize(17,null,u,r))}if(typeof t.activationEvents=="undefined")return o.push(P.localize(18,null,"activationEvents","main")),!1}if(typeof t.browser!="undefined"){if(typeof t.browser!="string")return o.push(P.localize(19,null,"browser")),!1;{const u=_.join(r,t.browser);u.startsWith(r)||o.push(P.localize(20,null,u,r))}if(typeof t.activationEvents=="undefined")return o.push(P.localize(21,null,"activationEvents","browser")),!1}return!0}static _isStringArray(r){if(!Array.isArray(r))return!1;for(let t=0,o=r.length;t<o;t++)if(typeof r[t]!="string")return!1;return!0}}class a{constructor(r,t,o,u,v,D,h,A,N){this.ourVersion=r,this.ourProductDate=t,this.commit=o,this.locale=u,this.devMode=v,this.absoluteFolderPath=D,this.isBuiltin=h,this.isUnderDevelopment=A,this.translations=N}static createNLSConfig(r){return{devMode:r.devMode,locale:r.locale,pseudo:r.locale==="pseudo",translations:r.translations}}static equals(r,t){return r.ourVersion===t.ourVersion&&r.ourProductDate===t.ourProductDate&&r.commit===t.commit&&r.locale===t.locale&&r.devMode===t.devMode&&r.absoluteFolderPath===t.absoluteFolderPath&&r.isBuiltin===t.isBuiltin&&r.isUnderDevelopment===t.isUnderDevelopment&&r.mtime===t.mtime&&f.Translations.equals(r.translations,t.translations)}}e.ExtensionScannerInput=a;class l{constructor(r){this.root=r}resolveExtensions(){return i.Promises.readDirsInDir(this.root).then(r=>r.map(t=>({name:t,path:_.join(this.root,t)})))}}class n{static scanExtension(r,t,o,u,v,D,h){return u=_.normalize(u),new S(r,t,o,u,v,D).parse().then(N=>N===null?null:new g(r,t,o,u,v,D,h).replaceNLS(N)).then(N=>N===null?null:new c(r,t,o,u,v,D).validate(N))}static async scanExtensions(r,t,o=null){const u=r.absoluteFolderPath,v=r.isBuiltin,D=r.isUnderDevelopment;o||(o=new l(u));try{let h={};if(!v)try{const j=await i.Promises.readFile(_.join(u,".obsolete"),"utf8");h=JSON.parse(j)}catch(j){}let A=await o.resolveExtensions();A.sort((j,F)=>j.name<F.name?-1:1),v||(A=A.filter(j=>j.name.indexOf(".")!==0));const N=a.createNLSConfig(r);let $=await Promise.all(A.map(j=>this.scanExtension(r.ourVersion,r.ourProductDate,t,j.path,v,D,N))),K=I.coalesce($);return K=K.filter(j=>j!==null&&!h[new T.ExtensionIdentifierWithVersion({id:(0,T.getGalleryExtensionId)(j.publisher,j.name)},j.version).key()]),v||(K=(0,T.groupByExtension)(K,F=>({id:F.identifier.value,uuid:F.uuid})).map(F=>F.sort((G,R)=>y.rcompare(G.version,R.version))[0])),K.sort((j,F)=>j.extensionLocation.fsPath<F.extensionLocation.fsPath?-1:1),K}catch(h){return t.error(u,h),[]}}static scanOneOrMultipleExtensions(r,t){const o=r.absoluteFolderPath,u=r.isBuiltin,v=r.isUnderDevelopment;return i.SymlinkSupport.existsFile(_.join(o,w)).then(D=>{if(D){const h=a.createNLSConfig(r);return this.scanExtension(r.ourVersion,r.ourProductDate,t,o,u,v,h).then(A=>A===null?[]:[A])}return this.scanExtensions(r,t)},D=>(t.error(o,D),[]))}static scanSingleExtension(r,t){const o=r.absoluteFolderPath,u=r.isBuiltin,v=r.isUnderDevelopment,D=a.createNLSConfig(r);return this.scanExtension(r.ourVersion,r.ourProductDate,t,o,u,v,D)}static mergeBuiltinExtensions(r,t){return Promise.all([r,t]).then(([o,u])=>{let v=Object.create(null);for(let h=0,A=o.length;h<A;h++)v[b.ExtensionIdentifier.toKey(o[h].identifier)]=o[h];for(let h=0,A=u.length;h<A;h++)v[b.ExtensionIdentifier.toKey(u[h].identifier)]=u[h];let D=Object.keys(v).map(h=>v[h]);return D.sort((h,A)=>{const N=_.basename(h.extensionLocation.fsPath),$=_.basename(A.extensionLocation.fsPath);return N<$?-1:N>$?1:0}),D})}}e.ExtensionScanner=n}),define(he[237],de([0,1,4,45,5,43,163,8,236,48,58,102,64,84,204,3,22,16]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b,f,w,d,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RemoteAgentEnvironmentChannel=void 0;let g=null;function c(){return g||(g=(0,w.normalize)((0,w.join)(k.FileAccess.asFileUri("",Z).fsPath,"..","extensions"))),g}let a=null;function l(){return a||(a=(0,w.normalize)((0,w.join)(k.FileAccess.asFileUri("",Z).fsPath,"..",".build","builtInExtensions"))),a}class n{constructor(r,t,o,u,v,D,h){this._connectionToken=r,this.environmentService=t,this.logService=u,this.telemetryService=v,this.telemetryAppender=D,this.productService=h,this._logger=new class{error(N,$){u.error(N,$)}warn(N,$){u.warn(N,$)}info(N,$){u.info(N,$)}},t.args["install-builtin-extension"]?this.whenExtensionsReady=o.installExtensions([],t.args["install-builtin-extension"],!!t.args["do-not-sync"],!!t.args.force).then(null,N=>{u.error(N)}):this.whenExtensionsReady=Promise.resolve();const A=t.args["install-extension"];if(A){const N=A.map($=>/\.vsix$/i.test($)?y.URI.file((0,w.isAbsolute)($)?$:(0,w.join)((0,d.cwd)(),$)):$);this.whenExtensionsReady.then(()=>o.installExtensions(N,[],!!t.args["do-not-sync"],!!t.args.force)).then(null,$=>{u.error($)})}}async call(r,t,o){switch(t){case"disableTelemetry":{this.telemetryService.permanentlyDisableTelemetry();return}case"getEnvironmentData":{const u=o,v=(0,C.createRemoteURITransformer)(u.remoteAuthority);let D=await this._getEnvironmentData();return D=(0,i.transformOutgoingURIs)(D,v),D}case"whenExtensionsReady":{await this.whenExtensionsReady;return}case"scanExtensions":{await this.whenExtensionsReady;const u=o,v=u.language;this.logService.trace(`Scanning extensions using UI language: ${v}`);const D=(0,C.createRemoteURITransformer)(u.remoteAuthority),h=u.extensionDevelopmentPath&&u.extensionDevelopmentPath.map($=>y.URI.revive(D.transformIncoming($))),A=h?h.filter($=>$.scheme===k.Schemas.file).map($=>$.fsPath):void 0;let N=await this._scanExtensions(v,A);return N=(0,i.transformOutgoingURIs)(N,D),this.logService.trace("Scanned Extensions",N),n._massageWhenConditions(N),N}case"scanSingleExtension":{await this.whenExtensionsReady;const u=o,v=u.language,D=u.isBuiltin,h=(0,C.createRemoteURITransformer)(u.remoteAuthority),A=y.URI.revive(h.transformIncoming(u.extensionLocation)),N=A.scheme===k.Schemas.file?A.fsPath:null;if(!N)return null;const $=await this._getTranslations(v);let K=await this._scanSingleExtension(N,D,v,$);return K?(K=(0,i.transformOutgoingURIs)(K,h),n._massageWhenConditions([K]),K):null}case"getDiagnosticInfo":{const u=o,v={machineInfo:(0,f.getMachineInfo)()},D=u.includeProcesses?(0,b.listProcesses)(process.pid):Promise.resolve();let h=[];const A={};if(u.folders){const N=(0,C.createRemoteURITransformer)("");h=u.folders.map(K=>y.URI.revive(N.transformIncoming(K))).filter(K=>K.scheme==="file").map(K=>(0,f.collectWorkspaceStats)(K.fsPath,["node_modules",".git"]).then(j=>{A[(0,w.basename)(K.fsPath)]=j}))}return Promise.all([D,...h]).then(([N,$])=>(v.processes=N||void 0,v.workspaceMetadata=u.folders?A:void 0,v))}case"logTelemetry":{const{eventName:u,data:v}=o;return this.telemetryAppender?this.telemetryAppender.log(u,v):Promise.resolve()}case"flushTelemetry":return this.telemetryAppender?this.telemetryAppender.flush():Promise.resolve()}throw new Error(`IPC Command ${t} not found`)}listen(r,t,o){throw new Error("Not supported")}static _massageWhenConditions(r){const t=(A,N)=>A.replace(/file/g,"vscode-remote"),o=A=>{let N="";return N+=A.global?"g":"",N+=A.ignoreCase?"i":"",N+=A.multiline?"m":"",new RegExp(t(A.source,!0),N)},u=new class{mapDefined(A){return p.ContextKeyDefinedExpr.create(A)}mapNot(A){return p.ContextKeyNotExpr.create(A)}mapEquals(A,N){return A==="resourceScheme"&&typeof N=="string"?p.ContextKeyEqualsExpr.create(A,t(N,!1)):p.ContextKeyEqualsExpr.create(A,N)}mapNotEquals(A,N){return A==="resourceScheme"&&typeof N=="string"?p.ContextKeyNotEqualsExpr.create(A,t(N,!1)):p.ContextKeyNotEqualsExpr.create(A,N)}mapGreater(A,N){return p.ContextKeyGreaterExpr.create(A,N)}mapGreaterEquals(A,N){return p.ContextKeyGreaterEqualsExpr.create(A,N)}mapSmaller(A,N){return p.ContextKeySmallerExpr.create(A,N)}mapSmallerEquals(A,N){return p.ContextKeySmallerEqualsExpr.create(A,N)}mapRegex(A,N){return A==="resourceScheme"&&N?p.ContextKeyRegexExpr.create(A,o(N)):p.ContextKeyRegexExpr.create(A,N)}mapIn(A,N){return p.ContextKeyInExpr.create(A,N)}},v=A=>{if(!A||!A.when||!/resourceScheme/.test(A.when))return;const N=p.ContextKeyExpr.deserialize(A.when);if(!N)return;const $=N.map(u);A.when=$.serialize()},D=A=>{if(Array.isArray(A))for(let N of A)v(N);else v(A)},h=A=>{for(let N in A)D(A[N])};r.forEach(A=>{A.contributes&&(A.contributes.menus&&h(A.contributes.menus),A.contributes.keybindings&&D(A.contributes.keybindings),A.contributes.views&&h(A.contributes.views))})}async _getEnvironmentData(){return{pid:process.pid,connectionToken:this._connectionToken,appRoot:y.URI.file(this.environmentService.appRoot),settingsPath:this.environmentService.machineSettingsResource,logsPath:y.URI.file(this.environmentService.logsPath),extensionsPath:y.URI.file(this.environmentService.extensionsPath),extensionHostLogsPath:y.URI.file((0,w.join)(this.environmentService.logsPath,`exthost${n._namePool++}`)),globalStorageHome:this.environmentService.globalStorageHome,workspaceStorageHome:this.environmentService.workspaceStorageHome,userHome:this.environmentService.userHome,os:P.OS,arch:process.arch,marks:_.getMarks(),useHostProxy:this.environmentService.args["use-host-proxy"]!==void 0}}async _getTranslations(r){const t=await(0,T.getNLSConfiguration)(r,this.environmentService.userDataPath);if(T.InternalNLSConfiguration.is(t))try{const o=await S.Promises.readFile(t._translationsConfigFile,"utf8");return JSON.parse(o)}catch(o){return Object.create(null)}else return Object.create(null)}async _scanExtensions(r,t){const o=await this._getTranslations(r),[u,v,D]=await Promise.all([this._scanBuiltinExtensions(r,o),this._scanInstalledExtensions(r,o),this._scanDevelopedExtensions(r,o,t)]);let h=new Map;u.forEach(N=>{!N||h.set(E.ExtensionIdentifier.toKey(N.identifier),N)}),v.forEach(N=>{!N||(h.has(E.ExtensionIdentifier.toKey(N.identifier))&&console.warn(I.localize(0,null,h.get(E.ExtensionIdentifier.toKey(N.identifier)).extensionLocation.fsPath,N.extensionLocation.fsPath)),h.set(E.ExtensionIdentifier.toKey(N.identifier),N))}),D.forEach(N=>{!N||h.set(E.ExtensionIdentifier.toKey(N.identifier),N)});const A=[];return h.forEach(N=>A.push(N)),A}_scanDevelopedExtensions(r,t,o){if(o){const u=o.map(v=>m.ExtensionScanner.scanOneOrMultipleExtensions(new m.ExtensionScannerInput(this.productService.version,this.productService.date,this.productService.commit,r,!0,v,!1,!0,t),this._logger));return Promise.all(u).then(v=>{let D=[];for(let h of v)D=D.concat(h);return D})}return Promise.resolve([])}_scanBuiltinExtensions(r,t){const o=this.productService.version,u=this.productService.commit,v=this.productService.date,D=!!process.env.VSCODE_DEV,h=new m.ExtensionScannerInput(o,v,u,r,D,c(),!0,!1,t),A=m.ExtensionScanner.scanExtensions(h,this._logger);let N=A;if(D){class ${constructor(R){this.builtInExtensions=R}resolveExtensions(){return Promise.resolve(this.builtInExtensions.map(R=>({name:R.name,path:(0,w.join)(l(),R.name)})))}}const K=Promise.resolve(this.productService.builtInExtensions||[]),j=new m.ExtensionScannerInput(o,v,u,r,D,l(),!0,!1,{}),F=K.then(G=>new $(G)).then(G=>m.ExtensionScanner.scanExtensions(j,this._logger,G));N=m.ExtensionScanner.mergeBuiltinExtensions(A,F)}return N}_scanInstalledExtensions(r,t){const o=!!process.env.VSCODE_DEV,u=new m.ExtensionScannerInput(this.productService.version,this.productService.date,this.productService.commit,r,o,this.environmentService.extensionsPath,!1,!1,t);return m.ExtensionScanner.scanExtensions(u,this._logger)}_scanSingleExtension(r,t,o,u){const v=!!process.env.VSCODE_DEV,D=new m.ExtensionScannerInput(this.productService.version,this.productService.date,this.productService.commit,o,v,r,t,!1,u);return m.ExtensionScanner.scanSingleExtension(D,this._logger)}}e.RemoteAgentEnvironmentChannel=n,n._namePool=1}),define(he[238],de([0,1,182]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RemoteFileSystemProvider=e.REMOTE_FILE_SYSTEM_CHANNEL_NAME=void 0,e.REMOTE_FILE_SYSTEM_CHANNEL_NAME="remoteFilesystem";class _ extends P.IPCFileSystemProvider{constructor(C){super(C.getConnection().getChannel(e.REMOTE_FILE_SYSTEM_CHANNEL_NAME));this.setCaseSensitive(!0),(async()=>{const I=await C.getEnvironment();this.setCaseSensitive(I?.os===3)})()}}e.RemoteFileSystemProvider=_}),define(he[110],de([0,1,7]),function(Z,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IRemoteAgentService=e.RemoteExtensionLogFileName=void 0,e.RemoteExtensionLogFileName="remoteagent",e.IRemoteAgentService=(0,P.createDecorator)("remoteAgentService")}),define(he[73],de([0,1,30,13,3,12,16,142,253,254]),function(Z,e,P,_,y,C,I,k,m,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buffer=e.extract=e.zip=e.ExtractError=void 0;class i extends Error{constructor(n,s){let r=s.message;switch(n){case"CorruptZip":r=`Corrupt ZIP: ${r}`;break}super(r);this.type=n,this.cause=s}}e.ExtractError=i;function T(l){const n=l.externalFileAttributes>>16||33188;return[448,56,7].map(s=>n&s).reduce((s,r)=>s+r,n&61440)}function p(l){if(l instanceof i)return l;let n;return/end of central directory record signature not found/.test(l.message)&&(n="CorruptZip"),new i(n,l)}function b(l,n,s,r,t,o){const u=y.dirname(n),v=y.join(r,u);if(!v.startsWith(r))return Promise.reject(new Error(k.localize(0,null,n)));const D=y.join(r,n);let h;return o.onCancellationRequested(()=>{h&&h.destroy()}),Promise.resolve(I.Promises.mkdir(v,{recursive:!0})).then(()=>new Promise((A,N)=>{if(!o.isCancellationRequested)try{h=(0,P.createWriteStream)(D,{mode:s}),h.once("close",()=>A()),h.once("error",N),l.once("error",N),l.pipe(h)}catch($){N($)}}))}function f(l,n,s,r){let t=(0,_.createCancelablePromise)(()=>Promise.resolve()),o=0;return r.onCancellationRequested(()=>{t.cancel(),l.close()}),new Promise((u,v)=>{const D=new _.Sequencer,h=A=>{A.isCancellationRequested||(o++,l.readEntry())};l.once("error",v),l.once("close",()=>t.then(()=>{r.isCancellationRequested||l.entryCount===o?u():v(new i("Incomplete",new Error(k.localize(1,null,o,l.entryCount))))},v)),l.readEntry(),l.on("entry",A=>{if(r.isCancellationRequested)return;if(!s.sourcePathRegex.test(A.fileName)){h(r);return}const N=A.fileName.replace(s.sourcePathRegex,"");if(/\/$/.test(N)){const j=y.join(n,N);t=(0,_.createCancelablePromise)(F=>I.Promises.mkdir(j,{recursive:!0}).then(()=>h(F)).then(void 0,v));return}const $=d(l,A),K=T(A);t=(0,_.createCancelablePromise)(j=>D.queue(()=>$.then(F=>b(F,N,K,n,s,j).then(()=>h(j)))).then(null,v))})})}function w(l,n=!1){return new Promise((s,r)=>{(0,m.open)(l,n?{lazyEntries:!0}:void 0,(t,o)=>{t?r(p(t)):s((0,C.assertIsDefined)(o))})})}function d(l,n){return new Promise((s,r)=>{l.openReadStream(n,(t,o)=>{t?r(p(t)):s((0,C.assertIsDefined)(o))})})}function S(l,n){return new Promise((s,r)=>{const t=new E.ZipFile;n.forEach(u=>{u.contents?t.addBuffer(typeof u.contents=="string"?Buffer.from(u.contents,"utf8"):u.contents,u.path):u.localPath&&t.addFile(u.localPath,u.path)}),t.end();const o=(0,P.createWriteStream)(l);t.outputStream.pipe(o),t.outputStream.once("error",r),o.once("error",r),o.once("finish",()=>s(l))})}e.zip=S;function g(l,n,s={},r){const t=new RegExp(s.sourcePath?`^${s.sourcePath}`:"");let o=w(l,!0);return s.overwrite&&(o=o.then(u=>I.Promises.rm(n).then(()=>u))),o.then(u=>f(u,n,{sourcePathRegex:t},r))}e.extract=g;function c(l,n){return w(l).then(s=>new Promise((r,t)=>{s.on("entry",o=>{o.fileName===n&&d(s,o).then(u=>r(u),u=>t(u))}),s.once("close",()=>t(new Error(k.localize(2,null,n))))}))}function a(l,n){return c(l,n).then(s=>new Promise((r,t)=>{const o=[];s.once("error",t),s.on("data",u=>o.push(u)),s.on("end",()=>r(Buffer.concat(o)))}))}e.buffer=a}),define(he[239],de([0,1,73,151]),function(Z,e,P,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getManifest=void 0;function y(C){return(0,P.buffer)(C,"extension/package.json").then(I=>{try{return JSON.parse(I.toString("utf8"))}catch(k){throw new Error((0,_.localize)(0,null))}})}e.getManifest=y}),define(he[240],de([0,1,18,13,11,2,8,3,4,21,52,5,24,16,73,152,26,31,34,173,19,14,37]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b,f,w,d,S,g,c,a,l,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionsScanner=void 0;let s=class extends C.Disposable{constructor(t,o,u,v,D){super();this.beforeRemovingExtension=t,this.fileService=o,this.logService=u,this.environmentService=v,this.productService=D,this._devSystemExtensionsPath=null,this.systemExtensionsPath=v.builtinExtensionsPath,this.extensionsPath=v.extensionsPath,this.uninstalledPath=k.join(this.extensionsPath,".obsolete"),this.uninstalledFileLimiter=new _.Queue}async cleanUp(){await this.removeUninstalledExtensions(),await this.removeOutdatedExtensions()}async scanExtensions(t){const o=[];(t===null||t===0)&&o.push(this.scanSystemExtensions().then(null,u=>Promise.reject(new S.ExtensionManagementError(this.joinErrors(u).message,S.ExtensionManagementErrorCode.Internal)))),(t===null||t===1)&&o.push(this.scanUserExtensions(!0).then(null,u=>Promise.reject(new S.ExtensionManagementError(this.joinErrors(u).message,S.ExtensionManagementErrorCode.Internal))));try{const u=await Promise.all(o);return(0,P.flatten)(u)}catch(u){throw this.joinErrors(u)}}async scanUserExtensions(t){this.logService.trace("Started scanning user extensions");let[o,u]=await Promise.all([this.getUninstalledExtensions(),this.scanAllUserExtensions()]);return u=u.filter(v=>!o[new g.ExtensionIdentifierWithVersion(v.identifier,v.manifest.version).key()]),t&&(u=(0,g.groupByExtension)(u,D=>D.identifier).map(D=>D.sort((h,A)=>i.rcompare(h.manifest.version,A.manifest.version))[0])),this.logService.trace("Scanned user extensions:",u.length),u}async scanAllUserExtensions(){return this.scanExtensionsInDir(this.extensionsPath,1)}async extractUserExtension(t,o,u,v){const D=t.key(),h=k.join(this.extensionsPath,`.${(0,p.generateUuid)()}`),A=k.join(this.extensionsPath,D);try{await b.Promises.rm(A)}catch($){try{await b.Promises.rm(A)}catch(K){}throw new S.ExtensionManagementError((0,w.localize)(0,null,A,t.id),S.ExtensionManagementErrorCode.Delete)}await this.extractAtLocation(t,o,h,v);let N=await this.scanExtension(T.URI.file(h),1);if(!N)throw new Error((0,w.localize)(1,null,h));await this.storeMetadata(N,{...u,installedTimestamp:Date.now()});try{await this.rename(t,h,A,Date.now()+2*60*1e3),this.logService.info("Renamed to",A)}catch($){try{await b.Promises.rm(h)}catch(K){}if($.code==="ENOTEMPTY")this.logService.info("Rename failed because extension was installed by another source. So ignoring renaming.",t.id);else throw this.logService.info(`Rename failed because of ${(0,y.getErrorMessage)($)}. Deleted from extracted location`,h),$}try{N=await this.scanExtension(T.URI.file(A),1)}catch($){}if(N)return N;throw new Error((0,w.localize)(2,null,this.extensionsPath))}async saveMetadataForLocalExtension(t,o){return this.setMetadata(t,o),await this.storeMetadata(t,{...o,installedTimestamp:t.installedTimestamp}),t}async storeMetadata(t,o){o.isMachineScoped=o.isMachineScoped||void 0,o.isBuiltin=o.isBuiltin||void 0,o.installedTimestamp=o.installedTimestamp||void 0;const u=k.join(t.location.fsPath,"package.json"),v=await b.Promises.readFile(u,"utf8"),{manifest:D}=await this.parseManifest(v);return D.__metadata=o,await b.Promises.writeFile(u,JSON.stringify(D,null,"	")),t}getUninstalledExtensions(){return this.withUninstalledExtensions()}async setUninstalled(...t){const o=t.map(u=>new g.ExtensionIdentifierWithVersion(u.identifier,u.manifest.version));await this.withUninstalledExtensions(u=>{o.forEach(v=>u[v.key()]=!0)})}async setInstalled(t){await this.withUninstalledExtensions(v=>delete v[t.key()]);const u=(await this.scanExtensions(1)).find(v=>new g.ExtensionIdentifierWithVersion(v.identifier,v.manifest.version).equals(t))||null;return u?(await this.storeMetadata(u,{installedTimestamp:Date.now()}),this.scanExtension(u.location,1)):null}async withUninstalledExtensions(t){return this.uninstalledFileLimiter.queue(async()=>{let o;try{o=await b.Promises.readFile(this.uninstalledPath,"utf8")}catch(v){if(v.code!=="ENOENT")throw v}let u={};if(o)try{u=JSON.parse(o)}catch(v){}return t&&(t(u),Object.keys(u).length?await b.Promises.writeFile(this.uninstalledPath,JSON.stringify(u)):await b.Promises.rm(this.uninstalledPath)),u})}async removeExtension(t,o){this.logService.trace(`Deleting ${o} extension from disk`,t.identifier.id,t.location.fsPath),await b.Promises.rm(t.location.fsPath),this.logService.info("Deleted from disk",t.identifier.id,t.location.fsPath)}async removeUninstalledExtension(t){await this.removeExtension(t,"uninstalled"),await this.withUninstalledExtensions(o=>delete o[new g.ExtensionIdentifierWithVersion(t.identifier,t.manifest.version).key()])}async extractAtLocation(t,o,u,v){this.logService.trace(`Started extracting the extension from ${o} to ${u}`);try{await b.Promises.rm(u)}catch(D){throw new S.ExtensionManagementError(this.joinErrors(D).message,S.ExtensionManagementErrorCode.Delete)}try{await(0,f.extract)(o,u,{sourcePath:"extension",overwrite:!0},v),this.logService.info(`Extracted extension to ${u}:`,t.id)}catch(D){try{await b.Promises.rm(u)}catch(A){}let h=S.ExtensionManagementErrorCode.Extract;throw D instanceof f.ExtractError&&(D.type==="CorruptZip"?h=S.ExtensionManagementErrorCode.CorruptZip:D.type==="Incomplete"&&(h=S.ExtensionManagementErrorCode.IncompleteZip)),new S.ExtensionManagementError(D.message,h)}}async rename(t,o,u,v){try{await b.Promises.rename(o,u)}catch(D){if(m.isWindows&&D&&D.code==="EPERM"&&Date.now()<v)return this.logService.info(`Failed renaming ${o} to ${u} with 'EPERM' error. Trying again...`,t.id),this.rename(t,o,u,v);throw new S.ExtensionManagementError(D.message||(0,w.localize)(3,null,o,u),D.code||S.ExtensionManagementErrorCode.Rename)}}async scanSystemExtensions(){this.logService.trace("Started scanning system extensions");const t=this.scanDefaultSystemExtensions();if(this.environmentService.isBuilt)return t;const o=this.scanDevSystemExtensions(),[u,v]=await Promise.all([t,o]);return[...u,...v]}async scanExtensionsInDir(t,o){const u=new _.Limiter(10),v=await this.fileService.resolve(T.URI.file(t));return v.children?(await Promise.all(v.children.filter(h=>h.isDirectory).map(h=>u.queue(async()=>o===1&&(0,E.basename)(h.resource).indexOf(".")===0?null:this.scanExtension(h.resource,o))))).filter(h=>h&&h.identifier):[]}async scanExtension(t,o){try{const u=await this.fileService.resolve(t);if(u.children){const{manifest:v,metadata:D}=await this.readManifest(t.fsPath),h=u.children.find(({name:K})=>/^readme(\.txt|\.md|)$/i.test(K))?.resource,A=u.children.find(({name:K})=>/^changelog(\.txt|\.md|)$/i.test(K))?.resource,N={id:(0,g.getGalleryExtensionId)(v.publisher,v.name)},$={type:o,identifier:N,manifest:v,location:t,readmeUrl:h,changelogUrl:A,publisherDisplayName:null,publisherId:null,isMachineScoped:!1,isBuiltin:o===0};return D&&(this.setMetadata($,D),$.installedTimestamp=D.installedTimestamp),$}}catch(u){o!==0&&this.logService.trace(u)}return null}async scanDefaultSystemExtensions(){const t=await this.scanExtensionsInDir(this.systemExtensionsPath,0);return this.logService.trace("Scanned system extensions:",t.length),t}async scanDevSystemExtensions(){const t=this.getDevSystemExtensionsList();if(t.length){const o=await this.scanExtensionsInDir(this.devSystemExtensionsPath,0);return this.logService.trace("Scanned dev system extensions:",o.length),o.filter(u=>t.some(v=>(0,g.areSameExtensions)(u.identifier,{id:v})))}else return[]}setMetadata(t,o){t.publisherDisplayName=o.publisherDisplayName||null,t.publisherId=o.publisherId||null,t.identifier.uuid=o.id,t.isMachineScoped=!!o.isMachineScoped,t.isBuiltin=t.type===0||!!o.isBuiltin}async removeUninstalledExtensions(){const t=await this.getUninstalledExtensions(),o=await this.scanAllUserExtensions(),u=new Set;for(const h of o)t[new g.ExtensionIdentifierWithVersion(h.identifier,h.manifest.version).key()]||u.add(h.identifier.id.toLowerCase());const v=(0,g.groupByExtension)(o,h=>h.identifier);await _.Promises.settled(v.map(async h=>{const A=h.sort((N,$)=>i.rcompare(N.manifest.version,$.manifest.version))[0];u.has(A.identifier.id.toLowerCase())||await this.beforeRemovingExtension(A)}));const D=o.filter(h=>t[new g.ExtensionIdentifierWithVersion(h.identifier,h.manifest.version).key()]);await _.Promises.settled(D.map(h=>this.removeUninstalledExtension(h)))}async removeOutdatedExtensions(){const t=await this.scanAllUserExtensions(),o=[],u=(0,g.groupByExtension)(t,v=>v.identifier);o.push(...(0,P.flatten)(u.map(v=>v.sort((D,h)=>i.rcompare(D.manifest.version,h.manifest.version)).slice(1)))),await _.Promises.settled(o.map(v=>this.removeExtension(v,"outdated")))}getDevSystemExtensionsList(){return(this.productService.builtInExtensions||[]).map(t=>t.name)}joinErrors(t){const o=Array.isArray(t)?t:[t];return o.length===1?o[0]instanceof Error?o[0]:new Error(o[0]):o.reduce((u,v)=>new Error(`${u.message}${u.message?",":""}${v instanceof Error?v.message:v}`),new Error(""))}get devSystemExtensionsPath(){return this._devSystemExtensionsPath||(this._devSystemExtensionsPath=k.normalize(k.join(I.FileAccess.asFileUri("",Z).fsPath,"..",".build","builtInExtensions"))),this._devSystemExtensionsPath}async readManifest(t){const o=[b.Promises.readFile(k.join(t,"package.json"),"utf8").then(h=>this.parseManifest(h)),b.Promises.readFile(k.join(t,"package.nls.json"),"utf8").then(void 0,h=>h.code!=="ENOENT"?Promise.reject(h):"{}").then(h=>JSON.parse(h))],[{manifest:u,metadata:v},D]=await Promise.all(o);return{manifest:(0,c.localizeManifest)(u,D),metadata:v}}parseManifest(t){return new Promise((o,u)=>{try{const v=JSON.parse(t),D=v.__metadata||null;o({manifest:v,metadata:D})}catch(v){u(new Error((0,w.localize)(4,null)))}})}};s=Ne([Ge(1,a.IFileService),Ge(2,l.ILogService),Ge(3,d.INativeEnvironmentService),Ge(4,n.IProductService)],s),e.ExtensionsScanner=s}),define(he[111],de([0,1,36,11,8,3,4,22,21,52,5,24,16,73,150,65,26,205,31,34,194,188,239,195,240,196,62,19,7,14,37,33]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b,f,w,d,S,g,c,a,l,n,s,r,t,o,u,v,D,h,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionManagementService=void 0;let N=class extends S.AbstractExtensionManagementService{constructor(R,B,H,q,W,U,x,z){super(R,B,H,z);this.environmentService=q,this.downloadService=W,this.fileService=x;const te=this._register(U.createInstance(l.ExtensionsLifecycle));this.extensionsScanner=this._register(U.createInstance(r.ExtensionsScanner,me=>te.postUninstall(me))),this.manifestCache=this._register(new s.ExtensionsManifestCache(q,this)),this.extensionsDownloader=this._register(U.createInstance(a.ExtensionsDownloader));const X=this._register(new t.ExtensionsWatcher(this,x,q,H));this._register(X.onDidChangeExtensionsByAnotherSource(({added:me,removed:pe})=>{me.length&&this._onDidInstallExtensions.fire(me.map(se=>({identifier:se.identifier,operation:0,local:se}))),pe.forEach(se=>this._onDidUninstallExtension.fire({identifier:se}))}))}getTargetPlatform(){return this._targetPlatformPromise||(this._targetPlatformPromise=(async()=>{const R=await this.isAlpineLinux(),B=(0,g.getTargetPlatform)(R?"alpine":I.platform,k.arch);return this.logService.debug("ExtensionManagementService#TargetPlatform:",B),B})()),this._targetPlatformPromise}async isAlpineLinux(){if(!I.isLinux)return!1;let R;try{R=(await this.fileService.readFile(i.URI.file("/etc/os-release"))).value.toString()}catch(B){try{R=(await this.fileService.readFile(i.URI.file("/usr/lib/os-release"))).value.toString()}catch(H){this.logService.debug("Error while getting the os-release file.",(0,_.getErrorMessage)(H))}}return!!R&&(R.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]==="alpine"}async zip(R){this.logService.trace("ExtensionManagementService#zip",R.identifier.id);const B=await this.collectFiles(R),H=await(0,b.zip)((0,m.joinPath)(this.environmentService.tmpDir,(0,T.generateUuid)()).fsPath,B);return i.URI.file(H)}async unzip(R){return this.logService.trace("ExtensionManagementService#unzip",R.toString()),(await this.install(R)).identifier}async getManifest(R){const B=await this.downloadVsix(R),H=C.resolve(B.fsPath);return(0,n.getManifest)(H)}getInstalled(R=null){return this.extensionsScanner.scanExtensions(R)}async install(R,B={}){this.logService.trace("ExtensionManagementService#install",R.toString());const H=await this.downloadVsix(R),q=await(0,n.getManifest)(C.resolve(H.fsPath));if(q.engines&&q.engines.vscode&&!(0,o.isEngineValid)(q.engines.vscode,this.productService.version,this.productService.date))throw new Error(f.localize(0,null,(0,c.getGalleryExtensionId)(q.publisher,q.name),this.productService.version));return this.installExtension(q,H,B)}async updateMetadata(R,B){return this.logService.trace("ExtensionManagementService#updateMetadata",R.identifier.id),R=await this.extensionsScanner.saveMetadataForLocalExtension(R,{...R.manifest.__metadata||{},...B}),this.manifestCache.invalidate(),R}async updateExtensionScope(R,B){return this.logService.trace("ExtensionManagementService#updateExtensionScope",R.identifier.id),R=await this.extensionsScanner.saveMetadataForLocalExtension(R,{...R.manifest.__metadata||{},isMachineScoped:B}),this.manifestCache.invalidate(),R}removeDeprecatedExtensions(){return this.extensionsScanner.cleanUp()}async downloadVsix(R){if(R.scheme===y.Schemas.file)return R;const B=(0,m.joinPath)(this.environmentService.tmpDir,(0,T.generateUuid)());return await this.downloadService.download(R,B),B}createInstallExtensionTask(R,B,H){return i.URI.isUri(B)?new j(R,B,H,this.galleryService,this.extensionsScanner,this.logService):new K(B,H,this.extensionsDownloader,this.extensionsScanner,this.logService)}createUninstallExtensionTask(R,B){return new F(R,B,this.extensionsScanner)}async collectFiles(R){const B=async q=>{let W=await p.Promises.readdir(q);W=W.map(z=>C.join(q,z));const U=await Promise.all(W.map(z=>p.Promises.stat(z)));let x=Promise.resolve([]);return U.forEach((z,te)=>{const X=W[te];z.isFile()&&(x=x.then(me=>[...me,X])),z.isDirectory()&&(x=x.then(me=>B(X).then(pe=>[...me,...pe])))}),x};return(await B(R.location.fsPath)).map(q=>({path:`extension/${C.relative(R.location.fsPath,q)}`,localPath:q}))}};N=Ne([Ge(0,g.IExtensionGalleryService),Ge(1,A.ITelemetryService),Ge(2,D.ILogService),Ge(3,d.INativeEnvironmentService),Ge(4,w.IDownloadService),Ge(5,v.IInstantiationService),Ge(6,u.IFileService),Ge(7,h.IProductService)],N),e.ExtensionManagementService=N;class $ extends S.AbstractExtensionTask{constructor(R,B,H,q){super();this.identifier=R,this.source=B,this.extensionsScanner=H,this.logService=q,this._operation=1}get operation(){return this._operation}async installExtension(R,B){try{const H=await this.unsetUninstalledAndGetLocal(R.identifierWithVersion);if(H)return R.metadata?this.extensionsScanner.saveMetadataForLocalExtension(H,R.metadata):H}catch(H){throw I.isMacintosh?new g.ExtensionManagementError(f.localize(1,null),g.ExtensionManagementErrorCode.Internal):new g.ExtensionManagementError(f.localize(2,null),g.ExtensionManagementErrorCode.Internal)}return this.extract(R,B)}async unsetUninstalledAndGetLocal(R){if(!await this.isUninstalled(R))return null;this.logService.trace("Removing the extension from uninstalled list:",R.id);const H=await this.extensionsScanner.setInstalled(R);return this.logService.info("Removed the extension from uninstalled list:",R.id),H}async isUninstalled(R){return!!(await this.extensionsScanner.getUninstalledExtensions())[R.key()]}async extract({zipPath:R,identifierWithVersion:B,metadata:H},q){let W=await this.extensionsScanner.extractUserExtension(B,R,H,q);return this.logService.info("Extracting completed.",B.id),W}}class K extends ${constructor(R,B,H,q,W){super(R.identifier,R,q,W);this.gallery=R,this.options=B,this.extensionsDownloader=H}async doRun(R){const H=(await this.extensionsScanner.scanExtensions(null)).find(W=>(0,c.areSameExtensions)(W.identifier,this.gallery.identifier));H&&(this._operation=2);const q=await this.downloadInstallableExtension(this.gallery,this._operation);q.metadata.isMachineScoped=this.options.isMachineScoped||H?.isMachineScoped,q.metadata.isBuiltin=this.options.isBuiltin||H?.isBuiltin;try{const W=await this.installExtension(q,R);return H&&E.neq(H.manifest.version,this.gallery.version)&&await this.extensionsScanner.setUninstalled(H),W}catch(W){throw await this.deleteDownloadedVSIX(q.zipPath),W}}async deleteDownloadedVSIX(R){try{await this.extensionsDownloader.delete(i.URI.file(R))}catch(B){this.logService.warn("Error while deleting the downloaded vsix",R.toString(),(0,_.getErrorMessage)(B))}}async downloadInstallableExtension(R,B){const H={id:R.identifier.uuid,publisherId:R.publisherId,publisherDisplayName:R.publisherDisplayName};let q;try{this.logService.trace("Started downloading extension:",R.identifier.id),q=(await this.extensionsDownloader.downloadExtension(R,B)).fsPath,this.logService.info("Downloaded extension:",R.identifier.id,q)}catch(W){throw new g.ExtensionManagementError((0,S.joinErrors)(W).message,g.ExtensionManagementErrorCode.Download)}try{const W=await(0,n.getManifest)(q);return{zipPath:q,identifierWithVersion:new c.ExtensionIdentifierWithVersion(R.identifier,W.version),metadata:H}}catch(W){throw await this.deleteDownloadedVSIX(q),new g.ExtensionManagementError((0,S.joinErrors)(W).message,g.ExtensionManagementErrorCode.Invalid)}}}class j extends ${constructor(R,B,H,q,W,U){super({id:(0,c.getGalleryExtensionId)(R.publisher,R.name)},B,W,U);this.manifest=R,this.location=B,this.options=H,this.galleryService=q}async doRun(R){const B=new c.ExtensionIdentifierWithVersion(this.identifier,this.manifest.version),q=(await this.extensionsScanner.scanExtensions(1)).find(U=>(0,c.areSameExtensions)(this.identifier,U.identifier)),W=await this.getMetadata(this.identifier.id,R);if(W.isMachineScoped=this.options.isMachineScoped||q?.isMachineScoped,W.isBuiltin=this.options.isBuiltin||q?.isBuiltin,q)if(this._operation=2,B.equals(new c.ExtensionIdentifierWithVersion(q.identifier,q.manifest.version)))try{await this.extensionsScanner.removeExtension(q,"existing")}catch(U){throw new Error(f.localize(3,null,this.manifest.displayName||this.manifest.name))}else E.gt(q.manifest.version,this.manifest.version)&&await this.extensionsScanner.setUninstalled(q);else{const U=await this.unsetUninstalledAndGetLocal(B);if(U)try{await this.extensionsScanner.removeExtension(U,"existing")}catch(x){throw new Error(f.localize(4,null,this.manifest.displayName||this.manifest.name))}}return this.installExtension({zipPath:C.resolve(this.location.fsPath),identifierWithVersion:B,metadata:W},R)}async getMetadata(R,B){try{const H=(await this.galleryService.query({names:[R],pageSize:1},B)).firstPage[0];if(H)return{id:H.identifier.uuid,publisherDisplayName:H.publisherDisplayName,publisherId:H.publisherId}}catch(H){}return{}}}class F extends S.AbstractExtensionTask{constructor(R,B,H){super();this.extension=R,this.options=B,this.extensionsScanner=H}async doRun(R){const B=[],H=await this.extensionsScanner.scanUserExtensions(!1);if(this.options.versionOnly){const q=new c.ExtensionIdentifierWithVersion(this.extension.identifier,this.extension.manifest.version);B.push(...H.filter(W=>q.equals(new c.ExtensionIdentifierWithVersion(W.identifier,W.manifest.version))))}else B.push(...H.filter(q=>(0,c.areSameExtensions)(q.identifier,this.extension.identifier)));if(!B.length)throw new Error(f.localize(5,null,this.extension.manifest.displayName||this.extension.manifest.name));if(await this.extensionsScanner.setUninstalled(...B),this.options.remove)for(const q of B)try{R.isCancellationRequested||await this.extensionsScanner.removeUninstalledExtension(q)}catch(W){throw new Error(f.localize(6,null,(0,P.toErrorMessage)(W)))}}}}),define(he[54],de([0,1,70,82,25,17,11,6,2,3,4,24,35,85,241]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.connect=e.serve=e.Server=e.createStaticIPCHandle=e.createRandomIPCHandle=e.XDG_RUNTIME_DIR=e.WebSocketNodeSocket=e.NodeSocket=void 0;class w{constructor(v){this.socket=v,this._errorListener=D=>{if(D){if(D.code==="EPIPE")return;(0,I.onUnexpectedError)(D)}},this.socket.on("error",this._errorListener)}dispose(){this.socket.off("error",this._errorListener),this.socket.destroy()}onData(v){const D=h=>v(C.VSBuffer.wrap(h));return this.socket.on("data",D),{dispose:()=>this.socket.off("data",D)}}onClose(v){const D=h=>{v({type:0,hadError:h,error:void 0})};return this.socket.on("close",D),{dispose:()=>this.socket.off("close",D)}}onEnd(v){return this.socket.on("end",v),{dispose:()=>this.socket.off("end",v)}}write(v){if(!this.socket.destroyed)try{this.socket.write(v.buffer,D=>{if(D){if(D.code==="EPIPE")return;(0,I.onUnexpectedError)(D)}})}catch(D){if(D.code==="EPIPE")return;(0,I.onUnexpectedError)(D)}}end(){this.socket.end()}drain(){return new Promise((v,D)=>{if(this.socket.bufferSize===0){v();return}const h=()=>{this.socket.off("close",h),this.socket.off("end",h),this.socket.off("error",h),this.socket.off("timeout",h),this.socket.off("drain",h),v()};this.socket.on("close",h),this.socket.on("end",h),this.socket.on("error",h),this.socket.on("timeout",h),this.socket.on("drain",h)})}}e.NodeSocket=w;var d;(function(u){u[u.MinHeaderByteSize=2]="MinHeaderByteSize"})(d||(d={}));var S;(function(u){u[u.PeekHeader=1]="PeekHeader",u[u.ReadHeader=2]="ReadHeader",u[u.ReadBody=3]="ReadBody",u[u.Fin=4]="Fin"})(S||(S={}));class g extends m.Disposable{constructor(v,D,h,A){super();this._onDidZlibFlush=this._register(new k.Emitter),this._recordedInflateBytes=[],this._pendingInflateData=[],this._pendingDeflateData=[],this._onData=this._register(new k.Emitter),this._onClose=this._register(new k.Emitter),this._isEnded=!1,this._state={state:1,readLen:2,fin:0,compressed:!1,firstFrameOfMessage:!0,mask:0},this.socket=v,this._totalIncomingWireBytes=0,this._totalIncomingDataBytes=0,this._totalOutgoingWireBytes=0,this._totalOutgoingDataBytes=0,this.permessageDeflate=D,this._recordInflateBytes=A,D?(this._zlibInflate=f.createInflateRaw({windowBits:15}),this._zlibInflate.on("error",N=>{console.error(N),(0,I.onUnexpectedError)(N),this._onClose.fire({type:0,hadError:!0,error:N})}),this._zlibInflate.on("data",N=>{this._pendingInflateData.push(N)}),h&&(this._zlibInflate.write(h.buffer),this._zlibInflate.flush(()=>{this._pendingInflateData.length=0})),this._zlibDeflate=f.createDeflateRaw({windowBits:15}),this._zlibDeflate.on("error",N=>{console.error(N),(0,I.onUnexpectedError)(N),this._onClose.fire({type:0,hadError:!0,error:N})}),this._zlibDeflate.on("data",N=>{this._pendingDeflateData.push(N)})):(this._zlibInflate=null,this._zlibDeflate=null),this._zlibDeflateFlushWaitingCount=0,this._incomingData=new b.ChunkStream,this._register(this.socket.onData(N=>this._acceptChunk(N))),this._register(this.socket.onClose(N=>this._onClose.fire(N)))}get totalIncomingWireBytes(){return this._totalIncomingWireBytes}get totalIncomingDataBytes(){return this._totalIncomingDataBytes}get totalOutgoingWireBytes(){return this._totalOutgoingWireBytes}get totalOutgoingDataBytes(){return this._totalOutgoingDataBytes}get recordedInflateBytes(){return this._recordInflateBytes?C.VSBuffer.wrap(Buffer.concat(this._recordedInflateBytes)):C.VSBuffer.alloc(0)}dispose(){this._zlibDeflateFlushWaitingCount>0?this._register(this._onDidZlibFlush.event(()=>{this.dispose()})):(this.socket.dispose(),super.dispose())}onData(v){return this._onData.event(v)}onClose(v){return this._onClose.event(v)}onEnd(v){return this.socket.onEnd(v)}write(v){this._totalOutgoingDataBytes+=v.byteLength,this._zlibDeflate?(this._zlibDeflate.write(v.buffer),this._zlibDeflateFlushWaitingCount++,this._zlibDeflate.flush(2,()=>{this._zlibDeflateFlushWaitingCount--;let D=Buffer.concat(this._pendingDeflateData);this._pendingDeflateData.length=0,D=D.slice(0,D.length-4),this._isEnded||this._write(C.VSBuffer.wrap(D),!0),this._zlibDeflateFlushWaitingCount===0&&this._onDidZlibFlush.fire()})):this._write(v,!1)}_write(v,D){let h=2;v.byteLength<126?h+=0:v.byteLength<2**16?h+=2:h+=8;const A=C.VSBuffer.alloc(h);if(D?A.writeUInt8(194,0):A.writeUInt8(130,0),v.byteLength<126)A.writeUInt8(v.byteLength,1);else if(v.byteLength<2**16){A.writeUInt8(126,1);let N=1;A.writeUInt8(v.byteLength>>>8&255,++N),A.writeUInt8(v.byteLength>>>0&255,++N)}else{A.writeUInt8(127,1);let N=1;A.writeUInt8(0,++N),A.writeUInt8(0,++N),A.writeUInt8(0,++N),A.writeUInt8(0,++N),A.writeUInt8(v.byteLength>>>24&255,++N),A.writeUInt8(v.byteLength>>>16&255,++N),A.writeUInt8(v.byteLength>>>8&255,++N),A.writeUInt8(v.byteLength>>>0&255,++N)}this._totalOutgoingWireBytes+=A.byteLength+v.byteLength,this.socket.write(C.VSBuffer.concat([A,v]))}end(){this._isEnded=!0,this.socket.end()}_acceptChunk(v){if(v.byteLength!==0){for(this._totalIncomingWireBytes+=v.byteLength,this._incomingData.acceptChunk(v);this._incomingData.byteLength>=this._state.readLen;)if(this._state.state===1){const D=this._incomingData.peek(this._state.readLen),h=D.readUInt8(0),A=(h&128)>>>7,N=(h&64)>>>6,$=D.readUInt8(1),K=($&128)>>>7,j=$&127;this._state.state=2,this._state.readLen=2+(K?4:0)+(j===126?2:0)+(j===127?8:0),this._state.fin=A,this._state.firstFrameOfMessage&&(this._state.compressed=Boolean(N)),this._state.firstFrameOfMessage=Boolean(A),this._state.mask=0}else if(this._state.state===2){const D=this._incomingData.read(this._state.readLen),h=D.readUInt8(1),A=(h&128)>>>7;let N=h&127,$=1;N===126?N=D.readUInt8(++$)*2**8+D.readUInt8(++$):N===127&&(N=D.readUInt8(++$)*0+D.readUInt8(++$)*0+D.readUInt8(++$)*0+D.readUInt8(++$)*0+D.readUInt8(++$)*2**24+D.readUInt8(++$)*2**16+D.readUInt8(++$)*2**8+D.readUInt8(++$));let K=0;A&&(K=D.readUInt8(++$)*2**24+D.readUInt8(++$)*2**16+D.readUInt8(++$)*2**8+D.readUInt8(++$)),this._state.state=3,this._state.readLen=N,this._state.mask=K}else if(this._state.state===3){const D=this._incomingData.read(this._state.readLen);c(D,this._state.mask),this._state.state=1,this._state.readLen=2,this._state.mask=0,this._zlibInflate&&this._state.compressed?(this._recordInflateBytes&&this._recordedInflateBytes.push(Buffer.from(D.buffer)),this._zlibInflate.write(D.buffer),this._state.fin&&(this._recordInflateBytes&&this._recordedInflateBytes.push(Buffer.from([0,0,255,255])),this._zlibInflate.write(Buffer.from([0,0,255,255]))),this._zlibInflate.flush(()=>{const h=Buffer.concat(this._pendingInflateData);this._pendingInflateData.length=0,this._totalIncomingDataBytes+=h.length,this._onData.fire(C.VSBuffer.wrap(h))})):(this._totalIncomingDataBytes+=D.byteLength,this._onData.fire(D))}}}async drain(){this._zlibDeflateFlushWaitingCount>0&&await k.Event.toPromise(this._onDidZlibFlush.event),await this.socket.drain()}}e.WebSocketNodeSocket=g;function c(u,v){if(v===0)return;let D=u.byteLength>>>2;for(let j=0;j<D;j++){const F=u.readUInt32BE(j*4);u.writeUInt32BE(F^v,j*4)}let h=D*4,A=u.byteLength-h;const N=v>>>24&255,$=v>>>16&255,K=v>>>8&255;A>=1&&u.writeUInt8(u.readUInt8(h)^N,h),A>=2&&u.writeUInt8(u.readUInt8(h+1)^$,h+1),A>=3&&u.writeUInt8(u.readUInt8(h+2)^K,h+2)}e.XDG_RUNTIME_DIR=process.env.XDG_RUNTIME_DIR;const a={[2]:107,[1]:103};function l(){const u=(0,T.generateUuid)();if(process.platform==="win32")return`\\\\.\\pipe\\vscode-ipc-${u}-sock`;let v;return e.XDG_RUNTIME_DIR?v=(0,E.join)(e.XDG_RUNTIME_DIR,`vscode-ipc-${u}.sock`):v=(0,E.join)((0,y.tmpdir)(),`vscode-ipc-${u}.sock`),s(v),v}e.createRandomIPCHandle=l;function n(u,v,D){const h=(0,P.createHash)("md5").update(u).digest("hex");if(process.platform==="win32")return`\\\\.\\pipe\\${h}-${D}-${v}-sock`;let A;return e.XDG_RUNTIME_DIR&&!process.env.VSCODE_PORTABLE?A=(0,E.join)(e.XDG_RUNTIME_DIR,`vscode-${h.substr(0,8)}-${D}-${v}.sock`):A=(0,E.join)(u,`${D}-${v}.sock`),s(A),A}e.createStaticIPCHandle=n;function s(u){const v=a[i.platform];typeof v=="number"&&u.length>=v&&console.warn(`WARNING: IPC handle "${u}" is longer than ${v} chars, try a shorter --user-data-dir`)}class r extends p.IPCServer{constructor(v){super(r.toClientConnectionEvent(v));this.server=v}static toClientConnectionEvent(v){const D=k.Event.fromNodeEventEmitter(v,"connection");return k.Event.map(D,h=>({protocol:new b.Protocol(new w(h)),onDidClientDisconnect:k.Event.once(k.Event.fromNodeEventEmitter(h,"close"))}))}dispose(){super.dispose(),this.server&&(this.server.close(),this.server=null)}}e.Server=r;function t(u){return new Promise((v,D)=>{const h=(0,_.createServer)();h.on("error",D),h.listen(u,()=>{h.removeListener("error",D),v(new r(h))})})}e.serve=t;function o(u,v){return new Promise((D,h)=>{const A=(0,_.createConnection)(u,()=>{A.removeListener("error",h),D(b.Client.fromSocket(new w(A),v))});A.once("error",h)})}e.connect=o}),define(he[112],de([0,1,71,13,17,11,2,12,27,26,66,14,199,241]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RequestService=void 0;let f=class extends I.Disposable{constructor(d,S,g){super();this.environmentService=S,this.logService=g,this.configure(d.getValue()),this._register(d.onDidChangeConfiguration(()=>this.configure(d.getValue()),this))}configure(d){this.proxyUrl=d.http&&d.http.proxy,this.strictSSL=!!(d.http&&d.http.proxyStrictSSL),this.authorization=d.http&&d.http.proxyAuthorization}async request(d,S){this.logService.trace("RequestService#request",d.url);const{proxyUrl:g,strictSSL:c}=this;let a;try{a=await(0,i.resolveShellEnv)(this.logService,this.environmentService.args,process.env)}catch(s){this.logService.error("RequestService#request resolving shell environment failed",s)}const l={...process.env,...a},n=d.agent?d.agent:await(0,p.getProxyAgent)(d.url||"",l,{proxyUrl:g,strictSSL:c});return d.agent=n,d.strictSSL=c,this.authorization&&(d.headers={...d.headers||{},"Proxy-Authorization":this.authorization}),this._request(d,S)}async getNodeRequest(d){return((0,P.parse)(d.url).protocol==="https:"?await new Promise((c,a)=>{Z(["https"],c,a)}):await new Promise((c,a)=>{Z(["http"],c,a)})).request}_request(d,S){return _.Promises.withAsyncBody(async(g,c)=>{let a;const l=(0,P.parse)(d.url),n=d.getRawRequest?d.getRawRequest(d):await this.getNodeRequest(d),s={hostname:l.hostname,port:l.port?parseInt(l.port):l.protocol==="https:"?443:80,protocol:l.protocol,path:l.path,method:d.type||"GET",headers:d.headers,agent:d.agent,rejectUnauthorized:(0,k.isBoolean)(d.strictSSL)?d.strictSSL:!0};d.user&&d.password&&(s.auth=d.user+":"+d.password),a=n(s,r=>{const t=(0,k.isNumber)(d.followRedirects)?d.followRedirects:3;if(r.statusCode&&r.statusCode>=300&&r.statusCode<400&&t>0&&r.headers.location)this._request({...d,url:r.headers.location,followRedirects:t-1},S).then(g,c);else{let o=r;r.headers["content-encoding"]==="gzip"&&(o=r.pipe((0,b.createGunzip)())),g({res:r,stream:(0,y.streamToBufferReadableStream)(o)})}}),a.on("error",c),d.timeout&&a.setTimeout(d.timeout),d.data&&typeof d.data=="string"&&a.write(d.data),a.end(),S.onCancellationRequested(()=>{a.abort(),c((0,C.canceled)())})})}async resolveProxy(d){}};f=Ne([Ge(0,m.IConfigurationService),Ge(1,E.INativeEnvironmentService),Ge(2,T.ILogService)],f),e.RequestService=f}),define(he[113],de([0,1,40,102,43,8,3,17,6,54,66,4,235,60]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionHostConnection=e.buildUserEnvironment=void 0;async function f(c={},a,l,n,s){const r=await(0,_.getNLSConfiguration)(a,n.userDataPath);let t;try{t=await(0,i.resolveShellEnv)(s,n.args,process.env)}catch(h){s.error("ExtensionHostConnection#buildUserEnvironment resolving shell environment failed",h),t={}}const o=n.isBuilt?(0,I.join)(n.appRoot,"bin"):(0,I.join)(n.appRoot,"resources","server","bin-dev"),u=process.env;let v=c.PATH||(t?t.PATH:void 0)||u.PATH;v?v=o+I.delimiter+v:v=o;const D={...u,...t,VSCODE_LOG_NATIVE:String(l),VSCODE_AMD_ENTRYPOINT:"vs/server/remoteExtensionHostProcess",VSCODE_PIPE_LOGGING:"true",VSCODE_VERBOSE_LOGGING:"true",VSCODE_EXTHOST_WILL_SEND_SOCKET:"true",VSCODE_HANDLES_UNCAUGHT_ERRORS:"true",VSCODE_LOG_STACK:"false",VSCODE_NLS_CONFIG:JSON.stringify(r,void 0,0),...c};return n.args["without-browser-env-var"]||(D.BROWSER=(0,I.join)(o,"helpers",T.isWindows?"browser.cmd":"browser.sh")),S(D,"PATH",v),g(D),D}e.buildUserEnvironment=f;class w{constructor(a,l,n,s,r,t){this.socket=a,this.socketDrain=l,this.initialDataChunk=n,this.skipWebSocketFrames=s,this.permessageDeflate=r,this.inflateBytes=t}toIExtHostSocketMessage(){return{type:"VSCODE_EXTHOST_IPC_SOCKET",initialDataChunk:this.initialDataChunk.buffer.toString("base64"),skipWebSocketFrames:this.skipWebSocketFrames,permessageDeflate:this.permessageDeflate,inflateBytes:this.inflateBytes.buffer.toString("base64")}}}class d{constructor(a,l,n,s,r,t){this._environmentService=a,this._logService=l,this._reconnectionToken=n,this._onClose=new m.Emitter,this.onClose=this._onClose.event,this._disposed=!1,this._remoteAddress=s,this._extensionHostProcess=null,this._connectionData=d._toConnectionData(r,t),this._connectionData.socket.pause(),this._log("New connection established.")}get _logPrefix(){return`[${this._remoteAddress}][${this._reconnectionToken.substr(0,8)}][ExtensionHostConnection] `}_log(a){this._logService.info(`${this._logPrefix}${a}`)}_logError(a){this._logService.error(`${this._logPrefix}${a}`)}static _toConnectionData(a,l){return a instanceof E.NodeSocket?new w(a.socket,a.drain(),l,!0,!1,k.VSBuffer.alloc(0)):new w(a.socket.socket,a.drain(),l,!1,a.permessageDeflate,a.recordedInflateBytes)}async _sendSocketToExtensionHost(a,l){await l.socketDrain;const n=l.toIExtHostSocketMessage();a.send(n,l.socket)}shortenReconnectionGraceTimeIfNecessary(){if(!this._extensionHostProcess)return;const a={type:"VSCODE_EXTHOST_IPC_REDUCE_GRACE_TIME"};this._extensionHostProcess.send(a)}acceptReconnection(a,l,n){this._remoteAddress=a,this._log("The client has reconnected.");const s=d._toConnectionData(l,n);if(s.socket.pause(),!this._extensionHostProcess){this._connectionData=s;return}this._sendSocketToExtensionHost(this._extensionHostProcess,s)}_cleanResources(){this._disposed||(this._disposed=!0,this._connectionData&&(this._connectionData.socket.end(),this._connectionData=null),this._extensionHostProcess&&(this._extensionHostProcess.kill(),this._extensionHostProcess=null),this._onClose.fire(void 0))}async start(a){try{let l=[];a.port&&!process.pkg&&(l=[`--inspect${a.break?"-brk":""}=0.0.0.0:${a.port}`]);const n=await f(a.env,a.language,!!a.debugId,this._environmentService,this._logService);(0,b.removeDangerousEnvVariables)(n);const s={env:n,execArgv:l,silent:!0},r=["--type=extensionHost",`--uriTransformerPath=${y.uriTransformerPath}`],t=this._environmentService.args["use-host-proxy"];t!==void 0&&r.push(`--useHostProxy=${t}`),this._extensionHostProcess=P.fork(C.FileAccess.asFileUri("bootstrap-fork",Z).fsPath,r,s);const o=this._extensionHostProcess.pid;this._log(`<${o}> Launched Extension Host Process.`),this._extensionHostProcess.stdout.setEncoding("utf8"),this._extensionHostProcess.stderr.setEncoding("utf8");const u=m.Event.fromNodeEventEmitter(this._extensionHostProcess.stdout,"data"),v=m.Event.fromNodeEventEmitter(this._extensionHostProcess.stderr,"data");u(h=>this._log(`<${o}> ${h}`)),v(h=>this._log(`<${o}><stderr> ${h}`)),this._extensionHostProcess.on("message",h=>{h&&h.type==="__$console"&&(0,p.logRemoteEntry)(this._logService,h,`${this._logPrefix}<${o}>`)}),this._extensionHostProcess.on("error",h=>{this._logError(`<${o}> Extension Host Process had an error`),this._logService.error(h),this._cleanResources()}),this._extensionHostProcess.on("exit",(h,A)=>{this._log(`<${o}> Extension Host Process exited with code: ${h}, signal: ${A}.`),this._cleanResources()});const D=h=>{h.type==="VSCODE_EXTHOST_IPC_READY"&&(this._extensionHostProcess.removeListener("message",D),this._sendSocketToExtensionHost(this._extensionHostProcess,this._connectionData),this._connectionData=null)};this._extensionHostProcess.on("message",D)}catch(l){console.error("ExtensionHostConnection errored"),l&&console.error(l)}}}e.ExtensionHostConnection=d;function S(c,a,l){const n=Object.keys(c).filter(r=>r.toLowerCase()===a.toLowerCase()),s=n.length>0?n[0]:a;c[s]=l}function g(c){for(let a of Object.keys(c))c[a]===null&&delete c[a]}}),define(he[242],de([0,1,67,14,63,93,27,53,112,42,33,31,98,111,89,47,2,90,69,8,19,37,92,110,72,96,68,97,11,5,3,22,197,65]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b,f,w,d,S,g,c,a,l,n,s,r,t,o,u,v,D,h,A,N,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.run=void 0;class K extends d.Disposable{constructor(R,B){super();this.args=R,this.remoteDataFolder=B,this.registerListeners()}registerListeners(){process.once("exit",()=>this.dispose())}async run(){await(await this.initServices()).invokeFunction(async B=>{const H=B.get(_.ILogService),q=B.get(T.IExtensionManagementCLIService);try{await this.doRun(q)}catch(W){throw H.error(W),console.error((0,v.getErrorMessage)(W)),W}})}async initServices(){const R=new P.ServiceCollection,B={_serviceBrand:void 0,...w.default};R.set(l.IProductService,B);const H=new r.ServerEnvironmentService(this.args,B);R.set(r.IServerEnvironmentService,H);const q=new _.LogService(new n.SpdLogLogger(s.RemoteExtensionLogFileName,(0,h.join)(H.logsPath,`${s.RemoteExtensionLogFileName}.log`),!0,(0,_.getLogLevel)(H)));R.set(_.ILogService,q),q.trace(`Remote configuration data at ${this.remoteDataFolder}`),q.trace("process arguments:",this.args);const W=this._register(new S.FileService(q));R.set(a.IFileService,W),W.registerProvider(c.Schemas.file,this._register(new g.DiskFileSystemProvider(q)));const U=this._register(new C.ConfigurationService(H.settingsResource,W));return await U.initialize(),R.set(I.IConfigurationService,U),R.set(k.IRequestService,new y.SyncDescriptor(m.RequestService)),R.set($.IDownloadService,new y.SyncDescriptor(N.DownloadService)),R.set(i.ITelemetryService,E.NullTelemetryService),R.set(T.IExtensionGalleryService,new y.SyncDescriptor(p.ExtensionGalleryServiceWithNoStorageService)),R.set(T.IExtensionManagementService,new y.SyncDescriptor(b.ExtensionManagementService)),R.set(T.IExtensionManagementCLIService,new y.SyncDescriptor(t.ExtensionManagementCLIService)),R.set(o.ILocalizationsService,new y.SyncDescriptor(u.LocalizationsService)),new f.InstantiationService(R)}async doRun(R){if(this.args["list-extensions"])return R.listExtensions(!!this.args["show-versions"],this.args.category);if(this.args["install-extension"]||this.args["install-builtin-extension"])return R.installExtensions(this.asExtensionIdOrVSIX(this.args["install-extension"]||[]),this.args["install-builtin-extension"]||[],!!this.args["do-not-sync"],!!this.args.force);if(this.args["uninstall-extension"])return R.uninstallExtensions(this.asExtensionIdOrVSIX(this.args["uninstall-extension"]),!!this.args.force);if(this.args["locate-extension"])return R.locateExtension(this.args["locate-extension"])}asExtensionIdOrVSIX(R){return R.map(B=>/\.vsix$/i.test(B)?D.URI.file((0,h.isAbsolute)(B)?B:(0,h.join)((0,A.cwd)(),B)):B)}}function j(G){setTimeout(()=>process.exit(G),0)}async function F(G,R){const B=new K(G,R);try{await B.run(),j(0)}catch(H){j(1)}finally{B.dispose()}}e.run=F}),define(he[243],de([0,1,54,255,30,234,5,216,14]),function(Z,e,P,_,y,C,I,k,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CLIServer=e.CLIServerBase=void 0;class E{constructor(p,b,f){this._commands=p,this.logService=b,this._ipcHandlePath=f,this._server=_.createServer((w,d)=>this.onRequest(w,d)),this.setup().catch(w=>(b.error(w),""))}get ipcHandlePath(){return this._ipcHandlePath}async setup(){try{this._server.listen(this.ipcHandlePath),this._server.on("error",p=>this.logService.error(p))}catch(p){this.logService.error("Could not start open from terminal server.")}return this._ipcHandlePath}onRequest(p,b){const f=[];p.setEncoding("utf8"),p.on("data",w=>f.push(w)),p.on("end",()=>{const w=JSON.parse(f.join(""));switch(w.type){case"open":this.open(w,b);break;case"openExternal":this.openExternal(w,b);break;case"status":this.getStatus(w,b);break;case"extensionManagement":this.manageExtensions(w,b).catch(this.logService.error);break;default:b.writeHead(404),b.write(`Unknown message type: ${w.type}`,d=>{d&&this.logService.error(d)}),b.end();break}})}open(p,b){let{fileURIs:f,folderURIs:w,forceNewWindow:d,diffMode:S,addMode:g,forceReuseWindow:c,gotoLineMode:a,waitMarkerFilePath:l}=p;const n=[];if(Array.isArray(w))for(const s of w)try{n.push({folderUri:I.URI.parse(s)})}catch(r){}if(Array.isArray(f))for(const s of f)try{(0,k.hasWorkspaceFileExtension)(s)?n.push({workspaceUri:I.URI.parse(s)}):n.push({fileUri:I.URI.parse(s)})}catch(r){}if(n.length){const s=l?I.URI.file(l):void 0,t={forceNewWindow:d,diffMode:S,addMode:g,gotoLineMode:a,forceReuseWindow:c,preferNewWindow:!c&&!s&&!g,waitMarkerFileURI:s};this._commands.executeCommand("_remoteCLI.windowOpen",n,t)}b.writeHead(200),b.end()}async openExternal(p,b){for(const f of p.uris){const w=I.URI.parse(f),d=w.scheme==="file"?w:f;await this._commands.executeCommand("_remoteCLI.openExternal",d)}b.writeHead(200),b.end()}async manageExtensions(p,b){try{const f=S=>S?.map(g=>/\.vsix$/i.test(g)?I.URI.parse(g):g),w={list:p.list,install:f(p.install),uninstall:f(p.uninstall),force:p.force},d=await this._commands.executeCommand("_remoteCLI.manageExtensions",w);b.writeHead(200),b.write(d)}catch(f){b.writeHead(500),b.write(String(f),w=>{w&&this.logService.error(w)})}b.end()}async getStatus(p,b){try{const f=await this._commands.executeCommand("_remoteCLI.getSystemStatus");b.writeHead(200),b.write(f),b.end()}catch(f){b.writeHead(500),b.write(String(f),w=>{w&&this.logService.error(w)}),b.end()}}dispose(){this._server.close(),this._ipcHandlePath&&process.platform!=="win32"&&y.existsSync(this._ipcHandlePath)&&y.unlinkSync(this._ipcHandlePath)}}e.CLIServerBase=E;let i=class extends E{constructor(p,b){super(p,b,(0,P.createRandomIPCHandle)())}};i=Ne([Ge(0,C.IExtHostCommands),Ge(1,m.ILogService)],i),e.CLIServer=i}),define(he[244],de([0,1,25,6,20,2,3,4,5,54,43,243,223,107,224,228,113]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b,f,w,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RemoteTerminalChannel=void 0;class S extends w.AbstractVariableResolverService{constructor(a,l,n,s){super({getFolderUri:r=>{const t=l.filter(o=>o.name===r);if(t&&t.length>0)return t[0].uri},getWorkspaceFolderCount:()=>l.length,getConfigurationValue:(r,t)=>s[`config:${t}`],getExecPath:()=>a.VSCODE_EXEC_PATH,getAppRoot:()=>a.VSCODE_CWD,getFilePath:()=>{if(n)return I.normalize(n.fsPath)},getSelectedText:()=>s.selectedText,getLineNumber:()=>s.lineNumber},void 0,Promise.resolve(a))}}class g extends C.Disposable{constructor(a,l,n,s){super();this._environmentService=a,this._logService=l,this._ptyService=n,this._productService=s,this._lastReqId=0,this._pendingCommands=new Map,this._onExecuteCommand=this._register(new _.Emitter),this.onExecuteCommand=this._onExecuteCommand.event}async call(a,l,n){switch(l){case"$restartPtyHost":return this._ptyService.restartPtyHost?.apply(this._ptyService,n);case"$createProcess":{const s=(0,i.createRemoteURITransformer)(a.remoteAuthority);return this._createProcess(s,n)}case"$attachToProcess":return this._ptyService.attachToProcess.apply(this._ptyService,n);case"$detachFromProcess":return this._ptyService.detachFromProcess.apply(this._ptyService,n);case"$listProcesses":return this._ptyService.listProcesses.apply(this._ptyService,n);case"$orphanQuestionReply":return this._ptyService.orphanQuestionReply.apply(this._ptyService,n);case"$acceptPtyHostResolvedVariables":return this._ptyService.acceptPtyHostResolvedVariables?.apply(this._ptyService,n);case"$start":return this._ptyService.start.apply(this._ptyService,n);case"$input":return this._ptyService.input.apply(this._ptyService,n);case"$acknowledgeDataEvent":return this._ptyService.acknowledgeDataEvent.apply(this._ptyService,n);case"$shutdown":return this._ptyService.shutdown.apply(this._ptyService,n);case"$resize":return this._ptyService.resize.apply(this._ptyService,n);case"$getInitialCwd":return this._ptyService.getInitialCwd.apply(this._ptyService,n);case"$getCwd":return this._ptyService.getCwd.apply(this._ptyService,n);case"$processBinary":return this._ptyService.processBinary.apply(this._ptyService,n);case"$sendCommandResult":return this._sendCommandResult(n[0],n[1],n[2]);case"$getDefaultSystemShell":return this._getDefaultSystemShell.apply(this,n);case"$getProfiles":return this._getProfiles.apply(this,n);case"$getEnvironment":return this._getEnvironment();case"$getWslPath":return this._getWslPath(n[0]);case"$getTerminalLayoutInfo":return this._getTerminalLayoutInfo(n);case"$setTerminalLayoutInfo":return this._setTerminalLayoutInfo(n);case"$serializeTerminalState":return this._ptyService.serializeTerminalState.apply(this._ptyService,n);case"$reviveTerminalProcesses":return this._ptyService.reviveTerminalProcesses.apply(this._ptyService,n);case"$reduceConnectionGraceTime":return this._reduceConnectionGraceTime();case"$updateIcon":return this._ptyService.updateIcon.apply(this._ptyService,n);case"$updateTitle":return this._ptyService.updateTitle.apply(this._ptyService,n);case"$updateProperty":return this._ptyService.updateProperty.apply(this._ptyService,n);case"$refreshProperty":return this._ptyService.refreshProperty.apply(this._ptyService,n);case"$requestDetachInstance":return this._ptyService.requestDetachInstance(n[0],n[1]);case"$acceptDetachedInstance":return this._ptyService.acceptDetachInstanceReply(n[0],n[1])}throw new Error(`IPC Command ${l} not found`)}listen(a,l,n){switch(l){case"$onPtyHostExitEvent":return this._ptyService.onPtyHostExit||_.Event.None;case"$onPtyHostStartEvent":return this._ptyService.onPtyHostStart||_.Event.None;case"$onPtyHostUnresponsiveEvent":return this._ptyService.onPtyHostUnresponsive||_.Event.None;case"$onPtyHostResponsiveEvent":return this._ptyService.onPtyHostResponsive||_.Event.None;case"$onPtyHostRequestResolveVariablesEvent":return this._ptyService.onPtyHostRequestResolveVariables||_.Event.None;case"$onProcessDataEvent":return this._ptyService.onProcessData;case"$onProcessExitEvent":return this._ptyService.onProcessExit;case"$onProcessReadyEvent":return this._ptyService.onProcessReady;case"$onProcessReplayEvent":return this._ptyService.onProcessReplay;case"$onProcessTitleChangedEvent":return this._ptyService.onProcessTitleChanged;case"$onProcessShellTypeChangedEvent":return this._ptyService.onProcessShellTypeChanged;case"$onProcessOverrideDimensionsEvent":return this._ptyService.onProcessOverrideDimensions;case"$onProcessResolvedShellLaunchConfigEvent":return this._ptyService.onProcessResolvedShellLaunchConfig;case"$onProcessOrphanQuestion":return this._ptyService.onProcessOrphanQuestion;case"$onProcessDidChangeHasChildProcesses":return this._ptyService.onProcessDidChangeHasChildProcesses;case"$onExecuteCommand":return this.onExecuteCommand;case"$onDidRequestDetach":return this._ptyService.onDidRequestDetach||_.Event.None;case"$onDidChangeProperty":return this._ptyService.onDidChangeProperty;default:break}throw new Error("Not supported")}async _createProcess(a,l){const n={name:l.shellLaunchConfig.name,executable:l.shellLaunchConfig.executable,args:l.shellLaunchConfig.args,cwd:typeof l.shellLaunchConfig.cwd=="string"||typeof l.shellLaunchConfig.cwd=="undefined"?l.shellLaunchConfig.cwd:m.URI.revive(a.transformIncoming(l.shellLaunchConfig.cwd)),env:l.shellLaunchConfig.env,useShellEnvironment:l.shellLaunchConfig.useShellEnvironment};let s;l.shellLaunchConfig.useShellEnvironment?(this._logService.trace("*"),s=await(0,d.buildUserEnvironment)(l.resolverEnv,k.language,!1,this._environmentService,this._logService)):s=this._getEnvironment(),this._logService.trace("baseEnv",s);const r=R=>({uri:m.URI.revive(a.transformIncoming(R.uri)),name:R.name,index:R.index,toResource:()=>{throw new Error("Not implemented")}}),t=l.workspaceFolders.map(r),o=l.activeWorkspaceFolder?r(l.activeWorkspaceFolder):void 0,u=l.activeFileResource?m.URI.revive(a.transformIncoming(l.activeFileResource)):void 0,v=new S(s,t,u,l.resolvedVariables),D=f.createVariableResolver(o,process.env,v),h=f.getCwd(n,P.homedir(),D,o?.uri,l.configuration["terminal.integrated.cwd"],this._logService);n.cwd=h;const A=k.isWindows?"terminal.integrated.env.windows":k.isMacintosh?"terminal.integrated.env.osx":"terminal.integrated.env.linux",N=l.configuration[A],$=f.createTerminalEnvironment(n,N,D,this._productService.version,l.configuration["terminal.integrated.detectLocale"],s);if(!n.strictEnv){const R=[];for(const[q,W]of l.envVariableCollections)R.push([q,{map:(0,b.deserializeEnvironmentVariableCollection)(W)}]);const B=new Map(R);new p.MergedEnvironmentVariableCollection(B).applyToProcessEnvironment($)}this._logService.debug("Terminal process launching on remote agent",{shellLaunchConfig:n,initialCwd:h,cols:l.cols,rows:l.rows,env:$});const K=(0,E.createRandomIPCHandle)();$.VSCODE_IPC_HOOK_CLI=K;const j={executeCommand:(R,...B)=>this._executeCommand(R,B,a)},F=new T.CLIServerBase(j,this._logService,K),G=await this._ptyService.createProcess(n,h,l.cols,l.rows,l.unicodeVersion,$,s,!1,l.shouldPersistTerminal,l.workspaceId,l.workspaceName);return this._ptyService.onProcessExit(R=>R.id===G&&F.dispose()),{persistentTerminalId:G,resolvedShellLaunchConfig:n}}_executeCommand(a,l,n){let s,r;const t=new Promise((v,D)=>{s=v,r=D}),o=++this._lastReqId;this._pendingCommands.set(o,{resolve:s,reject:r,uriTransformer:n});const u=(0,y.cloneAndChange)(l,v=>{if(v&&v.$mid===1)return n.transformOutgoing(v);if(v&&v instanceof m.URI)return n.transformOutgoingURI(v)});return this._onExecuteCommand.fire({reqId:o,commandId:a,commandArgs:u}),t}_sendCommandResult(a,l,n){const s=this._pendingCommands.get(a);if(!s)return;this._pendingCommands.delete(a);const r=(0,y.cloneAndChange)(n,t=>{if(t&&t.$mid===1)return s.uriTransformer.transformIncoming(t)});l?s.reject(r):s.resolve(r)}_getDefaultSystemShell(a){return this._ptyService.getDefaultSystemShell(a)}async _getProfiles(a,l,n,s){return this._ptyService.getProfiles?.(a,l,n,s)||[]}_getEnvironment(){return{...process.env}}_getWslPath(a){return this._ptyService.getWslPath(a)}_setTerminalLayoutInfo(a){this._ptyService.setTerminalLayoutInfo(a)}async _getTerminalLayoutInfo(a){return this._ptyService.getTerminalLayoutInfo(a)}_reduceConnectionGraceTime(){return this._ptyService.reduceConnectionGraceTime()}}e.RemoteTerminalChannel=g}),define(he[245],de([0,1,70,30,82,71,25,45,246,17,2,24,16,130,4,85,54,113,217,43,14,8,47,26,67,63,93,27,53,112,42,33,31,98,111,89,65,169,68,97,207,202,81,90,69,19,37,35,6,237,219,238,198,180,208,168,91,220,5,29,72,3,231,244,114,110,96,92,99,215,218]),function(Z,e,P,_,y,C,I,k,m,E,i,T,p,b,f,w,d,S,g,c,a,l,n,s,r,t,o,u,v,D,h,A,N,$,K,j,F,G,R,B,H,q,W,U,x,z,te,X,me,pe,se,ne,Se,ye,Ae,Fe,qe,Be,nt,ge,ve,Pe,Le,Me,He,Ye,Ze,ot,ae,be,Ie){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createServer=e.RemoteExtensionHostAgentServer=void 0;const We=5*60*1e3,Xe="monacoworkbench";class at extends X.IPCServer{constructor(){const ke=new me.Emitter;super(ke.event);this._onDidConnectEmitter=ke}acceptConnection(ke,re){this._onDidConnectEmitter.fire({protocol:ke,onDidClientDisconnect:re})}}function it(Ue){return Ue<10?`0${Ue}`:String(Ue)}function ee(){const Ue=new Date;return`${it(Ue.getHours())}:${it(Ue.getMinutes())}:${it(Ue.getSeconds())}`}class De extends a.AbstractLogger{constructor(ke=a.DEFAULT_LOG_LEVEL){super();this.setLevel(ke),this.useColors=Boolean(process.stdout.isTTY)}trace(ke,...re){this.getLevel()<=a.LogLevel.Trace&&(this.useColors?console.log(`[90m[${ee()}][0m`,ke,...re):console.log(`[${ee()}]`,ke,...re))}debug(ke,...re){this.getLevel()<=a.LogLevel.Debug&&(this.useColors?console.log(`[90m[${ee()}][0m`,ke,...re):console.log(`[${ee()}]`,ke,...re))}info(ke,...re){this.getLevel()<=a.LogLevel.Info&&(this.useColors?console.log(`[90m[${ee()}][0m`,ke,...re):console.log(`[${ee()}]`,ke,...re))}warn(ke,...re){this.getLevel()<=a.LogLevel.Warning&&(this.useColors?console.warn(`[93m[${ee()}][0m`,ke,...re):console.warn(`[${ee()}]`,ke,...re))}error(ke,...re){this.getLevel()<=a.LogLevel.Error&&(this.useColors?console.error(`[91m[${ee()}][0m`,ke,...re):console.error(`[${ee()}]`,ke,...re))}critical(ke,...re){this.getLevel()<=a.LogLevel.Critical&&(this.useColors?console.error(`[90m[${ee()}][0m`,ke,...re):console.error(`[${ee()}]`,ke,...re))}dispose(){}flush(){}}class Te extends i.Disposable{constructor(ke,re,ie,fe,V,J){super();this._environmentService=ke,this._productService=re,this._connectionToken=ie,this._connectionTokenIsMandatory=fe;const ce=et(this._environmentService);ce.trace(`Remote configuration data at ${J}`),ce.trace("process arguments:",this._environmentService.args);const oe=re.serverGreeting.join(`
`);oe&&ce.info(`

${oe}

`),this._logService=new a.MultiplexLogService([new De((0,a.getLogLevel)(this._environmentService)),ce]),this._socketServer=new at,this._uriTransformerCache=Object.create(null),this._extHostConnections=Object.create(null),this._managementConnections=Object.create(null),this._allReconnectionTokens=new Set,V?this._webClientServer=new Be.WebClientServer(this._connectionToken,this._environmentService,this._logService,this._productService):this._webClientServer=null,this._logService.info("Extension host agent started.")}async initialize(){const ke=await this._createServices();return setTimeout(()=>this._cleanupOlderLogs(this._environmentService.logsPath).then(null,re=>this._logService.error(re)),1e4),ke}async _createServices(){const ke=new r.ServiceCollection;this._socketServer.registerChannel(Fe.ExtensionHostDebugBroadcastChannel.ChannelName,new Fe.ExtensionHostDebugBroadcastChannel);const re=new X.StaticRouter(Oe=>Oe.clientId==="renderer");this._socketServer.registerChannel("logger",new qe.LogLevelChannel(this._logService)),ke.set(s.IEnvironmentService,this._environmentService),ke.set(s.INativeEnvironmentService,this._environmentService),ke.set(a.ILogService,this._logService),ke.set(te.IProductService,this._productService);const ie=this._register(new U.FileService(this._logService));ke.set(z.IFileService,ie),ie.registerProvider(l.Schemas.file,this._register(new x.DiskFileSystemProvider(this._logService)));const fe=new o.ConfigurationService(this._environmentService.machineSettingsResource,ie);ke.set(u.IConfigurationService,fe),ke.set(v.IRequestService,new t.SyncDescriptor(D.RequestService));let V=h.NullAppender;if(!this._environmentService.args["disable-telemetry"]&&this._productService.enableTelemetry){this._productService.aiConfig&&this._productService.aiConfig.asimovKey&&(V=new H.AppInsightsAppender(Xe,null,this._productService.aiConfig.asimovKey),this._register((0,i.toDisposable)(()=>V.flush())));const Oe=await(0,W.getMachineId)(),Re={appenders:[V],commonProperties:(0,q.resolveCommonProperties)(ie,(0,I.release)(),(0,I.hostname)(),process.arch,this._productService.commit,this._productService.version+"-remote",Oe,this._productService.msftInternalDomains,this._environmentService.installSourcePath,"remoteAgent"),piiPaths:[this._environmentService.appRoot]};ke.set(Ie.IRemoteTelemetryService,new t.SyncDescriptor(Ie.RemoteTelemetryService,[Re]))}else ke.set(Ie.IRemoteTelemetryService,Ie.RemoteNullTelemetryService);ke.set(N.IExtensionGalleryService,new t.SyncDescriptor($.ExtensionGalleryServiceWithNoStorageService));const J=this._socketServer.getChannel("download",re);ke.set(F.IDownloadService,new G.DownloadServiceChannelClient(J,()=>this._getUriTransformer("renderer"))),ke.set(N.IExtensionManagementService,new t.SyncDescriptor(K.ExtensionManagementService));const ce=new j.InstantiationService(ke);ke.set(R.ILocalizationsService,ce.createInstance(B.LocalizationsService));const oe=ce.createInstance(Ze.ExtensionManagementCLIService);ke.set(N.IExtensionManagementCLIService,oe);const Ce=ce.createInstance(be.PtyHostService,{GraceTime:108e5,ShortGraceTime:3e5,scrollback:fe.getValue("terminal.integrated.persistentSessionScrollback")??100});return ke.set(ae.IPtyService,Ce),ce.invokeFunction(Oe=>{const Re=new pe.RemoteAgentEnvironmentChannel(this._connectionToken,this._environmentService,oe,this._logService,Oe.get(Ie.IRemoteTelemetryService),V,this._productService);this._socketServer.registerChannel("remoteextensionsenvironment",Re),this._socketServer.registerChannel(Le.REMOTE_TERMINAL_CHANNEL_NAME,new Me.RemoteTerminalChannel(this._environmentService,this._logService,Ce,this._productService));const je=new se.RemoteAgentFileSystemProviderChannel(this._logService,this._environmentService);this._socketServer.registerChannel(ne.REMOTE_FILE_SYSTEM_CHANNEL_NAME,je),this._socketServer.registerChannel("request",new Se.RequestChannel(Oe.get(v.IRequestService)));const Ke=Oe.get(N.IExtensionManagementService),Je=new ye.ExtensionManagementChannel(Ke,le=>this._getUriTransformer(le.remoteAuthority));return this._socketServer.registerChannel("extensions",Je),Ke.removeDeprecatedExtensions(),this._register(new Ae.default(Oe.get(A.ITelemetryService))),{telemetryService:Oe.get(A.ITelemetryService)}})}_getUriTransformer(ke){return this._uriTransformerCache[ke]||(this._uriTransformerCache[ke]=(0,c.createRemoteURITransformer)(ke)),this._uriTransformerCache[ke]}async handleRequest(ke,re){if(ke.method!=="GET")return(0,Be.serveError)(ke,re,405,`Unsupported method ${ke.method}`);if(!ke.url)return(0,Be.serveError)(ke,re,400,"Bad request.");const ie=C.parse(ke.url,!0),fe=ie.pathname;if(!fe)return(0,Be.serveError)(ke,re,400,"Bad request.");if(fe==="/version")return re.writeHead(200,{"Content-Type":"text/plain"}),re.end(this._productService.commit||"");if(fe==="/delay-shutdown")return this._delayShutdown(),re.writeHead(200),re.end("OK");if(fe==="/vscode-remote-resource"){if(ie.query.tkn!==this._connectionToken)return(0,Be.serveError)(ke,re,403,"Forbidden.");const V=ie.query.path;if(typeof V!="string")return(0,Be.serveError)(ke,re,400,"Bad request.");let J;try{J=nt.URI.from({scheme:l.Schemas.file,path:V}).fsPath}catch(oe){return(0,Be.serveError)(ke,re,400,"Bad request.")}const ce=Object.create(null);return this._environmentService.isBuilt&&((0,ge.isEqualOrParent)(J,this._environmentService.builtinExtensionsPath,!f.isLinux)||(0,ge.isEqualOrParent)(J,this._environmentService.extensionsPath,!f.isLinux))&&(ce["Cache-Control"]="public, max-age=31536000"),(0,Be.serveFile)(this._logService,ke,re,J,ce)}if(this._webClientServer){this._webClientServer.handle(ke,re,ie);return}return re.writeHead(404,{"Content-Type":"text/plain"}),re.end("Not found")}handleUpgrade(ke,re){let ie=(0,T.generateUuid)(),fe=!1,V=!1;if(ke.url){const Re=C.parse(ke.url,!0).query;typeof Re.reconnectionToken=="string"&&(ie=Re.reconnectionToken),Re.reconnection==="true"&&(fe=!0),Re.skipWebSocketFrames==="true"&&(V=!0)}if(ke.headers.upgrade!=="websocket"){re.end("HTTP/1.1 400 Bad Request");return}const J=ke.headers["sec-websocket-key"],ce=P.createHash("sha1");ce.update(J+"258EAFA5-E914-47DA-95CA-C5AB0DC85B11");const oe=ce.digest("base64"),Ce=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${oe}`];let Oe=!1;if(!V&&!this._environmentService.args["disable-websocket-compression"]&&ke.headers["sec-websocket-extensions"]){const Re=Array.isArray(ke.headers["sec-websocket-extensions"])?ke.headers["sec-websocket-extensions"]:[ke.headers["sec-websocket-extensions"]];for(const je of Re)if(!/\b((server_max_window_bits)|(server_no_context_takeover)|(client_no_context_takeover))\b/.test(je)){if(/\b(permessage-deflate)\b/.test(je)){Oe=!0,Ce.push("Sec-WebSocket-Extensions: permessage-deflate");break}if(/\b(x-webkit-deflate-frame)\b/.test(je)){Oe=!0,Ce.push("Sec-WebSocket-Extensions: x-webkit-deflate-frame");break}}}re.write(Ce.join(`\r
`)+`\r
\r
`),re.setTimeout(0),V?this._handleWebSocketConnection(new d.NodeSocket(re),fe,ie):this._handleWebSocketConnection(new d.WebSocketNodeSocket(new d.NodeSocket(re),Oe,null,!0),fe,ie)}handleServerError(ke){this._logService.error("Error occurred in server"),this._logService.error(ke)}async _cleanupOlderLogs(ke){const re=(0,Pe.basename)(ke),ie=(0,Pe.dirname)(ke),J=(await p.Promises.readdir(ie)).filter(oe=>/^\d{8}T\d{6}$/.test(oe)).sort().filter(oe=>oe!==re),ce=J.slice(0,Math.max(0,J.length-9));await Promise.all(ce.map(oe=>p.Promises.rm((0,Pe.join)(ie,oe))))}_getRemoteAddress(ke){let re;return ke instanceof d.NodeSocket?re=ke.socket:re=ke.socket.socket,re.remoteAddress||"<unknown>"}async _rejectWebSocketConnection(ke,re,ie){const fe=re.getSocket();this._logService.error(`${ke} ${ie}.`);const V={type:"error",reason:ie};re.sendControl(E.VSBuffer.fromString(JSON.stringify(V))),re.dispose(),await fe.drain(),fe.dispose()}_handleWebSocketConnection(ke,re,ie){const fe=this._getRemoteAddress(ke),V=`[${fe}][${ie.substr(0,8)}]`,J=new w.PersistentProtocol(ke);let ce,oe;try{const Ke=Z.__$__nodeRequire("vsda");ce=new Ke.validator,oe=new Ke.signer}catch(Ke){}let Ce;(function(Ke){Ke[Ke.WaitingForAuth=0]="WaitingForAuth",Ke[Ke.WaitingForConnectionType=1]="WaitingForConnectionType",Ke[Ke.Done=2]="Done",Ke[Ke.Error=3]="Error"})(Ce||(Ce={}));let Oe=0;const Re=Ke=>{Oe=3,je.dispose(),this._rejectWebSocketConnection(V,J,Ke)},je=J.onControlMessage(Ke=>{if(Oe===0){let Je;try{Je=JSON.parse(Ke.toString())}catch(M){return Re("Malformed first message")}if(Je.type!=="auth")return Re("Invalid first message");if(this._connectionTokenIsMandatory&&Je.auth!==this._connectionToken)return Re("Unauthorized client refused: auth mismatch");let le=(0,T.generateUuid)();if(oe)try{le=oe.sign(Je.data)}catch(M){}let ue=(0,T.generateUuid)();if(ce)try{ue=ce.createNewMessage(ue)}catch(M){}const Q={type:"sign",data:ue,signedData:le};J.sendControl(E.VSBuffer.fromString(JSON.stringify(Q))),Oe=1}else if(Oe===1){let Je;try{Je=JSON.parse(Ke.toString())}catch(M){return Re("Malformed second message")}if(Je.type!=="connectionType")return Re("Invalid second message");if(typeof Je.signedData!="string")return Re("Invalid second message field type");const le=Je.commit,ue=this._productService.commit;if(le&&ue&&le!==ue)return Re("Client refused: version mismatch");let Q=!1;if(!ce)Q=!0;else if(Je.signedData===this._connectionToken)Q=!0;else try{Q=ce.validate(Je.signedData)==="ok"}catch(M){}if(!Q){if(this._environmentService.isBuilt)return Re("Unauthorized client refused");this._logService.error(`${V} Unauthorized client handshake failed but we proceed because of dev mode.`)}for(let M in this._managementConnections)this._managementConnections[M].shortenReconnectionGraceTimeIfNecessary();for(let M in this._extHostConnections)this._extHostConnections[M].shortenReconnectionGraceTimeIfNecessary();Oe=2,je.dispose(),this._handleConnectionType(fe,V,J,ke,re,ie,Je)}})}async _handleConnectionType(ke,re,ie,fe,V,J,ce){const oe=ce.desiredConnectionType===1?`${re}[ManagementConnection]`:ce.desiredConnectionType===2?`${re}[ExtensionHostConnection]`:re;if(ce.desiredConnectionType===1)if(V){if(!this._managementConnections[J])return this._allReconnectionTokens.has(J)?this._rejectWebSocketConnection(oe,ie,"Unknown reconnection token (seen before)"):this._rejectWebSocketConnection(oe,ie,"Unknown reconnection token (never seen)");ie.sendControl(E.VSBuffer.fromString(JSON.stringify({type:"ok"})));const Ce=ie.readEntireBuffer();ie.dispose(),this._managementConnections[J].acceptReconnection(ke,fe,Ce)}else{if(this._managementConnections[J])return this._rejectWebSocketConnection(oe,ie,"Duplicate reconnection token");ie.sendControl(E.VSBuffer.fromString(JSON.stringify({type:"ok"})));const Ce=new g.ManagementConnection(this._logService,J,ke,ie);this._socketServer.acceptConnection(Ce.protocol,Ce.onClose),this._managementConnections[J]=Ce,this._allReconnectionTokens.add(J),Ce.onClose(()=>{delete this._managementConnections[J]})}else if(ce.desiredConnectionType===2){const Ce=ce.args||{language:"en"},Oe=await this._updateWithFreeDebugPort(Ce);if(Oe.port&&this._logService.trace(`${oe} - startParams debug port ${Oe.port}`),this._logService.trace(`${oe} - startParams language: ${Oe.language}`),this._logService.trace(`${oe} - startParams env: ${JSON.stringify(Oe.env)}`),V){if(!this._extHostConnections[J])return this._allReconnectionTokens.has(J)?this._rejectWebSocketConnection(oe,ie,"Unknown reconnection token (seen before)"):this._rejectWebSocketConnection(oe,ie,"Unknown reconnection token (never seen)");ie.sendControl(E.VSBuffer.fromString(JSON.stringify(Oe.port?{debugPort:Oe.port}:{})));const Re=ie.readEntireBuffer();ie.dispose(),this._extHostConnections[J].acceptReconnection(ke,fe,Re)}else{if(this._extHostConnections[J])return this._rejectWebSocketConnection(oe,ie,"Duplicate reconnection token");ie.sendControl(E.VSBuffer.fromString(JSON.stringify(Oe.port?{debugPort:Oe.port}:{})));const Re=ie.readEntireBuffer();ie.dispose();const je=new S.ExtensionHostConnection(this._environmentService,this._logService,J,ke,fe,Re);this._extHostConnections[J]=je,this._allReconnectionTokens.add(J),je.onClose(()=>{delete this._extHostConnections[J],this._onDidCloseExtHostConnection()}),je.start(Oe)}}else if(ce.desiredConnectionType===3){const Ce=ce.args;this._createTunnel(ie,Ce)}else return this._rejectWebSocketConnection(oe,ie,"Unknown initial data received")}async _createTunnel(ke,re){const ie=ke.getSocket().socket,fe=ke.readEntireBuffer();ke.dispose(),ie.pause();const V=await this._connectTunnelSocket(re.host,re.port);fe.byteLength>0&&V.write(fe.buffer),V.on("end",()=>ie.end()),V.on("close",()=>ie.end()),V.on("error",()=>ie.destroy()),ie.on("end",()=>V.end()),ie.on("close",()=>V.end()),ie.on("error",()=>V.destroy()),V.pipe(ie),ie.pipe(V)}_connectTunnelSocket(ke,re){return new Promise((ie,fe)=>{const V=y.createConnection({host:ke,port:re},()=>{V.removeListener("error",fe),V.pause(),ie(V)});V.once("error",fe)})}_updateWithFreeDebugPort(ke){return typeof ke.port=="number"?(0,b.findFreePort)(ke.port,10,5e3).then(re=>(ke.port=re,ke)):(ke.debugId=void 0,ke.port=void 0,ke.break=void 0,Promise.resolve(ke))}async _onDidCloseExtHostConnection(){if(!this._environmentService.args["enable-remote-auto-shutdown"])return;this._cancelShutdown(),!!Object.keys(this._extHostConnections).length||(console.log("Last EH closed, waiting before shutting down"),this._logService.info("Last EH closed, waiting before shutting down"),this._waitThenShutdown())}_waitThenShutdown(){!this._environmentService.args["enable-remote-auto-shutdown"]||(this._environmentService.args["remote-auto-shutdown-without-delay"]?this._shutdown():this.shutdownTimer=setTimeout(()=>{this.shutdownTimer=void 0,this._shutdown()},We))}_shutdown(){if(!!Object.keys(this._extHostConnections).length){console.log("New EH opened, aborting shutdown"),this._logService.info("New EH opened, aborting shutdown");return}else console.log("Last EH closed, shutting down"),this._logService.info("Last EH closed, shutting down"),this.dispose(),process.exit(0)}_delayShutdown(){this.shutdownTimer&&(console.log("Got delay-shutdown request while in shutdown timeout, delaying"),this._logService.info("Got delay-shutdown request while in shutdown timeout, delaying"),this._cancelShutdown(),this._waitThenShutdown())}_cancelShutdown(){this.shutdownTimer&&(console.log("Cancelling previous shutdown timeout"),this._logService.info("Cancelling previous shutdown timeout"),clearTimeout(this.shutdownTimer),this.shutdownTimer=void 0)}}e.RemoteExtensionHostAgentServer=Te;function $e(Ue){if(Ue["connection-secret"]){Ue.connectionToken&&(console.warn("Please do not use the argument connectionToken at the same time as connection-secret."),process.exit(1));let ke=_.readFileSync(Ue["connection-secret"]).toString();return ke=ke.replace(/\r?\n$/,""),/^[0-9A-Za-z\-]+$/.test(ke)||(console.warn(`The secret defined in ${Ue["connection-secret"]} does not adhere to the characters 0-9, a-z, A-Z or -.`),process.exit(1)),{connectionToken:ke,connectionTokenIsMandatory:!0}}else return{connectionToken:Ue.connectionToken||(0,T.generateUuid)(),connectionTokenIsMandatory:!1}}async function Ve(Ue,ke,re){const ie={_serviceBrand:void 0,...n.default},fe=new ve.ServerEnvironmentService(ke,ie);if(process.platform==="win32"&&process.env.HOMEDRIVE&&process.env.HOMEPATH){const le=(0,Pe.join)(process.env.HOMEDRIVE,"node_modules"),ue=(0,Pe.dirname)((0,Pe.join)(process.env.HOMEDRIVE,process.env.HOMEPATH)),Q=(0,Pe.join)(ue,"node_modules");if(_.existsSync(le)||_.existsSync(Q)){const M=`

*
* !!!! Server terminated due to presence of CVE-2020-1416 !!!!
*
* Please remove the following directories and re-try
* ${le}
* ${Q}
*
* For more information on the vulnerability https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-1416
*

`;et(fe).warn(M),console.warn(M),process.exit(0)}}const{connectionToken:V,connectionTokenIsMandatory:J}=$e(ke),ce=_.existsSync(l.FileAccess.asFileUri("vs/code/browser/workbench/workbench.html",Z).fsPath);ce&&Ue&&typeof Ue!="string"&&console.log(`Web UI available at http://localhost${Ue.port===80?"":`:${Ue.port}`}/?tkn=${V}`);const oe=new Te(fe,ie,V,J,ce,re),Ce=await oe.initialize(),{telemetryService:Oe}=Ce;k.mark("code/server/ready");const Re=m.performance.now(),je=global.vscodeServerStartTime,Ke=global.vscodeServerListenTime,Je=global.vscodeServerCodeLoadedTime;if(Oe.publicLog2("serverStart",{startTime:je,startedTime:Ke,codeLoadedTime:Je,readyTime:Re}),ke["print-startup-performance"]){const le=He.LoaderStats.get();let ue="";ue+=`

### Load AMD-module
`,ue+=He.LoaderStats.toMarkdownTable(["Module","Duration"],le.amdLoad),ue+=`

### Load commonjs-module
`,ue+=He.LoaderStats.toMarkdownTable(["Module","Duration"],le.nodeRequire),ue+=`

### Invoke AMD-module factory
`,ue+=He.LoaderStats.toMarkdownTable(["Module","Duration"],le.amdInvoke),ue+=`

### Invoke commonjs-module
`,ue+=He.LoaderStats.toMarkdownTable(["Module","Duration"],le.nodeEval),ue+=`Start-up time: ${Ke-je}
`,ue+=`Code loading time: ${Je-je}
`,ue+=`Initialized time: ${Re-je}
`,ue+=`
`,console.log(ue)}return oe}e.createServer=Ve;const et=function(){let Ue;return function(re){return Ue||(Ue=new a.LogService(new ot.SpdLogLogger(Ye.RemoteExtensionLogFileName,(0,Pe.join)(re.logsPath,`${Ye.RemoteExtensionLogFileName}.log`),!0,(0,a.getLogLevel)(re)))),Ue}}()}),define(he[256],de([0,1,25,30,8,242,245,61,3,246,72,45]),function(Z,e,P,_,y,C,I,k,m,E,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createServer=e.spawnCli=void 0,T.mark("code/server/codeLoaded"),global.vscodeServerCodeLoadedTime=E.performance.now();const p={onMultipleValues:(s,r)=>{console.error(`Option ${s} can only be defined once. Using value ${r}.`)},onUnknownOption:s=>{console.error(`Ignoring option ${s}: not supported for server.`)}},b=(0,k.parseArgs)(process.argv.slice(2),i.serverOptions,p),f=process.env.VSCODE_AGENT_FOLDER||(0,m.join)(P.homedir(),".vscode-remote"),w=(0,m.join)(f,"data"),d=(0,m.join)(w,"User"),S=(0,m.join)(d,"globalStorage"),g=(0,m.join)(w,"Machine");b["user-data-dir"]=w;const c=(0,m.dirname)(y.FileAccess.asFileUri("",Z).fsPath),a=(0,m.join)(c,"extensions");b["builtin-extensions-dir"]=a,b["extensions-dir"]=b["extensions-dir"]||(0,m.join)(f,"extensions"),[f,b["extensions-dir"],w,d,g,S].forEach(s=>{try{_.existsSync(s)||_.mkdirSync(s)}catch(r){console.error(r)}});function l(){(0,C.run)(b,f)}e.spawnCli=l;function n(s){return(0,I.createServer)(s,b,f)}e.createServer=n})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/b3318bc0524af3d74034b8bb8a64df0ccf35549a/core/vs/server/remoteExtensionHostAgent.js.map
